webpackJsonpac__name_([4],{"./node_modules/d3/d3.js":function(t,e,n){var i,r;!function(){function a(t){return t&&(t.ownerDocument||t.document||t).documentElement}function o(t){return t&&(t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView)}function s(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function l(t){return null===t?NaN:+t}function u(t){return!isNaN(t)}function c(t){return{left:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)<0?i=a+1:r=a}return i},right:function(e,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=e.length);i<r;){var a=i+r>>>1;t(e[a],n)>0?r=a:i=a+1}return i}}}function h(t){return t.length}function d(t){for(var e=1;t*e%1;)e*=10;return e}function f(t,e){for(var n in e)Object.defineProperty(t.prototype,n,{value:e[n],enumerable:!1})}function p(){this._=Object.create(null)}function g(t){return(t+="")===So||t[0]===Ao?Ao+t:t}function v(t){return(t+="")[0]===Ao?t.slice(1):t}function m(t){return g(t)in this._}function y(t){return(t=g(t))in this._&&delete this._[t]}function x(){var t=[];for(var e in this._)t.push(v(e));return t}function b(){var t=0;for(var e in this._)++t;return t}function k(){for(var t in this._)return!1;return!0}function w(){this._=Object.create(null)}function M(t){return t}function _(t,e,n){return function(){var i=n.apply(e,arguments);return i===e?t:i}}function C(t,e){if(e in t)return e;e=e.charAt(0).toUpperCase()+e.slice(1);for(var n=0,i=Eo.length;n<i;++n){var r=Eo[n]+e;if(r in t)return r}}function S(){}function A(){}function E(t){function e(){for(var e,i=n,r=-1,a=i.length;++r<a;)(e=i[r].on)&&e.apply(this,arguments);return t}var n=[],i=new p;return e.on=function(e,r){var a,o=i.get(e);return arguments.length<2?o&&o.on:(o&&(o.on=null,n=n.slice(0,a=n.indexOf(o)).concat(n.slice(a+1)),i.remove(e)),r&&n.push(i.set(e,{on:r})),t)},e}function T(){fo.event.preventDefault()}function F(){for(var t,e=fo.event;t=e.sourceEvent;)e=t;return e}function D(t){for(var e=new A,n=0,i=arguments.length;++n<i;)e[arguments[n]]=E(e);return e.of=function(n,i){return function(r){try{var a=r.sourceEvent=fo.event;r.target=t,fo.event=r,e[r.type].apply(n,i)}finally{fo.event=a}}},e}function z(t){return Fo(t,Lo),t}function N(t){return"function"==typeof t?t:function(){return Do(t,this)}}function L(t){return"function"==typeof t?t:function(){return zo(t,this)}}function W(t,e){function n(){this.removeAttribute(t)}function i(){this.removeAttributeNS(t.space,t.local)}function r(){this.setAttribute(t,e)}function a(){this.setAttributeNS(t.space,t.local,e)}function o(){var n=e.apply(this,arguments);null==n?this.removeAttribute(t):this.setAttribute(t,n)}function s(){var n=e.apply(this,arguments);null==n?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}return t=fo.ns.qualify(t),null==e?t.local?i:n:"function"==typeof e?t.local?s:o:t.local?a:r}function P(t){return t.trim().replace(/\s+/g," ")}function I(t){return new RegExp("(?:^|\\s+)"+fo.requote(t)+"(?:\\s+|$)","g")}function O(t){return(t+"").trim().split(/^|\s+/)}function R(t,e){function n(){for(var n=-1;++n<r;)t[n](this,e)}function i(){for(var n=-1,i=e.apply(this,arguments);++n<r;)t[n](this,i)}t=O(t).map(j);var r=t.length;return"function"==typeof e?i:n}function j(t){var e=I(t);return function(n,i){if(r=n.classList)return i?r.add(t):r.remove(t);var r=n.getAttribute("class")||"";i?(e.lastIndex=0,e.test(r)||n.setAttribute("class",P(r+" "+t))):n.setAttribute("class",P(r.replace(e," ")))}}function H(t,e,n){function i(){this.style.removeProperty(t)}function r(){this.style.setProperty(t,e,n)}function a(){var i=e.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,n)}return null==e?i:"function"==typeof e?a:r}function B(t,e){function n(){delete this[t]}function i(){this[t]=e}function r(){var n=e.apply(this,arguments);null==n?delete this[t]:this[t]=n}return null==e?n:"function"==typeof e?r:i}function G(t){function e(){var e=this.ownerDocument,n=this.namespaceURI;return n===Wo&&e.documentElement.namespaceURI===Wo?e.createElement(t):e.createElementNS(n,t)}function n(){return this.ownerDocument.createElementNS(t.space,t.local)}return"function"==typeof t?t:(t=fo.ns.qualify(t)).local?n:e}function q(){var t=this.parentNode;t&&t.removeChild(this)}function Y(t){return{__data__:t}}function V(t){return function(){return No(this,t)}}function U(t){return arguments.length||(t=s),function(e,n){return e&&n?t(e.__data__,n.__data__):!e-!n}}function X(t,e){for(var n=0,i=t.length;n<i;n++)for(var r,a=t[n],o=0,s=a.length;o<s;o++)(r=a[o])&&e(r,o,n);return t}function Z(t){return Fo(t,Io),t}function $(t){var e,n;return function(i,r,a){var o,s=t[a].update,l=s.length;for(a!=n&&(n=a,e=0),r>=e&&(e=r+1);!(o=s[e])&&++e<l;);return o}}function J(t,e,n){function i(){var e=this[o];e&&(this.removeEventListener(t,e,e.$),delete this[o])}function r(){var r=l(e,go(arguments));i.call(this),this.addEventListener(t,this[o]=r,r.$=n),r._=e}function a(){var e,n=new RegExp("^__on([^.]+)"+fo.requote(t)+"$");for(var i in this)if(e=i.match(n)){var r=this[i];this.removeEventListener(e[1],r,r.$),delete this[i]}}var o="__on"+t,s=t.indexOf("."),l=Q;s>0&&(t=t.slice(0,s));var u=Oo.get(t);return u&&(t=u,l=K),s?e?r:i:e?S:a}function Q(t,e){return function(n){var i=fo.event;fo.event=n,e[0]=this.__data__;try{t.apply(this,e)}finally{fo.event=i}}}function K(t,e){var n=Q(t,e);return function(t){var e=this,i=t.relatedTarget;i&&(i===e||8&i.compareDocumentPosition(e))||n.call(e,t)}}function tt(t){var e=".dragsuppress-"+ ++jo,n="click"+e,i=fo.select(o(t)).on("touchmove"+e,T).on("dragstart"+e,T).on("selectstart"+e,T);if(null==Ro&&(Ro=!("onselectstart"in t)&&C(t.style,"userSelect")),Ro){var r=a(t).style,s=r[Ro];r[Ro]="none"}return function(t){if(i.on(e,null),Ro&&(r[Ro]=s),t){var a=function(){i.on(n,null)};i.on(n,function(){T(),a()},!0),setTimeout(a,0)}}}function et(t,e){e.changedTouches&&(e=e.changedTouches[0]);var n=t.ownerSVGElement||t;if(n.createSVGPoint){var i=n.createSVGPoint();if(Ho<0){var r=o(t);if(r.scrollX||r.scrollY){n=fo.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important");var a=n[0][0].getScreenCTM();Ho=!(a.f||a.e),n.remove()}}return Ho?(i.x=e.pageX,i.y=e.pageY):(i.x=e.clientX,i.y=e.clientY),i=i.matrixTransform(t.getScreenCTM().inverse()),[i.x,i.y]}var s=t.getBoundingClientRect();return[e.clientX-s.left-t.clientLeft,e.clientY-s.top-t.clientTop]}function nt(){return fo.event.changedTouches[0].identifier}function it(t){return t>0?1:t<0?-1:0}function rt(t,e,n){return(e[0]-t[0])*(n[1]-t[1])-(e[1]-t[1])*(n[0]-t[0])}function at(t){return t>1?0:t<-1?qo:Math.acos(t)}function ot(t){return t>1?Uo:t<-1?-Uo:Math.asin(t)}function st(t){return((t=Math.exp(t))-1/t)/2}function lt(t){return((t=Math.exp(t))+1/t)/2}function ut(t){return((t=Math.exp(2*t))-1)/(t+1)}function ct(t){return(t=Math.sin(t/2))*t}function ht(){}function dt(t,e,n){return this instanceof dt?(this.h=+t,this.s=+e,void(this.l=+n)):arguments.length<2?t instanceof dt?new dt(t.h,t.s,t.l):St(""+t,At,dt):new dt(t,e,n)}function ft(t,e,n){function i(t){return t>360?t-=360:t<0&&(t+=360),t<60?a+(o-a)*t/60:t<180?o:t<240?a+(o-a)*(240-t)/60:a}function r(t){return Math.round(255*i(t))}var a,o;return t=isNaN(t)?0:(t%=360)<0?t+360:t,e=isNaN(e)?0:e<0?0:e>1?1:e,n=n<0?0:n>1?1:n,o=n<=.5?n*(1+e):n+e-n*e,a=2*n-o,new wt(r(t+120),r(t),r(t-120))}function pt(t,e,n){return this instanceof pt?(this.h=+t,this.c=+e,void(this.l=+n)):arguments.length<2?t instanceof pt?new pt(t.h,t.c,t.l):t instanceof vt?yt(t.l,t.a,t.b):yt((t=Et((t=fo.rgb(t)).r,t.g,t.b)).l,t.a,t.b):new pt(t,e,n)}function gt(t,e,n){return isNaN(t)&&(t=0),isNaN(e)&&(e=0),new vt(n,Math.cos(t*=Xo)*e,Math.sin(t)*e)}function vt(t,e,n){return this instanceof vt?(this.l=+t,this.a=+e,void(this.b=+n)):arguments.length<2?t instanceof vt?new vt(t.l,t.a,t.b):t instanceof pt?gt(t.h,t.c,t.l):Et((t=wt(t)).r,t.g,t.b):new vt(t,e,n)}function mt(t,e,n){var i=(t+16)/116,r=i+e/500,a=i-n/200;return r=xt(r)*as,i=xt(i)*os,a=xt(a)*ss,new wt(kt(3.2404542*r-1.5371385*i-.4985314*a),kt(-.969266*r+1.8760108*i+.041556*a),kt(.0556434*r-.2040259*i+1.0572252*a))}function yt(t,e,n){return t>0?new pt(Math.atan2(n,e)*Zo,Math.sqrt(e*e+n*n),t):new pt(NaN,NaN,t)}function xt(t){return t>.206893034?t*t*t:(t-4/29)/7.787037}function bt(t){return t>.008856?Math.pow(t,1/3):7.787037*t+4/29}function kt(t){return Math.round(255*(t<=.00304?12.92*t:1.055*Math.pow(t,1/2.4)-.055))}function wt(t,e,n){return this instanceof wt?(this.r=~~t,this.g=~~e,void(this.b=~~n)):arguments.length<2?t instanceof wt?new wt(t.r,t.g,t.b):St(""+t,wt,ft):new wt(t,e,n)}function Mt(t){return new wt(t>>16,t>>8&255,255&t)}function _t(t){return Mt(t)+""}function Ct(t){return t<16?"0"+Math.max(0,t).toString(16):Math.min(255,t).toString(16)}function St(t,e,n){var i,r,a,o=0,s=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(t=t.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return e(Ft(r[0]),Ft(r[1]),Ft(r[2]))}return(a=cs.get(t))?e(a.r,a.g,a.b):(null==t||"#"!==t.charAt(0)||isNaN(a=parseInt(t.slice(1),16))||(4===t.length?(o=(3840&a)>>4,o=o>>4|o,s=240&a,s=s>>4|s,l=15&a,l=l<<4|l):7===t.length&&(o=(16711680&a)>>16,s=(65280&a)>>8,l=255&a)),e(o,s,l))}function At(t,e,n){var i,r,a=Math.min(t/=255,e/=255,n/=255),o=Math.max(t,e,n),s=o-a,l=(o+a)/2;return s?(r=l<.5?s/(o+a):s/(2-o-a),i=t==o?(e-n)/s+(e<n?6:0):e==o?(n-t)/s+2:(t-e)/s+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new dt(i,r,l)}function Et(t,e,n){t=Tt(t),e=Tt(e),n=Tt(n);var i=bt((.4124564*t+.3575761*e+.1804375*n)/as),r=bt((.2126729*t+.7151522*e+.072175*n)/os),a=bt((.0193339*t+.119192*e+.9503041*n)/ss);return vt(116*r-16,500*(i-r),200*(r-a))}function Tt(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function Ft(t){var e=parseFloat(t);return"%"===t.charAt(t.length-1)?Math.round(2.55*e):e}function Dt(t){return"function"==typeof t?t:function(){return t}}function zt(t){return function(e,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),Nt(e,n,t,i)}}function Nt(t,e,n,i){function r(){var t,e=l.status;if(!e&&Wt(l)||e>=200&&e<300||304===e){try{t=n.call(a,l)}catch(i){return void o.error.call(a,i)}o.load.call(a,t)}else o.error.call(a,l)}var a={},o=fo.dispatch("beforesend","progress","load","error"),s={},l=new XMLHttpRequest,u=null;return!this.XDomainRequest||"withCredentials"in l||!/^(http(s)?:)?\/\//.test(t)||(l=new XDomainRequest),"onload"in l?l.onload=l.onerror=r:l.onreadystatechange=function(){l.readyState>3&&r()},l.onprogress=function(t){var e=fo.event;fo.event=t;try{o.progress.call(a,l)}finally{fo.event=e}},a.header=function(t,e){return t=(t+"").toLowerCase(),arguments.length<2?s[t]:(null==e?delete s[t]:s[t]=e+"",a)},a.mimeType=function(t){return arguments.length?(e=null==t?null:t+"",a):e},a.responseType=function(t){return arguments.length?(u=t,a):u},a.response=function(t){return n=t,a},["get","post"].forEach(function(t){a[t]=function(){return a.send.apply(a,[t].concat(go(arguments)))}}),a.send=function(n,i,r){if(2===arguments.length&&"function"==typeof i&&(r=i,i=null),l.open(n,t,!0),null==e||"accept"in s||(s.accept=e+",*/*"),l.setRequestHeader)for(var c in s)l.setRequestHeader(c,s[c]);return null!=e&&l.overrideMimeType&&l.overrideMimeType(e),null!=u&&(l.responseType=u),null!=r&&a.on("error",r).on("load",function(t){r(null,t)}),o.beforesend.call(a,l),l.send(null==i?null:i),a},a.abort=function(){return l.abort(),a},fo.rebind(a,o,"on"),null==i?a:a.get(Lt(i))}function Lt(t){return 1===t.length?function(e,n){t(null==e?n:null)}:t}function Wt(t){var e=t.responseType;return e&&"text"!==e?t.response:t.responseText}function Pt(t,e,n){var i=arguments.length;i<2&&(e=0),i<3&&(n=Date.now());var r=n+e,a={c:t,t:r,n:null};return ds?ds.n=a:hs=a,ds=a,fs||(ps=clearTimeout(ps),fs=1,gs(It)),a}function It(){var t=Ot(),e=Rt()-t;e>24?(isFinite(e)&&(clearTimeout(ps),ps=setTimeout(It,e)),fs=0):(fs=1,gs(It))}function Ot(){for(var t=Date.now(),e=hs;e;)t>=e.t&&e.c(t-e.t)&&(e.c=null),e=e.n;return t}function Rt(){for(var t,e=hs,n=1/0;e;)e.c?(e.t<n&&(n=e.t),e=(t=e).n):e=t?t.n=e.n:hs=e.n;return ds=t,n}function jt(t,e){return e-(t?Math.ceil(Math.log(t)/Math.LN10):1)}function Ht(t,e){var n=Math.pow(10,3*Co(8-e));return{scale:e>8?function(t){return t/n}:function(t){return t*n},symbol:t}}function Bt(t){var e=t.decimal,n=t.thousands,i=t.grouping,r=t.currency,a=i&&n?function(t,e){for(var r=t.length,a=[],o=0,s=i[0],l=0;r>0&&s>0&&(l+s+1>e&&(s=Math.max(1,e-l)),a.push(t.substring(r-=s,r+s)),!((l+=s+1)>e));)s=i[o=(o+1)%i.length];return a.reverse().join(n)}:M;return function(t){var n=ms.exec(t),i=n[1]||" ",o=n[2]||">",s=n[3]||"-",l=n[4]||"",u=n[5],c=+n[6],h=n[7],d=n[8],f=n[9],p=1,g="",v="",m=!1,y=!0;switch(d&&(d=+d.substring(1)),(u||"0"===i&&"="===o)&&(u=i="0",o="="),f){case"n":h=!0,f="g";break;case"%":p=100,v="%",f="f";break;case"p":p=100,v="%",f="r";break;case"b":case"o":case"x":case"X":"#"===l&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":m=!0,d=0;break;case"s":p=-1,f="r"}"$"===l&&(g=r[0],v=r[1]),"r"!=f||d||(f="g"),null!=d&&("g"==f?d=Math.max(1,Math.min(21,d)):"e"!=f&&"f"!=f||(d=Math.max(0,Math.min(20,d)))),f=ys.get(f)||Gt;var x=u&&h;return function(t){var n=v;if(m&&t%1)return"";var r=t<0||0===t&&1/t<0?(t=-t,"-"):"-"===s?"":s;if(p<0){var l=fo.formatPrefix(t,d);t=l.scale(t),n=l.symbol+v}else t*=p;t=f(t,d);var b,k,w=t.lastIndexOf(".");if(w<0){var M=y?t.lastIndexOf("e"):-1;M<0?(b=t,k=""):(b=t.substring(0,M),k=t.substring(M))}else b=t.substring(0,w),k=e+t.substring(w+1);!u&&h&&(b=a(b,1/0));var _=g.length+b.length+k.length+(x?0:r.length),C=_<c?new Array(_=c-_+1).join(i):"";return x&&(b=a(C+b,C.length?c-k.length:1/0)),r+=g,t=b+k,("<"===o?r+t+C:">"===o?C+r+t:"^"===o?C.substring(0,_>>=1)+r+t+C.substring(_):r+(x?t:C+t))+n}}}function Gt(t){return t+""}function qt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}function Yt(t,e,n){function i(e){var n=t(e),i=a(n,1);return e-n<i-e?n:i}function r(n){return e(n=t(new bs(n-1)),1),n}function a(t,n){return e(t=new bs((+t)),n),t}function o(t,i,a){var o=r(t),s=[];if(a>1)for(;o<i;)n(o)%a||s.push(new Date((+o))),e(o,1);else for(;o<i;)s.push(new Date((+o))),e(o,1);return s}function s(t,e,n){try{bs=qt;var i=new qt;return i._=t,o(i,e,n)}finally{bs=Date}}t.floor=t,t.round=i,t.ceil=r,t.offset=a,t.range=o;var l=t.utc=Vt(t);return l.floor=l,l.round=Vt(i),l.ceil=Vt(r),l.offset=Vt(a),l.range=s,t}function Vt(t){return function(e,n){try{bs=qt;var i=new qt;return i._=e,t(i,n)._}finally{bs=Date}}}function Ut(t){function e(t){function e(e){for(var n,r,a,o=[],s=-1,l=0;++s<i;)37===t.charCodeAt(s)&&(o.push(t.slice(l,s)),null!=(r=ws[n=t.charAt(++s)])&&(n=t.charAt(++s)),(a=E[n])&&(n=a(e,null==r?"e"===n?" ":"0":r)),o.push(n),l=s+1);return o.push(t.slice(l,s)),o.join("")}var i=t.length;return e.parse=function(e){var i={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null},r=n(i,t,e,0);if(r!=e.length)return null;"p"in i&&(i.H=i.H%12+12*i.p);var a=null!=i.Z&&bs!==qt,o=new(a?qt:bs);return"j"in i?o.setFullYear(i.y,0,i.j):"W"in i||"U"in i?("w"in i||(i.w="W"in i?1:0),o.setFullYear(i.y,0,1),o.setFullYear(i.y,0,"W"in i?(i.w+6)%7+7*i.W-(o.getDay()+5)%7:i.w+7*i.U-(o.getDay()+6)%7)):o.setFullYear(i.y,i.m,i.d),o.setHours(i.H+(i.Z/100|0),i.M+i.Z%100,i.S,i.L),a?o._:o},e.toString=function(){return t},e}function n(t,e,n,i){for(var r,a,o,s=0,l=e.length,u=n.length;s<l;){if(i>=u)return-1;if(r=e.charCodeAt(s++),37===r){if(o=e.charAt(s++),a=T[o in ws?e.charAt(s++):o],!a||(i=a(t,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}function i(t,e,n){w.lastIndex=0;var i=w.exec(e.slice(n));return i?(t.w=M.get(i[0].toLowerCase()),n+i[0].length):-1}function r(t,e,n){b.lastIndex=0;var i=b.exec(e.slice(n));return i?(t.w=k.get(i[0].toLowerCase()),n+i[0].length):-1}function a(t,e,n){S.lastIndex=0;var i=S.exec(e.slice(n));return i?(t.m=A.get(i[0].toLowerCase()),n+i[0].length):-1}function o(t,e,n){_.lastIndex=0;var i=_.exec(e.slice(n));return i?(t.m=C.get(i[0].toLowerCase()),n+i[0].length):-1}function s(t,e,i){return n(t,E.c.toString(),e,i)}function l(t,e,i){return n(t,E.x.toString(),e,i)}function u(t,e,i){return n(t,E.X.toString(),e,i)}function c(t,e,n){var i=x.get(e.slice(n,n+=2).toLowerCase());return null==i?-1:(t.p=i,n)}var h=t.dateTime,d=t.date,f=t.time,p=t.periods,g=t.days,v=t.shortDays,m=t.months,y=t.shortMonths;e.utc=function(t){function n(t){try{bs=qt;var e=new bs;return e._=t,i(e)}finally{bs=Date}}var i=e(t);return n.parse=function(t){try{bs=qt;var e=i.parse(t);return e&&e._}finally{bs=Date}},n.toString=i.toString,n},e.multi=e.utc.multi=fe;var x=fo.map(),b=Zt(g),k=$t(g),w=Zt(v),M=$t(v),_=Zt(m),C=$t(m),S=Zt(y),A=$t(y);p.forEach(function(t,e){x.set(t.toLowerCase(),e)});var E={a:function(t){return v[t.getDay()]},A:function(t){return g[t.getDay()]},b:function(t){return y[t.getMonth()]},B:function(t){return m[t.getMonth()]},c:e(h),d:function(t,e){return Xt(t.getDate(),e,2)},e:function(t,e){return Xt(t.getDate(),e,2)},H:function(t,e){return Xt(t.getHours(),e,2)},I:function(t,e){return Xt(t.getHours()%12||12,e,2)},j:function(t,e){return Xt(1+xs.dayOfYear(t),e,3)},L:function(t,e){return Xt(t.getMilliseconds(),e,3)},m:function(t,e){return Xt(t.getMonth()+1,e,2)},M:function(t,e){return Xt(t.getMinutes(),e,2)},p:function(t){return p[+(t.getHours()>=12)]},S:function(t,e){return Xt(t.getSeconds(),e,2)},U:function(t,e){return Xt(xs.sundayOfYear(t),e,2)},w:function(t){return t.getDay()},W:function(t,e){return Xt(xs.mondayOfYear(t),e,2)},x:e(d),X:e(f),y:function(t,e){return Xt(t.getFullYear()%100,e,2)},Y:function(t,e){return Xt(t.getFullYear()%1e4,e,4)},Z:he,"%":function(){return"%"}},T={a:i,A:r,b:a,B:o,c:s,d:ae,e:ae,H:se,I:se,j:oe,L:ce,m:re,M:le,p:c,S:ue,U:Qt,w:Jt,W:Kt,x:l,X:u,y:ee,Y:te,Z:ne,"%":de};return e}function Xt(t,e,n){var i=t<0?"-":"",r=(i?-t:t)+"",a=r.length;return i+(a<n?new Array(n-a+1).join(e)+r:r)}function Zt(t){return new RegExp("^(?:"+t.map(fo.requote).join("|")+")","i")}function $t(t){for(var e=new p,n=-1,i=t.length;++n<i;)e.set(t[n].toLowerCase(),n);return e}function Jt(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+1));return i?(t.w=+i[0],n+i[0].length):-1}function Qt(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n));return i?(t.U=+i[0],n+i[0].length):-1}function Kt(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n));return i?(t.W=+i[0],n+i[0].length):-1}function te(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+4));return i?(t.y=+i[0],n+i[0].length):-1}function ee(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+2));return i?(t.y=ie(+i[0]),n+i[0].length):-1}function ne(t,e,n){return/^[+-]\d{4}$/.test(e=e.slice(n,n+5))?(t.Z=-e,n+5):-1}function ie(t){return t+(t>68?1900:2e3)}function re(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+2));return i?(t.m=i[0]-1,n+i[0].length):-1}function ae(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+2));return i?(t.d=+i[0],n+i[0].length):-1}function oe(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+3));return i?(t.j=+i[0],n+i[0].length):-1}function se(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+2));return i?(t.H=+i[0],n+i[0].length):-1}function le(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+2));return i?(t.M=+i[0],n+i[0].length):-1}function ue(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+2));return i?(t.S=+i[0],n+i[0].length):-1}function ce(t,e,n){Ms.lastIndex=0;var i=Ms.exec(e.slice(n,n+3));return i?(t.L=+i[0],n+i[0].length):-1}function he(t){var e=t.getTimezoneOffset(),n=e>0?"-":"+",i=Co(e)/60|0,r=Co(e)%60;return n+Xt(i,"0",2)+Xt(r,"0",2)}function de(t,e,n){_s.lastIndex=0;var i=_s.exec(e.slice(n,n+1));return i?n+i[0].length:-1}function fe(t){for(var e=t.length,n=-1;++n<e;)t[n][0]=this(t[n][0]);return function(e){for(var n=0,i=t[n];!i[1](e);)i=t[++n];return i[0](e)}}function pe(){}function ge(t,e,n){var i=n.s=t+e,r=i-t,a=i-r;n.t=t-a+(e-r)}function ve(t,e){t&&Es.hasOwnProperty(t.type)&&Es[t.type](t,e)}function me(t,e,n){var i,r=-1,a=t.length-n;for(e.lineStart();++r<a;)i=t[r],e.point(i[0],i[1],i[2]);e.lineEnd()}function ye(t,e){var n=-1,i=t.length;for(e.polygonStart();++n<i;)me(t[n],e,1);e.polygonEnd()}function xe(){function t(t,e){t*=Xo,e=e*Xo/2+qo/4;var n=t-i,o=n>=0?1:-1,s=o*n,l=Math.cos(e),u=Math.sin(e),c=a*u,h=r*l+c*Math.cos(s),d=c*o*Math.sin(s);Fs.add(Math.atan2(d,h)),i=t,r=l,a=u}var e,n,i,r,a;Ds.point=function(o,s){Ds.point=t,i=(e=o)*Xo,r=Math.cos(s=(n=s)*Xo/2+qo/4),a=Math.sin(s)},Ds.lineEnd=function(){t(e,n)}}function be(t){var e=t[0],n=t[1],i=Math.cos(n);return[i*Math.cos(e),i*Math.sin(e),Math.sin(n)]}function ke(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function we(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function Me(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function _e(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function Ce(t){var e=Math.sqrt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function Se(t){return[Math.atan2(t[1],t[0]),ot(t[2])]}function Ae(t,e){return Co(t[0]-e[0])<Bo&&Co(t[1]-e[1])<Bo}function Ee(t,e){t*=Xo;var n=Math.cos(e*=Xo);Te(n*Math.cos(t),n*Math.sin(t),Math.sin(e))}function Te(t,e,n){++zs,Ls+=(t-Ls)/zs,Ws+=(e-Ws)/zs,Ps+=(n-Ps)/zs}function Fe(){function t(t,r){t*=Xo;var a=Math.cos(r*=Xo),o=a*Math.cos(t),s=a*Math.sin(t),l=Math.sin(r),u=Math.atan2(Math.sqrt((u=n*l-i*s)*u+(u=i*o-e*l)*u+(u=e*s-n*o)*u),e*o+n*s+i*l);Ns+=u,Is+=u*(e+(e=o)),Os+=u*(n+(n=s)),Rs+=u*(i+(i=l)),Te(e,n,i)}var e,n,i;Gs.point=function(r,a){r*=Xo;var o=Math.cos(a*=Xo);e=o*Math.cos(r),n=o*Math.sin(r),i=Math.sin(a),Gs.point=t,Te(e,n,i)}}function De(){Gs.point=Ee}function ze(){function t(t,e){t*=Xo;var n=Math.cos(e*=Xo),o=n*Math.cos(t),s=n*Math.sin(t),l=Math.sin(e),u=r*l-a*s,c=a*o-i*l,h=i*s-r*o,d=Math.sqrt(u*u+c*c+h*h),f=i*o+r*s+a*l,p=d&&-at(f)/d,g=Math.atan2(d,f);js+=p*u,Hs+=p*c,Bs+=p*h,Ns+=g,Is+=g*(i+(i=o)),Os+=g*(r+(r=s)),Rs+=g*(a+(a=l)),Te(i,r,a)}var e,n,i,r,a;Gs.point=function(o,s){e=o,n=s,Gs.point=t,o*=Xo;var l=Math.cos(s*=Xo);i=l*Math.cos(o),r=l*Math.sin(o),a=Math.sin(s),Te(i,r,a)},Gs.lineEnd=function(){t(e,n),Gs.lineEnd=De,Gs.point=Ee}}function Ne(t,e){function n(n,i){return n=t(n,i),e(n[0],n[1])}return t.invert&&e.invert&&(n.invert=function(n,i){return n=e.invert(n,i),n&&t.invert(n[0],n[1])}),n}function Le(){return!0}function We(t,e,n,i,r){var a=[],o=[];if(t.forEach(function(t){if(!((e=t.length-1)<=0)){var e,n=t[0],i=t[e];if(Ae(n,i)){r.lineStart();for(var s=0;s<e;++s)r.point((n=t[s])[0],n[1]);return void r.lineEnd()}var l=new Ie(n,t,null,(!0)),u=new Ie(n,null,l,(!1));l.o=u,a.push(l),o.push(u),l=new Ie(i,t,null,(!1)),u=new Ie(i,null,l,(!0)),l.o=u,a.push(l),o.push(u)}}),o.sort(e),Pe(a),Pe(o),a.length){for(var s=0,l=n,u=o.length;s<u;++s)o[s].e=l=!l;for(var c,h,d=a[0];;){for(var f=d,p=!0;f.v;)if((f=f.n)===d)return;c=f.z,r.lineStart();do{if(f.v=f.o.v=!0,f.e){if(p)for(var s=0,u=c.length;s<u;++s)r.point((h=c[s])[0],h[1]);else i(f.x,f.n.x,1,r);f=f.n}else{if(p){c=f.p.z;for(var s=c.length-1;s>=0;--s)r.point((h=c[s])[0],h[1])}else i(f.x,f.p.x,-1,r);f=f.p}f=f.o,c=f.z,p=!p}while(!f.v);r.lineEnd()}}}function Pe(t){if(e=t.length){for(var e,n,i=0,r=t[0];++i<e;)r.n=n=t[i],n.p=r,r=n;r.n=n=t[0],n.p=r}}function Ie(t,e,n,i){this.x=t,this.z=e,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function Oe(t,e,n,i){return function(r,a){function o(e,n){var i=r(e,n);t(e=i[0],n=i[1])&&a.point(e,n)}function s(t,e){var n=r(t,e);v.point(n[0],n[1])}function l(){y.point=s,v.lineStart()}function u(){y.point=o,v.lineEnd()}function c(t,e){g.push([t,e]);var n=r(t,e);b.point(n[0],n[1])}function h(){b.lineStart(),g=[]}function d(){c(g[0][0],g[0][1]),b.lineEnd();var t,e=b.clean(),n=x.buffer(),i=n.length;if(g.pop(),p.push(g),g=null,i)if(1&e){t=n[0];var r,i=t.length-1,o=-1;if(i>0){for(k||(a.polygonStart(),k=!0),a.lineStart();++o<i;)a.point((r=t[o])[0],r[1]);a.lineEnd()}}else i>1&&2&e&&n.push(n.pop().concat(n.shift())),f.push(n.filter(Re))}var f,p,g,v=e(a),m=r.invert(i[0],i[1]),y={point:o,lineStart:l,lineEnd:u,polygonStart:function(){y.point=c,y.lineStart=h,y.lineEnd=d,f=[],p=[]},polygonEnd:function(){y.point=o,y.lineStart=l,y.lineEnd=u,f=fo.merge(f);var t=Ye(m,p);f.length?(k||(a.polygonStart(),k=!0),We(f,He,t,n,a)):t&&(k||(a.polygonStart(),k=!0),a.lineStart(),n(null,null,1,a),a.lineEnd()),k&&(a.polygonEnd(),k=!1),f=p=null},sphere:function(){a.polygonStart(),a.lineStart(),n(null,null,1,a),a.lineEnd(),a.polygonEnd()}},x=je(),b=e(x),k=!1;return y}}function Re(t){return t.length>1}function je(){var t,e=[];return{lineStart:function(){e.push(t=[])},point:function(e,n){t.push([e,n])},lineEnd:S,buffer:function(){var n=e;return e=[],t=null,n},rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))}}}function He(t,e){return((t=t.x)[0]<0?t[1]-Uo-Bo:Uo-t[1])-((e=e.x)[0]<0?e[1]-Uo-Bo:Uo-e[1])}function Be(t){var e,n=NaN,i=NaN,r=NaN;return{lineStart:function(){t.lineStart(),e=1},point:function(a,o){var s=a>0?qo:-qo,l=Co(a-n);Co(l-qo)<Bo?(t.point(n,i=(i+o)/2>0?Uo:-Uo),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),t.point(a,i),e=0):r!==s&&l>=qo&&(Co(n-r)<Bo&&(n-=r*Bo),Co(a-s)<Bo&&(a-=s*Bo),i=Ge(n,i,a,o),t.point(r,i),t.lineEnd(),t.lineStart(),t.point(s,i),e=0),t.point(n=a,i=o),r=s},lineEnd:function(){t.lineEnd(),n=i=NaN},clean:function(){return 2-e}}}function Ge(t,e,n,i){var r,a,o=Math.sin(t-n);return Co(o)>Bo?Math.atan((Math.sin(e)*(a=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(e))*Math.sin(t))/(r*a*o)):(e+i)/2}function qe(t,e,n,i){var r;if(null==t)r=n*Uo,i.point(-qo,r),i.point(0,r),i.point(qo,r),i.point(qo,0),i.point(qo,-r),i.point(0,-r),i.point(-qo,-r),i.point(-qo,0),i.point(-qo,r);else if(Co(t[0]-e[0])>Bo){var a=t[0]<e[0]?qo:-qo;r=n*a/2,i.point(-a,r),i.point(0,r),i.point(a,r)}else i.point(e[0],e[1])}function Ye(t,e){var n=t[0],i=t[1],r=[Math.sin(n),-Math.cos(n),0],a=0,o=0;Fs.reset();for(var s=0,l=e.length;s<l;++s){var u=e[s],c=u.length;if(c)for(var h=u[0],d=h[0],f=h[1]/2+qo/4,p=Math.sin(f),g=Math.cos(f),v=1;;){v===c&&(v=0),t=u[v];var m=t[0],y=t[1]/2+qo/4,x=Math.sin(y),b=Math.cos(y),k=m-d,w=k>=0?1:-1,M=w*k,_=M>qo,C=p*x;if(Fs.add(Math.atan2(C*w*Math.sin(M),g*b+C*Math.cos(M))),a+=_?k+w*Yo:k,_^d>=n^m>=n){var S=we(be(h),be(t));Ce(S);var A=we(r,S);Ce(A);var E=(_^k>=0?-1:1)*ot(A[2]);(i>E||i===E&&(S[0]||S[1]))&&(o+=_^k>=0?1:-1)}if(!v++)break;d=m,p=x,g=b,h=t}}return(a<-Bo||a<Bo&&Fs<-Bo)^1&o}function Ve(t){function e(t,e){return Math.cos(t)*Math.cos(e)>a}function n(t){var n,a,l,u,c;return{lineStart:function(){u=l=!1,c=1},point:function(h,d){var f,p=[h,d],g=e(h,d),v=o?g?0:r(h,d):g?r(h+(h<0?qo:-qo),d):0;if(!n&&(u=l=g)&&t.lineStart(),g!==l&&(f=i(n,p),(Ae(n,f)||Ae(p,f))&&(p[0]+=Bo,p[1]+=Bo,g=e(p[0],p[1]))),g!==l)c=0,g?(t.lineStart(),f=i(p,n),t.point(f[0],f[1])):(f=i(n,p),t.point(f[0],f[1]),t.lineEnd()),n=f;else if(s&&n&&o^g){var m;v&a||!(m=i(p,n,!0))||(c=0,o?(t.lineStart(),t.point(m[0][0],m[0][1]),t.point(m[1][0],m[1][1]),t.lineEnd()):(t.point(m[1][0],m[1][1]),t.lineEnd(),t.lineStart(),t.point(m[0][0],m[0][1])))}!g||n&&Ae(n,p)||t.point(p[0],p[1]),n=p,l=g,a=v},lineEnd:function(){l&&t.lineEnd(),n=null},clean:function(){return c|(u&&l)<<1}}}function i(t,e,n){var i=be(t),r=be(e),o=[1,0,0],s=we(i,r),l=ke(s,s),u=s[0],c=l-u*u;if(!c)return!n&&t;var h=a*l/c,d=-a*u/c,f=we(o,s),p=_e(o,h),g=_e(s,d);Me(p,g);var v=f,m=ke(p,v),y=ke(v,v),x=m*m-y*(ke(p,p)-1);if(!(x<0)){var b=Math.sqrt(x),k=_e(v,(-m-b)/y);if(Me(k,p),k=Se(k),!n)return k;var w,M=t[0],_=e[0],C=t[1],S=e[1];_<M&&(w=M,M=_,_=w);var A=_-M,E=Co(A-qo)<Bo,T=E||A<Bo;if(!E&&S<C&&(w=C,C=S,S=w),T?E?C+S>0^k[1]<(Co(k[0]-M)<Bo?C:S):C<=k[1]&&k[1]<=S:A>qo^(M<=k[0]&&k[0]<=_)){var F=_e(v,(-m+b)/y);return Me(F,p),[k,Se(F)]}}}function r(e,n){var i=o?t:qo-t,r=0;return e<-i?r|=1:e>i&&(r|=2),n<-i?r|=4:n>i&&(r|=8),r}var a=Math.cos(t),o=a>0,s=Co(a)>Bo,l=bn(t,6*Xo);return Oe(e,n,l,o?[0,-t]:[-qo,t-qo])}function Ue(t,e,n,i){return function(r){var a,o=r.a,s=r.b,l=o.x,u=o.y,c=s.x,h=s.y,d=0,f=1,p=c-l,g=h-u;if(a=t-l,p||!(a>0)){if(a/=p,p<0){if(a<d)return;a<f&&(f=a)}else if(p>0){if(a>f)return;a>d&&(d=a)}if(a=n-l,p||!(a<0)){if(a/=p,p<0){if(a>f)return;a>d&&(d=a)}else if(p>0){if(a<d)return;a<f&&(f=a)}if(a=e-u,g||!(a>0)){if(a/=g,g<0){if(a<d)return;a<f&&(f=a)}else if(g>0){if(a>f)return;a>d&&(d=a)}if(a=i-u,g||!(a<0)){if(a/=g,g<0){if(a>f)return;a>d&&(d=a)}else if(g>0){if(a<d)return;a<f&&(f=a)}return d>0&&(r.a={x:l+d*p,y:u+d*g}),f<1&&(r.b={x:l+f*p,y:u+f*g}),r}}}}}}function Xe(t,e,n,i){function r(i,r){return Co(i[0]-t)<Bo?r>0?0:3:Co(i[0]-n)<Bo?r>0?2:1:Co(i[1]-e)<Bo?r>0?1:0:r>0?3:2}function a(t,e){return o(t.x,e.x)}function o(t,e){var n=r(t,1),i=r(e,1);return n!==i?n-i:0===n?e[1]-t[1]:1===n?t[0]-e[0]:2===n?t[1]-e[1]:e[0]-t[0]}return function(s){function l(t){for(var e=0,n=v.length,i=t[1],r=0;r<n;++r)for(var a,o=1,s=v[r],l=s.length,u=s[0];o<l;++o)a=s[o],u[1]<=i?a[1]>i&&rt(u,a,t)>0&&++e:a[1]<=i&&rt(u,a,t)<0&&--e,u=a;return 0!==e}function u(a,s,l,u){var c=0,h=0;if(null==a||(c=r(a,l))!==(h=r(s,l))||o(a,s)<0^l>0){do u.point(0===c||3===c?t:n,c>1?i:e);while((c=(c+l+4)%4)!==h)}else u.point(s[0],s[1])}function c(r,a){return t<=r&&r<=n&&e<=a&&a<=i}function h(t,e){c(t,e)&&s.point(t,e)}function d(){T.point=p,v&&v.push(m=[]),_=!0,M=!1,k=w=NaN}function f(){g&&(p(y,x),b&&M&&A.rejoin(),g.push(A.buffer())),T.point=h,M&&s.lineEnd()}function p(t,e){t=Math.max(-Ys,Math.min(Ys,t)),e=Math.max(-Ys,Math.min(Ys,e));var n=c(t,e);if(v&&m.push([t,e]),_)y=t,x=e,b=n,_=!1,n&&(s.lineStart(),s.point(t,e));else if(n&&M)s.point(t,e);else{var i={a:{x:k,y:w},b:{x:t,y:e}};E(i)?(M||(s.lineStart(),s.point(i.a.x,i.a.y)),s.point(i.b.x,i.b.y),n||s.lineEnd(),C=!1):n&&(s.lineStart(),s.point(t,e),C=!1)}k=t,w=e,M=n}var g,v,m,y,x,b,k,w,M,_,C,S=s,A=je(),E=Ue(t,e,n,i),T={point:h,lineStart:d,lineEnd:f,polygonStart:function(){s=A,g=[],v=[],C=!0},polygonEnd:function(){s=S,g=fo.merge(g);var e=l([t,i]),n=C&&e,r=g.length;(n||r)&&(s.polygonStart(),n&&(s.lineStart(),u(null,null,1,s),s.lineEnd()),r&&We(g,a,e,u,s),s.polygonEnd()),g=v=m=null}};return T}}function Ze(t){var e=0,n=qo/3,i=dn(t),r=i(e,n);return r.parallels=function(t){return arguments.length?i(e=t[0]*qo/180,n=t[1]*qo/180):[e/qo*180,n/qo*180]},r}function $e(t,e){function n(t,e){var n=Math.sqrt(a-2*r*Math.sin(e))/r;return[n*Math.sin(t*=r),o-n*Math.cos(t)]}var i=Math.sin(t),r=(i+Math.sin(e))/2,a=1+i*(2*r-i),o=Math.sqrt(a)/r;return n.invert=function(t,e){var n=o-e;return[Math.atan2(t,n)/r,ot((a-(t*t+n*n)*r*r)/(2*r))]},n}function Je(){function t(t,e){Us+=r*t-i*e,i=t,r=e}var e,n,i,r;Qs.point=function(a,o){Qs.point=t,e=i=a,n=r=o},Qs.lineEnd=function(){t(e,n)}}function Qe(t,e){t<Xs&&(Xs=t),t>$s&&($s=t),e<Zs&&(Zs=e),e>Js&&(Js=e)}function Ke(){function t(t,e){o.push("M",t,",",e,a)}function e(t,e){o.push("M",t,",",e),s.point=n}function n(t,e){o.push("L",t,",",e)}function i(){s.point=t}function r(){o.push("Z")}var a=tn(4.5),o=[],s={point:t,lineStart:function(){s.point=e},lineEnd:i,polygonStart:function(){s.lineEnd=r},polygonEnd:function(){s.lineEnd=i,s.point=t},pointRadius:function(t){return a=tn(t),s},result:function(){if(o.length){var t=o.join("");return o=[],t}}};return s}function tn(t){return"m0,"+t+"a"+t+","+t+" 0 1,1 0,"+-2*t+"a"+t+","+t+" 0 1,1 0,"+2*t+"z"}function en(t,e){Ls+=t,Ws+=e,++Ps}function nn(){function t(t,i){var r=t-e,a=i-n,o=Math.sqrt(r*r+a*a);Is+=o*(e+t)/2,Os+=o*(n+i)/2,Rs+=o,en(e=t,n=i)}var e,n;tl.point=function(i,r){tl.point=t,en(e=i,n=r)}}function rn(){tl.point=en}function an(){function t(t,e){var n=t-i,a=e-r,o=Math.sqrt(n*n+a*a);Is+=o*(i+t)/2,Os+=o*(r+e)/2,Rs+=o,o=r*t-i*e,js+=o*(i+t),Hs+=o*(r+e),Bs+=3*o,en(i=t,r=e)}var e,n,i,r;tl.point=function(a,o){tl.point=t,en(e=i=a,n=r=o)},tl.lineEnd=function(){t(e,n)}}function on(t){function e(e,n){t.moveTo(e+o,n),t.arc(e,n,o,0,Yo)}function n(e,n){t.moveTo(e,n),s.point=i}function i(e,n){t.lineTo(e,n)}function r(){s.point=e}function a(){t.closePath()}var o=4.5,s={point:e,lineStart:function(){s.point=n},lineEnd:r,polygonStart:function(){s.lineEnd=a},polygonEnd:function(){s.lineEnd=r,s.point=e},pointRadius:function(t){return o=t,s},result:S};return s}function sn(t){function e(t){return(s?i:n)(t)}function n(e){return cn(e,function(n,i){n=t(n,i),e.point(n[0],n[1])})}function i(e){function n(n,i){n=t(n,i),e.point(n[0],n[1])}function i(){x=NaN,_.point=a,e.lineStart()}function a(n,i){var a=be([n,i]),o=t(n,i);r(x,b,y,k,w,M,x=o[0],b=o[1],y=n,k=a[0],w=a[1],M=a[2],s,e),
e.point(x,b)}function o(){_.point=n,e.lineEnd()}function l(){i(),_.point=u,_.lineEnd=c}function u(t,e){a(h=t,d=e),f=x,p=b,g=k,v=w,m=M,_.point=a}function c(){r(x,b,y,k,w,M,f,p,h,g,v,m,s,e),_.lineEnd=o,o()}var h,d,f,p,g,v,m,y,x,b,k,w,M,_={point:n,lineStart:i,lineEnd:o,polygonStart:function(){e.polygonStart(),_.lineStart=l},polygonEnd:function(){e.polygonEnd(),_.lineStart=i}};return _}function r(e,n,i,s,l,u,c,h,d,f,p,g,v,m){var y=c-e,x=h-n,b=y*y+x*x;if(b>4*a&&v--){var k=s+f,w=l+p,M=u+g,_=Math.sqrt(k*k+w*w+M*M),C=Math.asin(M/=_),S=Co(Co(M)-1)<Bo||Co(i-d)<Bo?(i+d)/2:Math.atan2(w,k),A=t(S,C),E=A[0],T=A[1],F=E-e,D=T-n,z=x*F-y*D;(z*z/b>a||Co((y*F+x*D)/b-.5)>.3||s*f+l*p+u*g<o)&&(r(e,n,i,s,l,u,E,T,S,k/=_,w/=_,M,v,m),m.point(E,T),r(E,T,S,k,w,M,c,h,d,f,p,g,v,m))}}var a=.5,o=Math.cos(30*Xo),s=16;return e.precision=function(t){return arguments.length?(s=(a=t*t)>0&&16,e):Math.sqrt(a)},e}function ln(t){var e=sn(function(e,n){return t([e*Zo,n*Zo])});return function(t){return fn(e(t))}}function un(t){this.stream=t}function cn(t,e){return{point:e,sphere:function(){t.sphere()},lineStart:function(){t.lineStart()},lineEnd:function(){t.lineEnd()},polygonStart:function(){t.polygonStart()},polygonEnd:function(){t.polygonEnd()}}}function hn(t){return dn(function(){return t})()}function dn(t){function e(t){return t=s(t[0]*Xo,t[1]*Xo),[t[0]*d+l,u-t[1]*d]}function n(t){return t=s.invert((t[0]-l)/d,(u-t[1])/d),t&&[t[0]*Zo,t[1]*Zo]}function i(){s=Ne(o=vn(m,y,x),a);var t=a(g,v);return l=f-t[0]*d,u=p+t[1]*d,r()}function r(){return c&&(c.valid=!1,c=null),e}var a,o,s,l,u,c,h=sn(function(t,e){return t=a(t,e),[t[0]*d+l,u-t[1]*d]}),d=150,f=480,p=250,g=0,v=0,m=0,y=0,x=0,b=qs,k=M,w=null,_=null;return e.stream=function(t){return c&&(c.valid=!1),c=fn(b(o,h(k(t)))),c.valid=!0,c},e.clipAngle=function(t){return arguments.length?(b=null==t?(w=t,qs):Ve((w=+t)*Xo),r()):w},e.clipExtent=function(t){return arguments.length?(_=t,k=t?Xe(t[0][0],t[0][1],t[1][0],t[1][1]):M,r()):_},e.scale=function(t){return arguments.length?(d=+t,i()):d},e.translate=function(t){return arguments.length?(f=+t[0],p=+t[1],i()):[f,p]},e.center=function(t){return arguments.length?(g=t[0]%360*Xo,v=t[1]%360*Xo,i()):[g*Zo,v*Zo]},e.rotate=function(t){return arguments.length?(m=t[0]%360*Xo,y=t[1]%360*Xo,x=t.length>2?t[2]%360*Xo:0,i()):[m*Zo,y*Zo,x*Zo]},fo.rebind(e,h,"precision"),function(){return a=t.apply(this,arguments),e.invert=a.invert&&n,i()}}function fn(t){return cn(t,function(e,n){t.point(e*Xo,n*Xo)})}function pn(t,e){return[t,e]}function gn(t,e){return[t>qo?t-Yo:t<-qo?t+Yo:t,e]}function vn(t,e,n){return t?e||n?Ne(yn(t),xn(e,n)):yn(t):e||n?xn(e,n):gn}function mn(t){return function(e,n){return e+=t,[e>qo?e-Yo:e<-qo?e+Yo:e,n]}}function yn(t){var e=mn(t);return e.invert=mn(-t),e}function xn(t,e){function n(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*i+s*r;return[Math.atan2(l*a-c*o,s*i-u*r),ot(c*a+l*o)]}var i=Math.cos(t),r=Math.sin(t),a=Math.cos(e),o=Math.sin(e);return n.invert=function(t,e){var n=Math.cos(e),s=Math.cos(t)*n,l=Math.sin(t)*n,u=Math.sin(e),c=u*a-l*o;return[Math.atan2(l*a+u*o,s*i+c*r),ot(c*i-s*r)]},n}function bn(t,e){var n=Math.cos(t),i=Math.sin(t);return function(r,a,o,s){var l=o*e;null!=r?(r=kn(n,r),a=kn(n,a),(o>0?r<a:r>a)&&(r+=o*Yo)):(r=t+o*Yo,a=t-.5*l);for(var u,c=r;o>0?c>a:c<a;c-=l)s.point((u=Se([n,-i*Math.cos(c),-i*Math.sin(c)]))[0],u[1])}}function kn(t,e){var n=be(e);n[0]-=t,Ce(n);var i=at(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Bo)%(2*Math.PI)}function wn(t,e,n){var i=fo.range(t,e-Bo,n).concat(e);return function(t){return i.map(function(e){return[t,e]})}}function Mn(t,e,n){var i=fo.range(t,e-Bo,n).concat(e);return function(t){return i.map(function(e){return[e,t]})}}function _n(t){return t.source}function Cn(t){return t.target}function Sn(t,e,n,i){var r=Math.cos(e),a=Math.sin(e),o=Math.cos(i),s=Math.sin(i),l=r*Math.cos(t),u=r*Math.sin(t),c=o*Math.cos(n),h=o*Math.sin(n),d=2*Math.asin(Math.sqrt(ct(i-e)+r*o*ct(n-t))),f=1/Math.sin(d),p=d?function(t){var e=Math.sin(t*=d)*f,n=Math.sin(d-t)*f,i=n*l+e*c,r=n*u+e*h,o=n*a+e*s;return[Math.atan2(r,i)*Zo,Math.atan2(o,Math.sqrt(i*i+r*r))*Zo]}:function(){return[t*Zo,e*Zo]};return p.distance=d,p}function An(){function t(t,r){var a=Math.sin(r*=Xo),o=Math.cos(r),s=Co((t*=Xo)-e),l=Math.cos(s);el+=Math.atan2(Math.sqrt((s=o*Math.sin(s))*s+(s=i*a-n*o*l)*s),n*a+i*o*l),e=t,n=a,i=o}var e,n,i;nl.point=function(r,a){e=r*Xo,n=Math.sin(a*=Xo),i=Math.cos(a),nl.point=t},nl.lineEnd=function(){nl.point=nl.lineEnd=S}}function En(t,e){function n(e,n){var i=Math.cos(e),r=Math.cos(n),a=t(i*r);return[a*r*Math.sin(e),a*Math.sin(n)]}return n.invert=function(t,n){var i=Math.sqrt(t*t+n*n),r=e(i),a=Math.sin(r),o=Math.cos(r);return[Math.atan2(t*a,i*o),Math.asin(i&&n*a/i)]},n}function Tn(t,e){function n(t,e){o>0?e<-Uo+Bo&&(e=-Uo+Bo):e>Uo-Bo&&(e=Uo-Bo);var n=o/Math.pow(r(e),a);return[n*Math.sin(a*t),o-n*Math.cos(a*t)]}var i=Math.cos(t),r=function(t){return Math.tan(qo/4+t/2)},a=t===e?Math.sin(t):Math.log(i/Math.cos(e))/Math.log(r(e)/r(t)),o=i*Math.pow(r(t),a)/a;return a?(n.invert=function(t,e){var n=o-e,i=it(a)*Math.sqrt(t*t+n*n);return[Math.atan2(t,n)/a,2*Math.atan(Math.pow(o/i,1/a))-Uo]},n):Dn}function Fn(t,e){function n(t,e){var n=a-e;return[n*Math.sin(r*t),a-n*Math.cos(r*t)]}var i=Math.cos(t),r=t===e?Math.sin(t):(i-Math.cos(e))/(e-t),a=i/r+t;return Co(r)<Bo?pn:(n.invert=function(t,e){var n=a-e;return[Math.atan2(t,n)/r,a-it(r)*Math.sqrt(t*t+n*n)]},n)}function Dn(t,e){return[t,Math.log(Math.tan(qo/4+e/2))]}function zn(t){var e,n=hn(t),i=n.scale,r=n.translate,a=n.clipExtent;return n.scale=function(){var t=i.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.translate=function(){var t=r.apply(n,arguments);return t===n?e?n.clipExtent(null):n:t},n.clipExtent=function(t){var o=a.apply(n,arguments);if(o===n){if(e=null==t){var s=qo*i(),l=r();a([[l[0]-s,l[1]-s],[l[0]+s,l[1]+s]])}}else e&&(o=null);return o},n.clipExtent(null)}function Nn(t,e){return[Math.log(Math.tan(qo/4+e/2)),-t]}function Ln(t){return t[0]}function Wn(t){return t[1]}function Pn(t){for(var e=t.length,n=[0,1],i=2,r=2;r<e;r++){for(;i>1&&rt(t[n[i-2]],t[n[i-1]],t[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function In(t,e){return t[0]-e[0]||t[1]-e[1]}function On(t,e,n){return(n[0]-e[0])*(t[1]-e[1])<(n[1]-e[1])*(t[0]-e[0])}function Rn(t,e,n,i){var r=t[0],a=n[0],o=e[0]-r,s=i[0]-a,l=t[1],u=n[1],c=e[1]-l,h=i[1]-u,d=(s*(l-u)-h*(r-a))/(h*o-s*c);return[r+d*o,l+d*c]}function jn(t){var e=t[0],n=t[t.length-1];return!(e[0]-n[0]||e[1]-n[1])}function Hn(){li(this),this.edge=this.site=this.circle=null}function Bn(t){var e=pl.pop()||new Hn;return e.site=t,e}function Gn(t){Kn(t),hl.remove(t),pl.push(t),li(t)}function qn(t){var e=t.circle,n=e.x,i=e.cy,r={x:n,y:i},a=t.P,o=t.N,s=[t];Gn(t);for(var l=a;l.circle&&Co(n-l.circle.x)<Bo&&Co(i-l.circle.cy)<Bo;)a=l.P,s.unshift(l),Gn(l),l=a;s.unshift(l),Kn(l);for(var u=o;u.circle&&Co(n-u.circle.x)<Bo&&Co(i-u.circle.cy)<Bo;)o=u.N,s.push(u),Gn(u),u=o;s.push(u),Kn(u);var c,h=s.length;for(c=1;c<h;++c)u=s[c],l=s[c-1],ai(u.edge,l.site,u.site,r);l=s[0],u=s[h-1],u.edge=ii(l.site,u.site,null,r),Qn(l),Qn(u)}function Yn(t){for(var e,n,i,r,a=t.x,o=t.y,s=hl._;s;)if(i=Vn(s,o)-a,i>Bo)s=s.L;else{if(r=a-Un(s,o),!(r>Bo)){i>-Bo?(e=s.P,n=s):r>-Bo?(e=s,n=s.N):e=n=s;break}if(!s.R){e=s;break}s=s.R}var l=Bn(t);if(hl.insert(e,l),e||n){if(e===n)return Kn(e),n=Bn(e.site),hl.insert(l,n),l.edge=n.edge=ii(e.site,l.site),Qn(e),void Qn(n);if(!n)return void(l.edge=ii(e.site,l.site));Kn(e),Kn(n);var u=e.site,c=u.x,h=u.y,d=t.x-c,f=t.y-h,p=n.site,g=p.x-c,v=p.y-h,m=2*(d*v-f*g),y=d*d+f*f,x=g*g+v*v,b={x:(v*y-f*x)/m+c,y:(d*x-g*y)/m+h};ai(n.edge,u,p,b),l.edge=ii(u,t,null,b),n.edge=ii(t,p,null,b),Qn(e),Qn(n)}}function Vn(t,e){var n=t.site,i=n.x,r=n.y,a=r-e;if(!a)return i;var o=t.P;if(!o)return-(1/0);n=o.site;var s=n.x,l=n.y,u=l-e;if(!u)return s;var c=s-i,h=1/a-1/u,d=c/u;return h?(-d+Math.sqrt(d*d-2*h*(c*c/(-2*u)-l+u/2+r-a/2)))/h+i:(i+s)/2}function Un(t,e){var n=t.N;if(n)return Vn(n,e);var i=t.site;return i.y===e?i.x:1/0}function Xn(t){this.site=t,this.edges=[]}function Zn(t){for(var e,n,i,r,a,o,s,l,u,c,h=t[0][0],d=t[1][0],f=t[0][1],p=t[1][1],g=cl,v=g.length;v--;)if(a=g[v],a&&a.prepare())for(s=a.edges,l=s.length,o=0;o<l;)c=s[o].end(),i=c.x,r=c.y,u=s[++o%l].start(),e=u.x,n=u.y,(Co(i-e)>Bo||Co(r-n)>Bo)&&(s.splice(o,0,new oi(ri(a.site,c,Co(i-h)<Bo&&p-r>Bo?{x:h,y:Co(e-h)<Bo?n:p}:Co(r-p)<Bo&&d-i>Bo?{x:Co(n-p)<Bo?e:d,y:p}:Co(i-d)<Bo&&r-f>Bo?{x:d,y:Co(e-d)<Bo?n:f}:Co(r-f)<Bo&&i-h>Bo?{x:Co(n-f)<Bo?e:h,y:f}:null),a.site,null)),++l)}function $n(t,e){return e.angle-t.angle}function Jn(){li(this),this.x=this.y=this.arc=this.site=this.cy=null}function Qn(t){var e=t.P,n=t.N;if(e&&n){var i=e.site,r=t.site,a=n.site;if(i!==a){var o=r.x,s=r.y,l=i.x-o,u=i.y-s,c=a.x-o,h=a.y-s,d=2*(l*h-u*c);if(!(d>=-Go)){var f=l*l+u*u,p=c*c+h*h,g=(h*f-u*p)/d,v=(l*p-c*f)/d,h=v+s,m=gl.pop()||new Jn;m.arc=t,m.site=r,m.x=g+o,m.y=h+Math.sqrt(g*g+v*v),m.cy=h,t.circle=m;for(var y=null,x=fl._;x;)if(m.y<x.y||m.y===x.y&&m.x<=x.x){if(!x.L){y=x.P;break}x=x.L}else{if(!x.R){y=x;break}x=x.R}fl.insert(y,m),y||(dl=m)}}}}function Kn(t){var e=t.circle;e&&(e.P||(dl=e.N),fl.remove(e),gl.push(e),li(e),t.circle=null)}function ti(t){for(var e,n=ul,i=Ue(t[0][0],t[0][1],t[1][0],t[1][1]),r=n.length;r--;)e=n[r],(!ei(e,t)||!i(e)||Co(e.a.x-e.b.x)<Bo&&Co(e.a.y-e.b.y)<Bo)&&(e.a=e.b=null,n.splice(r,1))}function ei(t,e){var n=t.b;if(n)return!0;var i,r,a=t.a,o=e[0][0],s=e[1][0],l=e[0][1],u=e[1][1],c=t.l,h=t.r,d=c.x,f=c.y,p=h.x,g=h.y,v=(d+p)/2,m=(f+g)/2;if(g===f){if(v<o||v>=s)return;if(d>p){if(a){if(a.y>=u)return}else a={x:v,y:l};n={x:v,y:u}}else{if(a){if(a.y<l)return}else a={x:v,y:u};n={x:v,y:l}}}else if(i=(d-p)/(g-f),r=m-i*v,i<-1||i>1)if(d>p){if(a){if(a.y>=u)return}else a={x:(l-r)/i,y:l};n={x:(u-r)/i,y:u}}else{if(a){if(a.y<l)return}else a={x:(u-r)/i,y:u};n={x:(l-r)/i,y:l}}else if(f<g){if(a){if(a.x>=s)return}else a={x:o,y:i*o+r};n={x:s,y:i*s+r}}else{if(a){if(a.x<o)return}else a={x:s,y:i*s+r};n={x:o,y:i*o+r}}return t.a=a,t.b=n,!0}function ni(t,e){this.l=t,this.r=e,this.a=this.b=null}function ii(t,e,n,i){var r=new ni(t,e);return ul.push(r),n&&ai(r,t,e,n),i&&ai(r,e,t,i),cl[t.i].edges.push(new oi(r,t,e)),cl[e.i].edges.push(new oi(r,e,t)),r}function ri(t,e,n){var i=new ni(t,null);return i.a=e,i.b=n,ul.push(i),i}function ai(t,e,n,i){t.a||t.b?t.l===n?t.b=i:t.a=i:(t.a=i,t.l=e,t.r=n)}function oi(t,e,n){var i=t.a,r=t.b;this.edge=t,this.site=e,this.angle=n?Math.atan2(n.y-e.y,n.x-e.x):t.l===e?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function si(){this._=null}function li(t){t.U=t.C=t.L=t.R=t.P=t.N=null}function ui(t,e){var n=e,i=e.R,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function ci(t,e){var n=e,i=e.L,r=n.U;r?r.L===n?r.L=i:r.R=i:t._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function hi(t){for(;t.L;)t=t.L;return t}function di(t,e){var n,i,r,a=t.sort(fi).pop();for(ul=[],cl=new Array(t.length),hl=new si,fl=new si;;)if(r=dl,a&&(!r||a.y<r.y||a.y===r.y&&a.x<r.x))a.x===n&&a.y===i||(cl[a.i]=new Xn(a),Yn(a),n=a.x,i=a.y),a=t.pop();else{if(!r)break;qn(r.arc)}e&&(ti(e),Zn(e));var o={cells:cl,edges:ul};return hl=fl=ul=cl=null,o}function fi(t,e){return e.y-t.y||e.x-t.x}function pi(t,e,n){return(t.x-n.x)*(e.y-t.y)-(t.x-e.x)*(n.y-t.y)}function gi(t){return t.x}function vi(t){return t.y}function mi(){return{leaf:!0,nodes:[],point:null,x:null,y:null}}function yi(t,e,n,i,r,a){if(!t(e,n,i,r,a)){var o=.5*(n+r),s=.5*(i+a),l=e.nodes;l[0]&&yi(t,l[0],n,i,o,s),l[1]&&yi(t,l[1],o,i,r,s),l[2]&&yi(t,l[2],n,s,o,a),l[3]&&yi(t,l[3],o,s,r,a)}}function xi(t,e,n,i,r,a,o){var s,l=1/0;return function u(t,c,h,d,f){if(!(c>a||h>o||d<i||f<r)){if(p=t.point){var p,g=e-t.x,v=n-t.y,m=g*g+v*v;if(m<l){var y=Math.sqrt(l=m);i=e-y,r=n-y,a=e+y,o=n+y,s=p}}for(var x=t.nodes,b=.5*(c+d),k=.5*(h+f),w=e>=b,M=n>=k,_=M<<1|w,C=_+4;_<C;++_)if(t=x[3&_])switch(3&_){case 0:u(t,c,h,b,k);break;case 1:u(t,b,h,d,k);break;case 2:u(t,c,k,b,f);break;case 3:u(t,b,k,d,f)}}}(t,i,r,a,o),s}function bi(t,e){t=fo.rgb(t),e=fo.rgb(e);var n=t.r,i=t.g,r=t.b,a=e.r-n,o=e.g-i,s=e.b-r;return function(t){return"#"+Ct(Math.round(n+a*t))+Ct(Math.round(i+o*t))+Ct(Math.round(r+s*t))}}function ki(t,e){var n,i={},r={};for(n in t)n in e?i[n]=_i(t[n],e[n]):r[n]=t[n];for(n in e)n in t||(r[n]=e[n]);return function(t){for(n in i)r[n]=i[n](t);return r}}function wi(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function Mi(t,e){var n,i,r,a=ml.lastIndex=yl.lastIndex=0,o=-1,s=[],l=[];for(t+="",e+="";(n=ml.exec(t))&&(i=yl.exec(e));)(r=i.index)>a&&(r=e.slice(a,r),s[o]?s[o]+=r:s[++o]=r),(n=n[0])===(i=i[0])?s[o]?s[o]+=i:s[++o]=i:(s[++o]=null,l.push({i:o,x:wi(n,i)})),a=yl.lastIndex;return a<e.length&&(r=e.slice(a),s[o]?s[o]+=r:s[++o]=r),s.length<2?l[0]?(e=l[0].x,function(t){return e(t)+""}):function(){return e}:(e=l.length,function(t){for(var n,i=0;i<e;++i)s[(n=l[i]).i]=n.x(t);return s.join("")})}function _i(t,e){for(var n,i=fo.interpolators.length;--i>=0&&!(n=fo.interpolators[i](t,e)););return n}function Ci(t,e){var n,i=[],r=[],a=t.length,o=e.length,s=Math.min(t.length,e.length);for(n=0;n<s;++n)i.push(_i(t[n],e[n]));for(;n<a;++n)r[n]=t[n];for(;n<o;++n)r[n]=e[n];return function(t){for(n=0;n<s;++n)r[n]=i[n](t);return r}}function Si(t){return function(e){return e<=0?0:e>=1?1:t(e)}}function Ai(t){return function(e){return 1-t(1-e)}}function Ei(t){return function(e){return.5*(e<.5?t(2*e):2-t(2-2*e))}}function Ti(t){return t*t}function Fi(t){return t*t*t}function Di(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)}function zi(t){return function(e){return Math.pow(e,t)}}function Ni(t){return 1-Math.cos(t*Uo)}function Li(t){return Math.pow(2,10*(t-1))}function Wi(t){return 1-Math.sqrt(1-t*t)}function Pi(t,e){var n;return arguments.length<2&&(e=.45),arguments.length?n=e/Yo*Math.asin(1/t):(t=1,n=e/4),function(i){return 1+t*Math.pow(2,-10*i)*Math.sin((i-n)*Yo/e)}}function Ii(t){return t||(t=1.70158),function(e){return e*e*((t+1)*e-t)}}function Oi(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}function Ri(t,e){t=fo.hcl(t),e=fo.hcl(e);var n=t.h,i=t.c,r=t.l,a=e.h-n,o=e.c-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.c:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return gt(n+a*t,i+o*t,r+s*t)+""}}function ji(t,e){t=fo.hsl(t),e=fo.hsl(e);var n=t.h,i=t.s,r=t.l,a=e.h-n,o=e.s-i,s=e.l-r;return isNaN(o)&&(o=0,i=isNaN(i)?e.s:i),isNaN(a)?(a=0,n=isNaN(n)?e.h:n):a>180?a-=360:a<-180&&(a+=360),function(t){return ft(n+a*t,i+o*t,r+s*t)+""}}function Hi(t,e){t=fo.lab(t),e=fo.lab(e);var n=t.l,i=t.a,r=t.b,a=e.l-n,o=e.a-i,s=e.b-r;return function(t){return mt(n+a*t,i+o*t,r+s*t)+""}}function Bi(t,e){return e-=t,function(n){return Math.round(t+e*n)}}function Gi(t){var e=[t.a,t.b],n=[t.c,t.d],i=Yi(e),r=qi(e,n),a=Yi(Vi(n,e,-r))||0;e[0]*n[1]<n[0]*e[1]&&(e[0]*=-1,e[1]*=-1,i*=-1,r*=-1),this.rotate=(i?Math.atan2(e[1],e[0]):Math.atan2(-n[0],n[1]))*Zo,this.translate=[t.e,t.f],this.scale=[i,a],this.skew=a?Math.atan2(r,a)*Zo:0}function qi(t,e){return t[0]*e[0]+t[1]*e[1]}function Yi(t){var e=Math.sqrt(qi(t,t));return e&&(t[0]/=e,t[1]/=e),e}function Vi(t,e,n){return t[0]+=n*e[0],t[1]+=n*e[1],t}function Ui(t){return t.length?t.pop()+",":""}function Xi(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:wi(t[0],e[0])},{i:r-2,x:wi(t[1],e[1])})}else(e[0]||e[1])&&n.push("translate("+e+")")}function Zi(t,e,n,i){t!==e?(t-e>180?e+=360:e-t>180&&(t+=360),i.push({i:n.push(Ui(n)+"rotate(",null,")")-2,x:wi(t,e)})):e&&n.push(Ui(n)+"rotate("+e+")")}function $i(t,e,n,i){t!==e?i.push({i:n.push(Ui(n)+"skewX(",null,")")-2,x:wi(t,e)}):e&&n.push(Ui(n)+"skewX("+e+")")}function Ji(t,e,n,i){if(t[0]!==e[0]||t[1]!==e[1]){var r=n.push(Ui(n)+"scale(",null,",",null,")");i.push({i:r-4,x:wi(t[0],e[0])},{i:r-2,x:wi(t[1],e[1])})}else 1===e[0]&&1===e[1]||n.push(Ui(n)+"scale("+e+")")}function Qi(t,e){var n=[],i=[];return t=fo.transform(t),e=fo.transform(e),Xi(t.translate,e.translate,n,i),Zi(t.rotate,e.rotate,n,i),$i(t.skew,e.skew,n,i),Ji(t.scale,e.scale,n,i),t=e=null,function(t){for(var e,r=-1,a=i.length;++r<a;)n[(e=i[r]).i]=e.x(t);return n.join("")}}function Ki(t,e){return e=(e-=t=+t)||1/e,function(n){return(n-t)/e}}function tr(t,e){return e=(e-=t=+t)||1/e,function(n){return Math.max(0,Math.min(1,(n-t)/e))}}function er(t){for(var e=t.source,n=t.target,i=ir(e,n),r=[e];e!==i;)e=e.parent,r.push(e);for(var a=r.length;n!==i;)r.splice(a,0,n),n=n.parent;return r}function nr(t){for(var e=[],n=t.parent;null!=n;)e.push(t),t=n,n=n.parent;return e.push(t),e}function ir(t,e){if(t===e)return t;for(var n=nr(t),i=nr(e),r=n.pop(),a=i.pop(),o=null;r===a;)o=r,r=n.pop(),a=i.pop();return o}function rr(t){t.fixed|=2}function ar(t){t.fixed&=-7}function or(t){t.fixed|=4,t.px=t.x,t.py=t.y}function sr(t){t.fixed&=-5}function lr(t,e,n){var i=0,r=0;if(t.charge=0,!t.leaf)for(var a,o=t.nodes,s=o.length,l=-1;++l<s;)a=o[l],null!=a&&(lr(a,e,n),t.charge+=a.charge,i+=a.charge*a.cx,r+=a.charge*a.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=e*n[t.point.index];t.charge+=t.pointCharge=u,i+=u*t.point.x,r+=u*t.point.y}t.cx=i/t.charge,t.cy=r/t.charge}function ur(t,e){return fo.rebind(t,e,"sort","children","value"),t.nodes=t,t.links=gr,t}function cr(t,e){for(var n=[t];null!=(t=n.pop());)if(e(t),(r=t.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function hr(t,e){for(var n=[t],i=[];null!=(t=n.pop());)if(i.push(t),(a=t.children)&&(r=a.length))for(var r,a,o=-1;++o<r;)n.push(a[o]);for(;null!=(t=i.pop());)e(t)}function dr(t){return t.children}function fr(t){return t.value}function pr(t,e){return e.value-t.value}function gr(t){return fo.merge(t.map(function(t){return(t.children||[]).map(function(e){return{source:t,target:e}})}))}function vr(t){return t.x}function mr(t){return t.y}function yr(t,e,n){t.y0=e,t.y=n}function xr(t){return fo.range(t.length)}function br(t){for(var e=-1,n=t[0].length,i=[];++e<n;)i[e]=0;return i}function kr(t){for(var e,n=1,i=0,r=t[0][1],a=t.length;n<a;++n)(e=t[n][1])>r&&(i=n,r=e);return i}function wr(t){return t.reduce(Mr,0)}function Mr(t,e){return t+e[1]}function _r(t,e){return Cr(t,Math.ceil(Math.log(e.length)/Math.LN2+1))}function Cr(t,e){for(var n=-1,i=+t[0],r=(t[1]-i)/e,a=[];++n<=e;)a[n]=r*n+i;return a}function Sr(t){return[fo.min(t),fo.max(t)]}function Ar(t,e){return t.value-e.value}function Er(t,e){var n=t._pack_next;t._pack_next=e,e._pack_prev=t,e._pack_next=n,n._pack_prev=e}function Tr(t,e){t._pack_next=e,e._pack_prev=t}function Fr(t,e){var n=e.x-t.x,i=e.y-t.y,r=t.r+e.r;return.999*r*r>n*n+i*i}function Dr(t){function e(t){c=Math.min(t.x-t.r,c),h=Math.max(t.x+t.r,h),d=Math.min(t.y-t.r,d),f=Math.max(t.y+t.r,f)}if((n=t.children)&&(u=n.length)){var n,i,r,a,o,s,l,u,c=1/0,h=-(1/0),d=1/0,f=-(1/0);if(n.forEach(zr),i=n[0],i.x=-i.r,i.y=0,e(i),u>1&&(r=n[1],r.x=r.r,r.y=0,e(r),u>2))for(a=n[2],Wr(i,r,a),e(a),Er(i,a),i._pack_prev=a,Er(a,r),r=i._pack_next,o=3;o<u;o++){Wr(i,r,a=n[o]);var p=0,g=1,v=1;for(s=r._pack_next;s!==r;s=s._pack_next,g++)if(Fr(s,a)){p=1;break}if(1==p)for(l=i._pack_prev;l!==s._pack_prev&&!Fr(l,a);l=l._pack_prev,v++);p?(g<v||g==v&&r.r<i.r?Tr(i,r=s):Tr(i=l,r),o--):(Er(i,a),r=a,e(a))}var m=(c+h)/2,y=(d+f)/2,x=0;for(o=0;o<u;o++)a=n[o],a.x-=m,a.y-=y,x=Math.max(x,a.r+Math.sqrt(a.x*a.x+a.y*a.y));t.r=x,n.forEach(Nr)}}function zr(t){t._pack_next=t._pack_prev=t}function Nr(t){delete t._pack_next,delete t._pack_prev}function Lr(t,e,n,i){var r=t.children;if(t.x=e+=i*t.x,t.y=n+=i*t.y,t.r*=i,r)for(var a=-1,o=r.length;++a<o;)Lr(r[a],e,n,i)}function Wr(t,e,n){var i=t.r+n.r,r=e.x-t.x,a=e.y-t.y;if(i&&(r||a)){var o=e.r+n.r,s=r*r+a*a;o*=o,i*=i;var l=.5+(i-o)/(2*s),u=Math.sqrt(Math.max(0,2*o*(i+s)-(i-=s)*i-o*o))/(2*s);n.x=t.x+l*r+u*a,n.y=t.y+l*a-u*r}else n.x=t.x+i,n.y=t.y}function Pr(t,e){return t.parent==e.parent?1:2}function Ir(t){var e=t.children;return e.length?e[0]:t.t}function Or(t){var e,n=t.children;return(e=n.length)?n[e-1]:t.t}function Rr(t,e,n){var i=n/(e.i-t.i);e.c-=i,e.s+=n,t.c+=i,e.z+=n,e.m+=n}function jr(t){for(var e,n=0,i=0,r=t.children,a=r.length;--a>=0;)e=r[a],e.z+=n,e.m+=n,n+=e.s+(i+=e.c)}function Hr(t,e,n){return t.a.parent===e.parent?t.a:n}function Br(t){return 1+fo.max(t,function(t){return t.y})}function Gr(t){return t.reduce(function(t,e){return t+e.x},0)/t.length}function qr(t){var e=t.children;return e&&e.length?qr(e[0]):t}function Yr(t){var e,n=t.children;return n&&(e=n.length)?Yr(n[e-1]):t}function Vr(t){return{x:t.x,y:t.y,dx:t.dx,dy:t.dy}}function Ur(t,e){var n=t.x+e[3],i=t.y+e[0],r=t.dx-e[1]-e[3],a=t.dy-e[0]-e[2];return r<0&&(n+=r/2,r=0),a<0&&(i+=a/2,a=0),{x:n,y:i,dx:r,dy:a}}function Xr(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]}function Zr(t){return t.rangeExtent?t.rangeExtent():Xr(t.range())}function $r(t,e,n,i){var r=n(t[0],t[1]),a=i(e[0],e[1]);return function(t){return a(r(t))}}function Jr(t,e){var n,i=0,r=t.length-1,a=t[i],o=t[r];return o<a&&(n=i,i=r,r=n,n=a,a=o,o=n),t[i]=e.floor(a),t[r]=e.ceil(o),t}function Qr(t){return t?{floor:function(e){return Math.floor(e/t)*t},ceil:function(e){return Math.ceil(e/t)*t}}:Tl}function Kr(t,e,n,i){var r=[],a=[],o=0,s=Math.min(t.length,e.length)-1;for(t[s]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++o<=s;)r.push(n(t[o-1],t[o])),a.push(i(e[o-1],e[o]));return function(e){var n=fo.bisect(t,e,1,s)-1;return a[n](r[n](e))}}function ta(t,e,n,i){function r(){var r=Math.min(t.length,e.length)>2?Kr:$r,l=i?tr:Ki;return o=r(t,e,l,n),s=r(e,t,l,_i),a}function a(t){return o(t)}var o,s;return a.invert=function(t){return s(t)},a.domain=function(e){return arguments.length?(t=e.map(Number),r()):t},a.range=function(t){return arguments.length?(e=t,r()):e},a.rangeRound=function(t){return a.range(t).interpolate(Bi)},a.clamp=function(t){return arguments.length?(i=t,r()):i},a.interpolate=function(t){return arguments.length?(n=t,r()):n},a.ticks=function(e){return ra(t,e)},a.tickFormat=function(e,n){return aa(t,e,n)},a.nice=function(e){return na(t,e),r()},a.copy=function(){return ta(t,e,n,i)},r()}function ea(t,e){return fo.rebind(t,e,"range","rangeRound","interpolate","clamp")}function na(t,e){return Jr(t,Qr(ia(t,e)[2])),Jr(t,Qr(ia(t,e)[2])),t}function ia(t,e){null==e&&(e=10);var n=Xr(t),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/e)/Math.LN10)),a=e/i*r;return a<=.15?r*=10:a<=.35?r*=5:a<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function ra(t,e){return fo.range.apply(fo,ia(t,e))}function aa(t,e,n){var i=ia(t,e);if(n){var r=ms.exec(n);if(r.shift(),"s"===r[8]){var a=fo.formatPrefix(Math.max(Co(i[0]),Co(i[1])));return r[7]||(r[7]="."+oa(a.scale(i[2]))),r[8]="f",n=fo.format(r.join("")),function(t){return n(a.scale(t))+a.symbol}}r[7]||(r[7]="."+sa(r[8],i)),n=r.join("")}else n=",."+oa(i[2])+"f";return fo.format(n)}function oa(t){return-Math.floor(Math.log(t)/Math.LN10+.01)}function sa(t,e){var n=oa(e[2]);return t in Fl?Math.abs(n-oa(Math.max(Co(e[0]),Co(e[1]))))+ +("e"!==t):n-2*("%"===t)}function la(t,e,n,i){function r(t){return(n?Math.log(t<0?0:t):-Math.log(t>0?0:-t))/Math.log(e)}function a(t){return n?Math.pow(e,t):-Math.pow(e,-t)}function o(e){return t(r(e))}return o.invert=function(e){return a(t.invert(e))},o.domain=function(e){return arguments.length?(n=e[0]>=0,t.domain((i=e.map(Number)).map(r)),o):i},o.base=function(n){return arguments.length?(e=+n,t.domain(i.map(r)),o):e},o.nice=function(){var e=Jr(i.map(r),n?Math:zl);return t.domain(e),i=e.map(a),o},o.ticks=function(){var t=Xr(i),o=[],s=t[0],l=t[1],u=Math.floor(r(s)),c=Math.ceil(r(l)),h=e%1?2:e;if(isFinite(c-u)){if(n){for(;u<c;u++)for(var d=1;d<h;d++)o.push(a(u)*d);o.push(a(u))}else for(o.push(a(u));u++<c;)for(var d=h-1;d>0;d--)o.push(a(u)*d);for(u=0;o[u]<s;u++);for(c=o.length;o[c-1]>l;c--);o=o.slice(u,c)}return o},o.tickFormat=function(t,n){if(!arguments.length)return Dl;arguments.length<2?n=Dl:"function"!=typeof n&&(n=fo.format(n));var i=Math.max(1,e*t/o.ticks().length);return function(t){var o=t/a(Math.round(r(t)));return o*e<e-.5&&(o*=e),o<=i?n(t):""}},o.copy=function(){return la(t.copy(),e,n,i)},ea(o,t)}function ua(t,e,n){function i(e){return t(r(e))}var r=ca(e),a=ca(1/e);return i.invert=function(e){return a(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain((n=e.map(Number)).map(r)),i):n},i.ticks=function(t){return ra(n,t)},i.tickFormat=function(t,e){return aa(n,t,e)},i.nice=function(t){return i.domain(na(n,t))},i.exponent=function(o){return arguments.length?(r=ca(e=o),a=ca(1/e),t.domain(n.map(r)),i):e},i.copy=function(){return ua(t.copy(),e,n)},ea(i,t)}function ca(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function ha(t,e){function n(n){return a[((r.get(n)||("range"===e.t?r.set(n,t.push(n)):NaN))-1)%a.length]}function i(e,n){return fo.range(t.length).map(function(t){return e+n*t})}var r,a,o;return n.domain=function(i){if(!arguments.length)return t;t=[],r=new p;for(var a,o=-1,s=i.length;++o<s;)r.has(a=i[o])||r.set(a,t.push(a));return n[e.t].apply(n,e.a)},n.range=function(t){return arguments.length?(a=t,o=0,e={t:"range",a:arguments},n):a},n.rangePoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=(l+u)/2,0):(u-l)/(t.length-1+s);return a=i(l+c*s/2,c),o=0,e={t:"rangePoints",a:arguments},n},n.rangeRoundPoints=function(r,s){arguments.length<2&&(s=0);var l=r[0],u=r[1],c=t.length<2?(l=u=Math.round((l+u)/2),0):(u-l)/(t.length-1+s)|0;return a=i(l+Math.round(c*s/2+(u-l-(t.length-1+s)*c)/2),c),o=0,e={t:"rangeRoundPoints",a:arguments},n},n.rangeBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=(h-c)/(t.length-s+2*l);return a=i(c+d*l,d),u&&a.reverse(),o=d*(1-s),e={t:"rangeBands",a:arguments},n},n.rangeRoundBands=function(r,s,l){arguments.length<2&&(s=0),arguments.length<3&&(l=s);var u=r[1]<r[0],c=r[u-0],h=r[1-u],d=Math.floor((h-c)/(t.length-s+2*l));return a=i(c+Math.round((h-c-(t.length-s)*d)/2),d),u&&a.reverse(),o=Math.round(d*(1-s)),e={t:"rangeRoundBands",a:arguments},n},n.rangeBand=function(){return o},n.rangeExtent=function(){return Xr(e.a[0])},n.copy=function(){return ha(t,e)},n.domain(t)}function da(t,e){function n(){var n=0,a=e.length;for(r=[];++n<a;)r[n-1]=fo.quantile(t,n/a);return i}function i(t){if(!isNaN(t=+t))return e[fo.bisect(r,t)]}var r;return i.domain=function(e){return arguments.length?(t=e.map(l).filter(u).sort(s),n()):t},i.range=function(t){return arguments.length?(e=t,n()):e},i.quantiles=function(){return r},i.invertExtent=function(n){return n=e.indexOf(n),n<0?[NaN,NaN]:[n>0?r[n-1]:t[0],n<r.length?r[n]:t[t.length-1]]},i.copy=function(){return da(t,e)},n()}function fa(t,e,n){function i(e){return n[Math.max(0,Math.min(o,Math.floor(a*(e-t))))]}function r(){return a=n.length/(e-t),o=n.length-1,i}var a,o;return i.domain=function(n){return arguments.length?(t=+n[0],e=+n[n.length-1],r()):[t,e]},i.range=function(t){return arguments.length?(n=t,r()):n},i.invertExtent=function(e){return e=n.indexOf(e),e=e<0?NaN:e/a+t,[e,e+1/a]},i.copy=function(){return fa(t,e,n)},r()}function pa(t,e){function n(n){if(n<=n)return e[fo.bisect(t,n)]}return n.domain=function(e){return arguments.length?(t=e,n):t},n.range=function(t){return arguments.length?(e=t,n):e},n.invertExtent=function(n){return n=e.indexOf(n),[t[n-1],t[n]]},n.copy=function(){return pa(t,e)},n}function ga(t){function e(t){return+t}return e.invert=e,e.domain=e.range=function(n){return arguments.length?(t=n.map(e),e):t},e.ticks=function(e){return ra(t,e)},e.tickFormat=function(e,n){return aa(t,e,n)},e.copy=function(){return ga(t)},e}function va(){return 0}function ma(t){return t.innerRadius}function ya(t){return t.outerRadius}function xa(t){return t.startAngle}function ba(t){return t.endAngle}function ka(t){return t&&t.padAngle}function wa(t,e,n,i){return(t-n)*e-(e-i)*t>0?0:1}function Ma(t,e,n,i,r){var a=t[0]-e[0],o=t[1]-e[1],s=(r?i:-i)/Math.sqrt(a*a+o*o),l=s*o,u=-s*a,c=t[0]+l,h=t[1]+u,d=e[0]+l,f=e[1]+u,p=(c+d)/2,g=(h+f)/2,v=d-c,m=f-h,y=v*v+m*m,x=n-i,b=c*f-d*h,k=(m<0?-1:1)*Math.sqrt(Math.max(0,x*x*y-b*b)),w=(b*m-v*k)/y,M=(-b*v-m*k)/y,_=(b*m+v*k)/y,C=(-b*v+m*k)/y,S=w-p,A=M-g,E=_-p,T=C-g;return S*S+A*A>E*E+T*T&&(w=_,M=C),[[w-l,M-u],[w*n/x,M*n/x]]}function _a(t){function e(e){function o(){u.push("M",a(t(c),s))}for(var l,u=[],c=[],h=-1,d=e.length,f=Dt(n),p=Dt(i);++h<d;)r.call(this,l=e[h],h)?c.push([+f.call(this,l,h),+p.call(this,l,h)]):c.length&&(o(),c=[]);return c.length&&o(),u.length?u.join(""):null}var n=Ln,i=Wn,r=Le,a=Ca,o=a.key,s=.7;return e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e.defined=function(t){return arguments.length?(r=t,e):r},e.interpolate=function(t){return arguments.length?(o="function"==typeof t?a=t:(a=Ol.get(t)||Ca).key,e):o},e.tension=function(t){return arguments.length?(s=t,e):s},e}function Ca(t){return t.length>1?t.join("L"):t+"Z"}function Sa(t){return t.join("L")+"Z"}function Aa(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i[0]+(i=t[e])[0])/2,"V",i[1]);return n>1&&r.push("H",i[0]),r.join("")}function Ea(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("V",(i=t[e])[1],"H",i[0]);return r.join("")}function Ta(t){for(var e=0,n=t.length,i=t[0],r=[i[0],",",i[1]];++e<n;)r.push("H",(i=t[e])[0],"V",i[1]);return r.join("")}function Fa(t,e){return t.length<4?Ca(t):t[1]+Na(t.slice(1,-1),La(t,e))}function Da(t,e){return t.length<3?Sa(t):t[0]+Na((t.push(t[0]),t),La([t[t.length-2]].concat(t,[t[1]]),e))}function za(t,e){return t.length<3?Ca(t):t[0]+Na(t,La(t,e))}function Na(t,e){if(e.length<1||t.length!=e.length&&t.length!=e.length+2)return Ca(t);var n=t.length!=e.length,i="",r=t[0],a=t[1],o=e[0],s=o,l=1;if(n&&(i+="Q"+(a[0]-2*o[0]/3)+","+(a[1]-2*o[1]/3)+","+a[0]+","+a[1],r=t[1],l=2),e.length>1){s=e[1],a=t[l],l++,i+="C"+(r[0]+o[0])+","+(r[1]+o[1])+","+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1];for(var u=2;u<e.length;u++,l++)a=t[l],s=e[u],i+="S"+(a[0]-s[0])+","+(a[1]-s[1])+","+a[0]+","+a[1]}if(n){var c=t[l];i+="Q"+(a[0]+2*s[0]/3)+","+(a[1]+2*s[1]/3)+","+c[0]+","+c[1]}return i}function La(t,e){for(var n,i=[],r=(1-e)/2,a=t[0],o=t[1],s=1,l=t.length;++s<l;)n=a,a=o,o=t[s],i.push([r*(o[0]-n[0]),r*(o[1]-n[1])]);return i}function Wa(t){if(t.length<3)return Ca(t);var e=1,n=t.length,i=t[0],r=i[0],a=i[1],o=[r,r,r,(i=t[1])[0]],s=[a,a,a,i[1]],l=[r,",",a,"L",Ra(Hl,o),",",Ra(Hl,s)];for(t.push(t[n-1]);++e<=n;)i=t[e],o.shift(),o.push(i[0]),s.shift(),s.push(i[1]),ja(l,o,s);return t.pop(),l.push("L",i),l.join("")}function Pa(t){if(t.length<4)return Ca(t);for(var e,n=[],i=-1,r=t.length,a=[0],o=[0];++i<3;)e=t[i],a.push(e[0]),o.push(e[1]);for(n.push(Ra(Hl,a)+","+Ra(Hl,o)),--i;++i<r;)e=t[i],a.shift(),a.push(e[0]),o.shift(),o.push(e[1]),ja(n,a,o);return n.join("")}function Ia(t){for(var e,n,i=-1,r=t.length,a=r+4,o=[],s=[];++i<4;)n=t[i%r],o.push(n[0]),s.push(n[1]);for(e=[Ra(Hl,o),",",Ra(Hl,s)],--i;++i<a;)n=t[i%r],o.shift(),o.push(n[0]),s.shift(),s.push(n[1]),ja(e,o,s);return e.join("")}function Oa(t,e){var n=t.length-1;if(n)for(var i,r,a=t[0][0],o=t[0][1],s=t[n][0]-a,l=t[n][1]-o,u=-1;++u<=n;)i=t[u],r=u/n,i[0]=e*i[0]+(1-e)*(a+r*s),i[1]=e*i[1]+(1-e)*(o+r*l);return Wa(t)}function Ra(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]+t[3]*e[3]}function ja(t,e,n){t.push("C",Ra(Rl,e),",",Ra(Rl,n),",",Ra(jl,e),",",Ra(jl,n),",",Ra(Hl,e),",",Ra(Hl,n))}function Ha(t,e){return(e[1]-t[1])/(e[0]-t[0])}function Ba(t){for(var e=0,n=t.length-1,i=[],r=t[0],a=t[1],o=i[0]=Ha(r,a);++e<n;)i[e]=(o+(o=Ha(r=a,a=t[e+1])))/2;return i[e]=o,i}function Ga(t){for(var e,n,i,r,a=[],o=Ba(t),s=-1,l=t.length-1;++s<l;)e=Ha(t[s],t[s+1]),Co(e)<Bo?o[s]=o[s+1]=0:(n=o[s]/e,i=o[s+1]/e,r=n*n+i*i,r>9&&(r=3*e/Math.sqrt(r),o[s]=r*n,o[s+1]=r*i));for(s=-1;++s<=l;)r=(t[Math.min(l,s+1)][0]-t[Math.max(0,s-1)][0])/(6*(1+o[s]*o[s])),a.push([r||0,o[s]*r||0]);return a}function qa(t){return t.length<3?Ca(t):t[0]+Na(t,Ga(t))}function Ya(t){for(var e,n,i,r=-1,a=t.length;++r<a;)e=t[r],n=e[0],i=e[1]-Uo,e[0]=n*Math.cos(i),e[1]=n*Math.sin(i);return t}function Va(t){function e(e){function l(){g.push("M",s(t(m),h),c,u(t(v.reverse()),h),"Z");
}for(var d,f,p,g=[],v=[],m=[],y=-1,x=e.length,b=Dt(n),k=Dt(r),w=n===i?function(){return f}:Dt(i),M=r===a?function(){return p}:Dt(a);++y<x;)o.call(this,d=e[y],y)?(v.push([f=+b.call(this,d,y),p=+k.call(this,d,y)]),m.push([+w.call(this,d,y),+M.call(this,d,y)])):v.length&&(l(),v=[],m=[]);return v.length&&l(),g.length?g.join(""):null}var n=Ln,i=Ln,r=0,a=Wn,o=Le,s=Ca,l=s.key,u=s,c="L",h=.7;return e.x=function(t){return arguments.length?(n=i=t,e):i},e.x0=function(t){return arguments.length?(n=t,e):n},e.x1=function(t){return arguments.length?(i=t,e):i},e.y=function(t){return arguments.length?(r=a=t,e):a},e.y0=function(t){return arguments.length?(r=t,e):r},e.y1=function(t){return arguments.length?(a=t,e):a},e.defined=function(t){return arguments.length?(o=t,e):o},e.interpolate=function(t){return arguments.length?(l="function"==typeof t?s=t:(s=Ol.get(t)||Ca).key,u=s.reverse||s,c=s.closed?"M":"L",e):l},e.tension=function(t){return arguments.length?(h=t,e):h},e}function Ua(t){return t.radius}function Xa(t){return[t.x,t.y]}function Za(t){return function(){var e=t.apply(this,arguments),n=e[0],i=e[1]-Uo;return[n*Math.cos(i),n*Math.sin(i)]}}function $a(){return 64}function Ja(){return"circle"}function Qa(t){var e=Math.sqrt(t/qo);return"M0,"+e+"A"+e+","+e+" 0 1,1 0,"+-e+"A"+e+","+e+" 0 1,1 0,"+e+"Z"}function Ka(t){return function(){var e,n,i;(e=this[t])&&(i=e[n=e.active])&&(i.timer.c=null,i.timer.t=NaN,--e.count?delete e[n]:delete this[t],e.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function to(t,e,n){return Fo(t,Xl),t.namespace=e,t.id=n,t}function eo(t,e,n,i){var r=t.id,a=t.namespace;return X(t,"function"==typeof n?function(t,o,s){t[a][r].tween.set(e,i(n.call(t,t.__data__,o,s)))}:(n=i(n),function(t){t[a][r].tween.set(e,n)}))}function no(t){return null==t&&(t=""),function(){this.textContent=t}}function io(t){return null==t?"__transition__":"__transition_"+t+"__"}function ro(t,e,n,i,r){function a(t){var e=g.delay;return u.t=e+l,e<=t?o(t-e):void(u.c=o)}function o(n){var r=f.active,a=f[r];a&&(a.timer.c=null,a.timer.t=NaN,--f.count,delete f[r],a.event&&a.event.interrupt.call(t,t.__data__,a.index));for(var o in f)if(+o<i){var p=f[o];p.timer.c=null,p.timer.t=NaN,--f.count,delete f[o]}u.c=s,Pt(function(){return u.c&&s(n||1)&&(u.c=null,u.t=NaN),1},0,l),f.active=i,g.event&&g.event.start.call(t,t.__data__,e),d=[],g.tween.forEach(function(n,i){(i=i.call(t,t.__data__,e))&&d.push(i)}),h=g.ease,c=g.duration}function s(r){for(var a=r/c,o=h(a),s=d.length;s>0;)d[--s].call(t,o);if(a>=1)return g.event&&g.event.end.call(t,t.__data__,e),--f.count?delete f[i]:delete t[n],1}var l,u,c,h,d,f=t[n]||(t[n]={active:0,count:0}),g=f[i];g||(l=r.time,u=Pt(a,0,l),g=f[i]={tween:new p,time:l,timer:u,delay:r.delay,duration:r.duration,ease:r.ease,index:e},r=null,++f.count)}function ao(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate("+(isFinite(i)?i:n(t))+",0)"})}function oo(t,e,n){t.attr("transform",function(t){var i=e(t);return"translate(0,"+(isFinite(i)?i:n(t))+")"})}function so(t){return t.toISOString()}function lo(t,e,n){function i(e){return t(e)}function r(t,n){var i=t[1]-t[0],r=i/n,a=fo.bisect(iu,r);return a==iu.length?[e.year,ia(t.map(function(t){return t/31536e6}),n)[2]]:a?e[r/iu[a-1]<iu[a]/r?a-1:a]:[ou,ia(t,n)[2]]}return i.invert=function(e){return uo(t.invert(e))},i.domain=function(e){return arguments.length?(t.domain(e),i):t.domain().map(uo)},i.nice=function(t,e){function n(n){return!isNaN(n)&&!t.range(n,uo(+n+1),e).length}var a=i.domain(),o=Xr(a),s=null==t?r(o,10):"number"==typeof t&&r(o,t);return s&&(t=s[0],e=s[1]),i.domain(Jr(a,e>1?{floor:function(e){for(;n(e=t.floor(e));)e=uo(e-1);return e},ceil:function(e){for(;n(e=t.ceil(e));)e=uo(+e+1);return e}}:t))},i.ticks=function(t,e){var n=Xr(i.domain()),a=null==t?r(n,10):"number"==typeof t?r(n,t):!t.range&&[{range:t},e];return a&&(t=a[0],e=a[1]),t.range(n[0],uo(+n[1]+1),e<1?1:e)},i.tickFormat=function(){return n},i.copy=function(){return lo(t.copy(),e,n)},ea(i,t)}function uo(t){return new Date(t)}function co(t){return JSON.parse(t.responseText)}function ho(t){var e=vo.createRange();return e.selectNode(vo.body),e.createContextualFragment(t.responseText)}var fo={version:"3.5.17"},po=[].slice,go=function(t){return po.call(t)},vo=this.document;if(vo)try{go(vo.documentElement.childNodes)[0].nodeType}catch(mo){go=function(t){for(var e=t.length,n=new Array(e);e--;)n[e]=t[e];return n}}if(Date.now||(Date.now=function(){return+new Date}),vo)try{vo.createElement("DIV").style.setProperty("opacity",0,"")}catch(yo){var xo=this.Element.prototype,bo=xo.setAttribute,ko=xo.setAttributeNS,wo=this.CSSStyleDeclaration.prototype,Mo=wo.setProperty;xo.setAttribute=function(t,e){bo.call(this,t,e+"")},xo.setAttributeNS=function(t,e,n){ko.call(this,t,e,n+"")},wo.setProperty=function(t,e,n){Mo.call(this,t,e+"",n)}}fo.ascending=s,fo.descending=function(t,e){return e<t?-1:e>t?1:e>=t?0:NaN},fo.min=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&n>i&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&n>i&&(n=i)}return n},fo.max=function(t,e){var n,i,r=-1,a=t.length;if(1===arguments.length){for(;++r<a;)if(null!=(i=t[r])&&i>=i){n=i;break}for(;++r<a;)null!=(i=t[r])&&i>n&&(n=i)}else{for(;++r<a;)if(null!=(i=e.call(t,t[r],r))&&i>=i){n=i;break}for(;++r<a;)null!=(i=e.call(t,t[r],r))&&i>n&&(n=i)}return n},fo.extent=function(t,e){var n,i,r,a=-1,o=t.length;if(1===arguments.length){for(;++a<o;)if(null!=(i=t[a])&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=t[a])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++a<o;)if(null!=(i=e.call(t,t[a],a))&&i>=i){n=r=i;break}for(;++a<o;)null!=(i=e.call(t,t[a],a))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},fo.sum=function(t,e){var n,i=0,r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)u(n=+t[a])&&(i+=n);else for(;++a<r;)u(n=+e.call(t,t[a],a))&&(i+=n);return i},fo.mean=function(t,e){var n,i=0,r=t.length,a=-1,o=r;if(1===arguments.length)for(;++a<r;)u(n=l(t[a]))?i+=n:--o;else for(;++a<r;)u(n=l(e.call(t,t[a],a)))?i+=n:--o;if(o)return i/o},fo.quantile=function(t,e){var n=(t.length-1)*e+1,i=Math.floor(n),r=+t[i-1],a=n-i;return a?r+a*(t[i]-r):r},fo.median=function(t,e){var n,i=[],r=t.length,a=-1;if(1===arguments.length)for(;++a<r;)u(n=l(t[a]))&&i.push(n);else for(;++a<r;)u(n=l(e.call(t,t[a],a)))&&i.push(n);if(i.length)return fo.quantile(i.sort(s),.5)},fo.variance=function(t,e){var n,i,r=t.length,a=0,o=0,s=-1,c=0;if(1===arguments.length)for(;++s<r;)u(n=l(t[s]))&&(i=n-a,a+=i/++c,o+=i*(n-a));else for(;++s<r;)u(n=l(e.call(t,t[s],s)))&&(i=n-a,a+=i/++c,o+=i*(n-a));if(c>1)return o/(c-1)},fo.deviation=function(){var t=fo.variance.apply(this,arguments);return t?Math.sqrt(t):t};var _o=c(s);fo.bisectLeft=_o.left,fo.bisect=fo.bisectRight=_o.right,fo.bisector=function(t){return c(1===t.length?function(e,n){return s(t(e),n)}:t)},fo.shuffle=function(t,e,n){(a=arguments.length)<3&&(n=t.length,a<2&&(e=0));for(var i,r,a=n-e;a;)r=Math.random()*a--|0,i=t[a+e],t[a+e]=t[r+e],t[r+e]=i;return t},fo.permute=function(t,e){for(var n=e.length,i=new Array(n);n--;)i[n]=t[e[n]];return i},fo.pairs=function(t){for(var e,n=0,i=t.length-1,r=t[0],a=new Array(i<0?0:i);n<i;)a[n]=[e=r,r=t[++n]];return a},fo.transpose=function(t){if(!(r=t.length))return[];for(var e=-1,n=fo.min(t,h),i=new Array(n);++e<n;)for(var r,a=-1,o=i[e]=new Array(r);++a<r;)o[a]=t[a][e];return i},fo.zip=function(){return fo.transpose(arguments)},fo.keys=function(t){var e=[];for(var n in t)e.push(n);return e},fo.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},fo.entries=function(t){var e=[];for(var n in t)e.push({key:n,value:t[n]});return e},fo.merge=function(t){for(var e,n,i,r=t.length,a=-1,o=0;++a<r;)o+=t[a].length;for(n=new Array(o);--r>=0;)for(i=t[r],e=i.length;--e>=0;)n[--o]=i[e];return n};var Co=Math.abs;fo.range=function(t,e,n){if(arguments.length<3&&(n=1,arguments.length<2&&(e=t,t=0)),(e-t)/n===1/0)throw new Error("infinite range");var i,r=[],a=d(Co(n)),o=-1;if(t*=a,e*=a,n*=a,n<0)for(;(i=t+n*++o)>e;)r.push(i/a);else for(;(i=t+n*++o)<e;)r.push(i/a);return r},fo.map=function(t,e){var n=new p;if(t instanceof p)t.forEach(function(t,e){n.set(t,e)});else if(Array.isArray(t)){var i,r=-1,a=t.length;if(1===arguments.length)for(;++r<a;)n.set(r,t[r]);else for(;++r<a;)n.set(e.call(t,i=t[r],r),i)}else for(var o in t)n.set(o,t[o]);return n};var So="__proto__",Ao="\0";f(p,{has:m,get:function(t){return this._[g(t)]},set:function(t,e){return this._[g(t)]=e},remove:y,keys:x,values:function(){var t=[];for(var e in this._)t.push(this._[e]);return t},entries:function(){var t=[];for(var e in this._)t.push({key:v(e),value:this._[e]});return t},size:b,empty:k,forEach:function(t){for(var e in this._)t.call(this,v(e),this._[e])}}),fo.nest=function(){function t(e,o,s){if(s>=a.length)return i?i.call(r,o):n?o.sort(n):o;for(var l,u,c,h,d=-1,f=o.length,g=a[s++],v=new p;++d<f;)(h=v.get(l=g(u=o[d])))?h.push(u):v.set(l,[u]);return e?(u=e(),c=function(n,i){u.set(n,t(e,i,s))}):(u={},c=function(n,i){u[n]=t(e,i,s)}),v.forEach(c),u}function e(t,n){if(n>=a.length)return t;var i=[],r=o[n++];return t.forEach(function(t,r){i.push({key:t,values:e(r,n)})}),r?i.sort(function(t,e){return r(t.key,e.key)}):i}var n,i,r={},a=[],o=[];return r.map=function(e,n){return t(n,e,0)},r.entries=function(n){return e(t(fo.map,n,0),0)},r.key=function(t){return a.push(t),r},r.sortKeys=function(t){return o[a.length-1]=t,r},r.sortValues=function(t){return n=t,r},r.rollup=function(t){return i=t,r},r},fo.set=function(t){var e=new w;if(t)for(var n=0,i=t.length;n<i;++n)e.add(t[n]);return e},f(w,{has:m,add:function(t){return this._[g(t+="")]=!0,t},remove:y,values:x,size:b,empty:k,forEach:function(t){for(var e in this._)t.call(this,v(e))}}),fo.behavior={},fo.rebind=function(t,e){for(var n,i=1,r=arguments.length;++i<r;)t[n=arguments[i]]=_(t,e,e[n]);return t};var Eo=["webkit","ms","moz","Moz","o","O"];fo.dispatch=function(){for(var t=new A,e=-1,n=arguments.length;++e<n;)t[arguments[e]]=E(t);return t},A.prototype.on=function(t,e){var n=t.indexOf("."),i="";if(n>=0&&(i=t.slice(n+1),t=t.slice(0,n)),t)return arguments.length<2?this[t].on(i):this[t].on(i,e);if(2===arguments.length){if(null==e)for(t in this)this.hasOwnProperty(t)&&this[t].on(i,null);return this}},fo.event=null,fo.requote=function(t){return t.replace(To,"\\$&")};var To=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,Fo={}.__proto__?function(t,e){t.__proto__=e}:function(t,e){for(var n in e)t[n]=e[n]},Do=function(t,e){return e.querySelector(t)},zo=function(t,e){return e.querySelectorAll(t)},No=function(t,e){var n=t.matches||t[C(t,"matchesSelector")];return(No=function(t,e){return n.call(t,e)})(t,e)};"function"==typeof Sizzle&&(Do=function(t,e){return Sizzle(t,e)[0]||null},zo=Sizzle,No=Sizzle.matchesSelector),fo.selection=function(){return fo.select(vo.documentElement)};var Lo=fo.selection.prototype=[];Lo.select=function(t){var e,n,i,r,a=[];t=N(t);for(var o=-1,s=this.length;++o<s;){a.push(e=[]),e.parentNode=(i=this[o]).parentNode;for(var l=-1,u=i.length;++l<u;)(r=i[l])?(e.push(n=t.call(r,r.__data__,l,o)),n&&"__data__"in r&&(n.__data__=r.__data__)):e.push(null)}return z(a)},Lo.selectAll=function(t){var e,n,i=[];t=L(t);for(var r=-1,a=this.length;++r<a;)for(var o=this[r],s=-1,l=o.length;++s<l;)(n=o[s])&&(i.push(e=go(t.call(n,n.__data__,s,r))),e.parentNode=n);return z(i)};var Wo="http://www.w3.org/1999/xhtml",Po={svg:"http://www.w3.org/2000/svg",xhtml:Wo,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};fo.ns={prefix:Po,qualify:function(t){var e=t.indexOf(":"),n=t;return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Po.hasOwnProperty(n)?{space:Po[n],local:t}:t}},Lo.attr=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node();return t=fo.ns.qualify(t),t.local?n.getAttributeNS(t.space,t.local):n.getAttribute(t)}for(e in t)this.each(W(e,t[e]));return this}return this.each(W(t,e))},Lo.classed=function(t,e){if(arguments.length<2){if("string"==typeof t){var n=this.node(),i=(t=O(t)).length,r=-1;if(e=n.classList){for(;++r<i;)if(!e.contains(t[r]))return!1}else for(e=n.getAttribute("class");++r<i;)if(!I(t[r]).test(e))return!1;return!0}for(e in t)this.each(R(e,t[e]));return this}return this.each(R(t,e))},Lo.style=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e="");for(n in t)this.each(H(n,t[n],e));return this}if(i<2){var r=this.node();return o(r).getComputedStyle(r,null).getPropertyValue(t)}n=""}return this.each(H(t,e,n))},Lo.property=function(t,e){if(arguments.length<2){if("string"==typeof t)return this.node()[t];for(e in t)this.each(B(e,t[e]));return this}return this.each(B(t,e))},Lo.text=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.textContent=null==e?"":e}:null==t?function(){this.textContent=""}:function(){this.textContent=t}):this.node().textContent},Lo.html=function(t){return arguments.length?this.each("function"==typeof t?function(){var e=t.apply(this,arguments);this.innerHTML=null==e?"":e}:null==t?function(){this.innerHTML=""}:function(){this.innerHTML=t}):this.node().innerHTML},Lo.append=function(t){return t=G(t),this.select(function(){return this.appendChild(t.apply(this,arguments))})},Lo.insert=function(t,e){return t=G(t),e=N(e),this.select(function(){return this.insertBefore(t.apply(this,arguments),e.apply(this,arguments)||null)})},Lo.remove=function(){return this.each(q)},Lo.data=function(t,e){function n(t,n){var i,r,a,o=t.length,c=n.length,h=Math.min(o,c),d=new Array(c),f=new Array(c),g=new Array(o);if(e){var v,m=new p,y=new Array(o);for(i=-1;++i<o;)(r=t[i])&&(m.has(v=e.call(r,r.__data__,i))?g[i]=r:m.set(v,r),y[i]=v);for(i=-1;++i<c;)(r=m.get(v=e.call(n,a=n[i],i)))?r!==!0&&(d[i]=r,r.__data__=a):f[i]=Y(a),m.set(v,!0);for(i=-1;++i<o;)i in y&&m.get(y[i])!==!0&&(g[i]=t[i])}else{for(i=-1;++i<h;)r=t[i],a=n[i],r?(r.__data__=a,d[i]=r):f[i]=Y(a);for(;i<c;++i)f[i]=Y(n[i]);for(;i<o;++i)g[i]=t[i]}f.update=d,f.parentNode=d.parentNode=g.parentNode=t.parentNode,s.push(f),l.push(d),u.push(g)}var i,r,a=-1,o=this.length;if(!arguments.length){for(t=new Array(o=(i=this[0]).length);++a<o;)(r=i[a])&&(t[a]=r.__data__);return t}var s=Z([]),l=z([]),u=z([]);if("function"==typeof t)for(;++a<o;)n(i=this[a],t.call(i,i.parentNode.__data__,a));else for(;++a<o;)n(i=this[a],t);return l.enter=function(){return s},l.exit=function(){return u},l},Lo.datum=function(t){return arguments.length?this.property("__data__",t):this.property("__data__")},Lo.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=V(t));for(var a=0,o=this.length;a<o;a++){r.push(e=[]),e.parentNode=(n=this[a]).parentNode;for(var s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return z(r)},Lo.order=function(){for(var t=-1,e=this.length;++t<e;)for(var n,i=this[t],r=i.length-1,a=i[r];--r>=0;)(n=i[r])&&(a&&a!==n.nextSibling&&a.parentNode.insertBefore(n,a),a=n);return this},Lo.sort=function(t){t=U.apply(this,arguments);for(var e=-1,n=this.length;++e<n;)this[e].sort(t);return this.order()},Lo.each=function(t){return X(this,function(e,n,i){t.call(e,e.__data__,n,i)})},Lo.call=function(t){var e=go(arguments);return t.apply(e[0]=this,e),this},Lo.empty=function(){return!this.node()},Lo.node=function(){for(var t=0,e=this.length;t<e;t++)for(var n=this[t],i=0,r=n.length;i<r;i++){var a=n[i];if(a)return a}return null},Lo.size=function(){var t=0;return X(this,function(){++t}),t};var Io=[];fo.selection.enter=Z,fo.selection.enter.prototype=Io,Io.append=Lo.append,Io.empty=Lo.empty,Io.node=Lo.node,Io.call=Lo.call,Io.size=Lo.size,Io.select=function(t){for(var e,n,i,r,a,o=[],s=-1,l=this.length;++s<l;){i=(r=this[s]).update,o.push(e=[]),e.parentNode=r.parentNode;for(var u=-1,c=r.length;++u<c;)(a=r[u])?(e.push(i[u]=n=t.call(r.parentNode,a.__data__,u,s)),n.__data__=a.__data__):e.push(null)}return z(o)},Io.insert=function(t,e){return arguments.length<2&&(e=$(this)),Lo.insert.call(this,t,e)},fo.select=function(t){var e;return"string"==typeof t?(e=[Do(t,vo)],e.parentNode=vo.documentElement):(e=[t],e.parentNode=a(t)),z([e])},fo.selectAll=function(t){var e;return"string"==typeof t?(e=go(zo(t,vo)),e.parentNode=vo.documentElement):(e=go(t),e.parentNode=null),z([e])},Lo.on=function(t,e,n){var i=arguments.length;if(i<3){if("string"!=typeof t){i<2&&(e=!1);for(n in t)this.each(J(n,t[n],e));return this}if(i<2)return(i=this.node()["__on"+t])&&i._;n=!1}return this.each(J(t,e,n))};var Oo=fo.map({mouseenter:"mouseover",mouseleave:"mouseout"});vo&&Oo.forEach(function(t){"on"+t in vo&&Oo.remove(t)});var Ro,jo=0;fo.mouse=function(t){return et(t,F())};var Ho=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;fo.touch=function(t,e,n){if(arguments.length<3&&(n=e,e=F().changedTouches),e)for(var i,r=0,a=e.length;r<a;++r)if((i=e[r]).identifier===n)return et(t,i)},fo.behavior.drag=function(){function t(){this.on("mousedown.drag",r).on("touchstart.drag",a)}function e(t,e,r,a,o){return function(){function s(){var t,n,i=e(d,g);i&&(t=i[0]-x[0],n=i[1]-x[1],p|=t|n,x=i,f({type:"drag",x:i[0]+u[0],y:i[1]+u[1],dx:t,dy:n}))}function l(){e(d,g)&&(m.on(a+v,null).on(o+v,null),y(p),f({type:"dragend"}))}var u,c=this,h=fo.event.target.correspondingElement||fo.event.target,d=c.parentNode,f=n.of(c,arguments),p=0,g=t(),v=".drag"+(null==g?"":"-"+g),m=fo.select(r(h)).on(a+v,s).on(o+v,l),y=tt(h),x=e(d,g);i?(u=i.apply(c,arguments),u=[u.x-x[0],u.y-x[1]]):u=[0,0],f({type:"dragstart"})}}var n=D(t,"drag","dragstart","dragend"),i=null,r=e(S,fo.mouse,o,"mousemove","mouseup"),a=e(nt,fo.touch,M,"touchmove","touchend");return t.origin=function(e){return arguments.length?(i=e,t):i},fo.rebind(t,n,"on")},fo.touches=function(t,e){return arguments.length<2&&(e=F().touches),e?go(e).map(function(e){var n=et(t,e);return n.identifier=e.identifier,n}):[]};var Bo=1e-6,Go=Bo*Bo,qo=Math.PI,Yo=2*qo,Vo=Yo-Bo,Uo=qo/2,Xo=qo/180,Zo=180/qo,$o=Math.SQRT2,Jo=2,Qo=4;fo.interpolateZoom=function(t,e){var n,i,r=t[0],a=t[1],o=t[2],s=e[0],l=e[1],u=e[2],c=s-r,h=l-a,d=c*c+h*h;if(d<Go)i=Math.log(u/o)/$o,n=function(t){return[r+t*c,a+t*h,o*Math.exp($o*t*i)]};else{var f=Math.sqrt(d),p=(u*u-o*o+Qo*d)/(2*o*Jo*f),g=(u*u-o*o-Qo*d)/(2*u*Jo*f),v=Math.log(Math.sqrt(p*p+1)-p),m=Math.log(Math.sqrt(g*g+1)-g);i=(m-v)/$o,n=function(t){var e=t*i,n=lt(v),s=o/(Jo*f)*(n*ut($o*e+v)-st(v));return[r+s*c,a+s*h,o*n/lt($o*e+v)]}}return n.duration=1e3*i,n},fo.behavior.zoom=function(){function t(t){t.on(F,h).on(ts+".zoom",f).on("dblclick.zoom",p).on(L,d)}function e(t){return[(t[0]-_.x)/_.k,(t[1]-_.y)/_.k]}function n(t){return[t[0]*_.k+_.x,t[1]*_.k+_.y]}function i(t){_.k=Math.max(S[0],Math.min(S[1],t))}function r(t,e){e=n(e),_.x+=t[0]-e[0],_.y+=t[1]-e[1]}function a(e,n,a,o){e.__chart__={x:_.x,y:_.y,k:_.k},i(Math.pow(2,o)),r(v=n,a),e=fo.select(e),A>0&&(e=e.transition().duration(A)),e.call(t.event)}function s(){k&&k.domain(b.range().map(function(t){return(t-_.x)/_.k}).map(b.invert)),M&&M.domain(w.range().map(function(t){return(t-_.y)/_.k}).map(w.invert))}function l(t){E++||t({type:"zoomstart"})}function u(t){s(),t({type:"zoom",scale:_.k,translate:[_.x,_.y]})}function c(t){--E||(t({type:"zoomend"}),v=null)}function h(){function t(){s=1,r(fo.mouse(i),d),u(a)}function n(){h.on(z,null).on(N,null),f(s),c(a)}var i=this,a=W.of(i,arguments),s=0,h=fo.select(o(i)).on(z,t).on(N,n),d=e(fo.mouse(i)),f=tt(i);Ul.call(i),l(a)}function d(){function t(){var t=fo.touches(p);return f=_.k,t.forEach(function(t){t.identifier in v&&(v[t.identifier]=e(t))}),t}function n(){var e=fo.event.target;fo.select(e).on(b,o).on(k,s),w.push(e);for(var n=fo.event.changedTouches,i=0,r=n.length;i<r;++i)v[n[i].identifier]=null;var l=t(),u=Date.now();if(1===l.length){if(u-x<500){var c=l[0];a(p,c,v[c.identifier],Math.floor(Math.log(_.k)/Math.LN2)+1),T()}x=u}else if(l.length>1){var c=l[0],h=l[1],d=c[0]-h[0],f=c[1]-h[1];m=d*d+f*f}}function o(){var t,e,n,a,o=fo.touches(p);Ul.call(p);for(var s=0,l=o.length;s<l;++s,a=null)if(n=o[s],a=v[n.identifier]){if(e)break;t=n,e=a}if(a){var c=(c=n[0]-t[0])*c+(c=n[1]-t[1])*c,h=m&&Math.sqrt(c/m);t=[(t[0]+n[0])/2,(t[1]+n[1])/2],e=[(e[0]+a[0])/2,(e[1]+a[1])/2],i(h*f)}x=null,r(t,e),u(g)}function s(){if(fo.event.touches.length){for(var e=fo.event.changedTouches,n=0,i=e.length;n<i;++n)delete v[e[n].identifier];for(var r in v)return void t()}fo.selectAll(w).on(y,null),M.on(F,h).on(L,d),C(),c(g)}var f,p=this,g=W.of(p,arguments),v={},m=0,y=".zoom-"+fo.event.changedTouches[0].identifier,b="touchmove"+y,k="touchend"+y,w=[],M=fo.select(p),C=tt(p);n(),l(g),M.on(F,null).on(L,n)}function f(){var t=W.of(this,arguments);y?clearTimeout(y):(Ul.call(this),g=e(v=m||fo.mouse(this)),l(t)),y=setTimeout(function(){y=null,c(t)},50),T(),i(Math.pow(2,.002*Ko())*_.k),r(v,g),u(t)}function p(){var t=fo.mouse(this),n=Math.log(_.k)/Math.LN2;a(this,t,e(t),fo.event.shiftKey?Math.ceil(n)-1:Math.floor(n)+1)}var g,v,m,y,x,b,k,w,M,_={x:0,y:0,k:1},C=[960,500],S=es,A=250,E=0,F="mousedown.zoom",z="mousemove.zoom",N="mouseup.zoom",L="touchstart.zoom",W=D(t,"zoomstart","zoom","zoomend");return ts||(ts="onwheel"in vo?(Ko=function(){return-fo.event.deltaY*(fo.event.deltaMode?120:1)},"wheel"):"onmousewheel"in vo?(Ko=function(){return fo.event.wheelDelta},"mousewheel"):(Ko=function(){return-fo.event.detail},"MozMousePixelScroll")),t.event=function(t){t.each(function(){var t=W.of(this,arguments),e=_;Yl?fo.select(this).transition().each("start.zoom",function(){_=this.__chart__||{x:0,y:0,k:1},l(t)}).tween("zoom:zoom",function(){var n=C[0],i=C[1],r=v?v[0]:n/2,a=v?v[1]:i/2,o=fo.interpolateZoom([(r-_.x)/_.k,(a-_.y)/_.k,n/_.k],[(r-e.x)/e.k,(a-e.y)/e.k,n/e.k]);return function(e){var i=o(e),s=n/i[2];this.__chart__=_={x:r-i[0]*s,y:a-i[1]*s,k:s},u(t)}}).each("interrupt.zoom",function(){c(t)}).each("end.zoom",function(){c(t)}):(this.__chart__=_,l(t),u(t),c(t))})},t.translate=function(e){return arguments.length?(_={x:+e[0],y:+e[1],k:_.k},s(),t):[_.x,_.y]},t.scale=function(e){return arguments.length?(_={x:_.x,y:_.y,k:null},i(+e),s(),t):_.k},t.scaleExtent=function(e){return arguments.length?(S=null==e?es:[+e[0],+e[1]],t):S},t.center=function(e){return arguments.length?(m=e&&[+e[0],+e[1]],t):m},t.size=function(e){return arguments.length?(C=e&&[+e[0],+e[1]],t):C},t.duration=function(e){return arguments.length?(A=+e,t):A},t.x=function(e){return arguments.length?(k=e,b=e.copy(),_={x:0,y:0,k:1},t):k},t.y=function(e){return arguments.length?(M=e,w=e.copy(),_={x:0,y:0,k:1},t):M},fo.rebind(t,W,"on")};var Ko,ts,es=[0,1/0];fo.color=ht,ht.prototype.toString=function(){return this.rgb()+""},fo.hsl=dt;var ns=dt.prototype=new ht;ns.brighter=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(this.h,this.s,this.l/t)},ns.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new dt(this.h,this.s,t*this.l)},ns.rgb=function(){return ft(this.h,this.s,this.l)},fo.hcl=pt;var is=pt.prototype=new ht;is.brighter=function(t){return new pt(this.h,this.c,Math.min(100,this.l+rs*(arguments.length?t:1)))},is.darker=function(t){return new pt(this.h,this.c,Math.max(0,this.l-rs*(arguments.length?t:1)))},is.rgb=function(){return gt(this.h,this.c,this.l).rgb()},fo.lab=vt;var rs=18,as=.95047,os=1,ss=1.08883,ls=vt.prototype=new ht;ls.brighter=function(t){return new vt(Math.min(100,this.l+rs*(arguments.length?t:1)),this.a,this.b)},ls.darker=function(t){return new vt(Math.max(0,this.l-rs*(arguments.length?t:1)),this.a,this.b)},ls.rgb=function(){return mt(this.l,this.a,this.b)},fo.rgb=wt;var us=wt.prototype=new ht;us.brighter=function(t){t=Math.pow(.7,arguments.length?t:1);var e=this.r,n=this.g,i=this.b,r=30;return e||n||i?(e&&e<r&&(e=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new wt(Math.min(255,e/t),Math.min(255,n/t),Math.min(255,i/t))):new wt(r,r,r)},us.darker=function(t){return t=Math.pow(.7,arguments.length?t:1),new wt(t*this.r,t*this.g,t*this.b)},us.hsl=function(){return At(this.r,this.g,this.b)},us.toString=function(){return"#"+Ct(this.r)+Ct(this.g)+Ct(this.b)};var cs=fo.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});cs.forEach(function(t,e){cs.set(t,Mt(e))}),fo.functor=Dt,fo.xhr=zt(M),fo.dsv=function(t,e){function n(t,n,a){arguments.length<3&&(a=n,n=null);var o=Nt(t,e,null==n?i:r(n),a);return o.row=function(t){return arguments.length?o.response(null==(n=t)?i:r(t)):n},o}function i(t){return n.parse(t.responseText)}function r(t){return function(e){return n.parse(e.responseText,t)}}function a(e){return e.map(o).join(t)}function o(t){return s.test(t)?'"'+t.replace(/\"/g,'""')+'"':t}var s=new RegExp('["'+t+"\n]"),l=t.charCodeAt(0);return n.parse=function(t,e){var i;return n.parseRows(t,function(t,n){if(i)return i(t,n-1);var r=new Function("d","return {"+t.map(function(t,e){return JSON.stringify(t)+": d["+e+"]"}).join(",")+"}");i=e?function(t,n){return e(r(t),n)}:r})},n.parseRows=function(t,e){function n(){if(c>=u)return o;if(r)return r=!1,a;var e=c;if(34===t.charCodeAt(e)){for(var n=e;n++<u;)if(34===t.charCodeAt(n)){if(34!==t.charCodeAt(n+1))break;++n}c=n+2;var i=t.charCodeAt(n+1);return 13===i?(r=!0,10===t.charCodeAt(n+2)&&++c):10===i&&(r=!0),t.slice(e+1,n).replace(/""/g,'"')}for(;c<u;){var i=t.charCodeAt(c++),s=1;if(10===i)r=!0;else if(13===i)r=!0,10===t.charCodeAt(c)&&(++c,++s);else if(i!==l)continue;return t.slice(e,c-s)}return t.slice(e)}for(var i,r,a={},o={},s=[],u=t.length,c=0,h=0;(i=n())!==o;){for(var d=[];i!==a&&i!==o;)d.push(i),i=n();e&&null==(d=e(d,h++))||s.push(d)}return s},n.format=function(e){if(Array.isArray(e[0]))return n.formatRows(e);var i=new w,r=[];return e.forEach(function(t){for(var e in t)i.has(e)||r.push(i.add(e))}),[r.map(o).join(t)].concat(e.map(function(e){return r.map(function(t){return o(e[t])}).join(t)})).join("\n")},n.formatRows=function(t){return t.map(a).join("\n")},n},fo.csv=fo.dsv(",","text/csv"),fo.tsv=fo.dsv("\t","text/tab-separated-values");var hs,ds,fs,ps,gs=this[C(this,"requestAnimationFrame")]||function(t){setTimeout(t,17)};fo.timer=function(){Pt.apply(this,arguments)},fo.timer.flush=function(){Ot(),Rt()},fo.round=function(t,e){return e?Math.round(t*(e=Math.pow(10,e)))/e:Math.round(t)};var vs=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"].map(Ht);fo.formatPrefix=function(t,e){var n=0;return(t=+t)&&(t<0&&(t*=-1),e&&(t=fo.round(t,jt(t,e))),n=1+Math.floor(1e-12+Math.log(t)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),vs[8+n/3]};var ms=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,ys=fo.map({b:function(t){return t.toString(2)},c:function(t){return String.fromCharCode(t)},o:function(t){return t.toString(8)},x:function(t){return t.toString(16)},X:function(t){return t.toString(16).toUpperCase()},g:function(t,e){return t.toPrecision(e)},e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},r:function(t,e){return(t=fo.round(t,jt(t,e))).toFixed(Math.max(0,Math.min(20,jt(t*(1+1e-15),e))))}}),xs=fo.time={},bs=Date;qt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){ks.setUTCDate.apply(this._,arguments)},setDay:function(){ks.setUTCDay.apply(this._,arguments)},setFullYear:function(){ks.setUTCFullYear.apply(this._,arguments)},setHours:function(){ks.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){ks.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){ks.setUTCMinutes.apply(this._,arguments)},setMonth:function(){ks.setUTCMonth.apply(this._,arguments)},setSeconds:function(){ks.setUTCSeconds.apply(this._,arguments)},setTime:function(){ks.setTime.apply(this._,arguments)}};var ks=Date.prototype;xs.year=Yt(function(t){return t=xs.day(t),t.setMonth(0,1),t},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t){return t.getFullYear()}),xs.years=xs.year.range,xs.years.utc=xs.year.utc.range,xs.day=Yt(function(t){var e=new bs(2e3,0);return e.setFullYear(t.getFullYear(),t.getMonth(),t.getDate()),e},function(t,e){t.setDate(t.getDate()+e)},function(t){return t.getDate()-1}),xs.days=xs.day.range,xs.days.utc=xs.day.utc.range,xs.dayOfYear=function(t){var e=xs.year(t);return Math.floor((t-e-6e4*(t.getTimezoneOffset()-e.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(t,e){e=7-e;var n=xs[t]=Yt(function(t){return(t=xs.day(t)).setDate(t.getDate()-(t.getDay()+e)%7),t},function(t,e){t.setDate(t.getDate()+7*Math.floor(e))},function(t){var n=xs.year(t).getDay();return Math.floor((xs.dayOfYear(t)+(n+e)%7)/7)-(n!==e)});xs[t+"s"]=n.range,xs[t+"s"].utc=n.utc.range,xs[t+"OfYear"]=function(t){var n=xs.year(t).getDay();return Math.floor((xs.dayOfYear(t)+(n+e)%7)/7)}}),xs.week=xs.sunday,xs.weeks=xs.sunday.range,xs.weeks.utc=xs.sunday.utc.range,xs.weekOfYear=xs.sundayOfYear;var ws={"-":"",_:" ",0:"0"},Ms=/^\s*\d+/,_s=/^%/;fo.locale=function(t){return{numberFormat:Bt(t),timeFormat:Ut(t)}};var Cs=fo.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",
date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});fo.format=Cs.numberFormat,fo.geo={},pe.prototype={s:0,t:0,add:function(t){ge(t,this.t,Ss),ge(Ss.s,this.s,this),this.s?this.t+=Ss.t:this.s=Ss.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var Ss=new pe;fo.geo.stream=function(t,e){t&&As.hasOwnProperty(t.type)?As[t.type](t,e):ve(t,e)};var As={Feature:function(t,e){ve(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,i=-1,r=n.length;++i<r;)ve(n[i].geometry,e)}},Es={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)t=n[i],e.point(t[0],t[1],t[2])},LineString:function(t,e){me(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)me(n[i],e,0)},Polygon:function(t,e){ye(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,i=-1,r=n.length;++i<r;)ye(n[i],e)},GeometryCollection:function(t,e){for(var n=t.geometries,i=-1,r=n.length;++i<r;)ve(n[i],e)}};fo.geo.area=function(t){return Ts=0,fo.geo.stream(t,Ds),Ts};var Ts,Fs=new pe,Ds={sphere:function(){Ts+=4*qo},point:S,lineStart:S,lineEnd:S,polygonStart:function(){Fs.reset(),Ds.lineStart=xe},polygonEnd:function(){var t=2*Fs;Ts+=t<0?4*qo+t:t,Ds.lineStart=Ds.lineEnd=Ds.point=S}};fo.geo.bounds=function(){function t(t,e){x.push(b=[c=t,d=t]),e<h&&(h=e),e>f&&(f=e)}function e(e,n){var i=be([e*Xo,n*Xo]);if(m){var r=we(m,i),a=[r[1],-r[0],0],o=we(a,r);Ce(o),o=Se(o);var l=e-p,u=l>0?1:-1,g=o[0]*Zo*u,v=Co(l)>180;if(v^(u*p<g&&g<u*e)){var y=o[1]*Zo;y>f&&(f=y)}else if(g=(g+360)%360-180,v^(u*p<g&&g<u*e)){var y=-o[1]*Zo;y<h&&(h=y)}else n<h&&(h=n),n>f&&(f=n);v?e<p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e):d>=c?(e<c&&(c=e),e>d&&(d=e)):e>p?s(c,e)>s(c,d)&&(d=e):s(e,d)>s(c,d)&&(c=e)}else t(e,n);m=i,p=e}function n(){k.point=e}function i(){b[0]=c,b[1]=d,k.point=t,m=null}function r(t,n){if(m){var i=t-p;y+=Co(i)>180?i+(i>0?360:-360):i}else g=t,v=n;Ds.point(t,n),e(t,n)}function a(){Ds.lineStart()}function o(){r(g,v),Ds.lineEnd(),Co(y)>Bo&&(c=-(d=180)),b[0]=c,b[1]=d,m=null}function s(t,e){return(e-=t)<0?e+360:e}function l(t,e){return t[0]-e[0]}function u(t,e){return e[0]<=e[1]?e[0]<=t&&t<=e[1]:t<e[0]||e[1]<t}var c,h,d,f,p,g,v,m,y,x,b,k={point:t,lineStart:n,lineEnd:i,polygonStart:function(){k.point=r,k.lineStart=a,k.lineEnd=o,y=0,Ds.polygonStart()},polygonEnd:function(){Ds.polygonEnd(),k.point=t,k.lineStart=n,k.lineEnd=i,Fs<0?(c=-(d=180),h=-(f=90)):y>Bo?f=90:y<-Bo&&(h=-90),b[0]=c,b[1]=d}};return function(t){f=d=-(c=h=1/0),x=[],fo.geo.stream(t,k);var e=x.length;if(e){x.sort(l);for(var n,i=1,r=x[0],a=[r];i<e;++i)n=x[i],u(n[0],r)||u(n[1],r)?(s(r[0],n[1])>s(r[0],r[1])&&(r[1]=n[1]),s(n[0],r[1])>s(r[0],r[1])&&(r[0]=n[0])):a.push(r=n);for(var o,n,p=-(1/0),e=a.length-1,i=0,r=a[e];i<=e;r=n,++i)n=a[i],(o=s(r[1],n[0]))>p&&(p=o,c=n[0],d=r[1])}return x=b=null,c===1/0||h===1/0?[[NaN,NaN],[NaN,NaN]]:[[c,h],[d,f]]}}(),fo.geo.centroid=function(t){zs=Ns=Ls=Ws=Ps=Is=Os=Rs=js=Hs=Bs=0,fo.geo.stream(t,Gs);var e=js,n=Hs,i=Bs,r=e*e+n*n+i*i;return r<Go&&(e=Is,n=Os,i=Rs,Ns<Bo&&(e=Ls,n=Ws,i=Ps),r=e*e+n*n+i*i,r<Go)?[NaN,NaN]:[Math.atan2(n,e)*Zo,ot(i/Math.sqrt(r))*Zo]};var zs,Ns,Ls,Ws,Ps,Is,Os,Rs,js,Hs,Bs,Gs={sphere:S,point:Ee,lineStart:Fe,lineEnd:De,polygonStart:function(){Gs.lineStart=ze},polygonEnd:function(){Gs.lineStart=Fe}},qs=Oe(Le,Be,qe,[-qo,-qo/2]),Ys=1e9;fo.geo.clipExtent=function(){var t,e,n,i,r,a,o={stream:function(t){return r&&(r.valid=!1),r=a(t),r.valid=!0,r},extent:function(s){return arguments.length?(a=Xe(t=+s[0][0],e=+s[0][1],n=+s[1][0],i=+s[1][1]),r&&(r.valid=!1,r=null),o):[[t,e],[n,i]]}};return o.extent([[0,0],[960,500]])},(fo.geo.conicEqualArea=function(){return Ze($e)}).raw=$e,fo.geo.albers=function(){return fo.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},fo.geo.albersUsa=function(){function t(t){var a=t[0],o=t[1];return e=null,n(a,o),e||(i(a,o),e)||r(a,o),e}var e,n,i,r,a=fo.geo.albers(),o=fo.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),s=fo.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};return t.invert=function(t){var e=a.scale(),n=a.translate(),i=(t[0]-n[0])/e,r=(t[1]-n[1])/e;return(r>=.12&&r<.234&&i>=-.425&&i<-.214?o:r>=.166&&r<.234&&i>=-.214&&i<-.115?s:a).invert(t)},t.stream=function(t){var e=a.stream(t),n=o.stream(t),i=s.stream(t);return{point:function(t,r){e.point(t,r),n.point(t,r),i.point(t,r)},sphere:function(){e.sphere(),n.sphere(),i.sphere()},lineStart:function(){e.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){e.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){e.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){e.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},t.precision=function(e){return arguments.length?(a.precision(e),o.precision(e),s.precision(e),t):a.precision()},t.scale=function(e){return arguments.length?(a.scale(e),o.scale(.35*e),s.scale(e),t.translate(a.translate())):a.scale()},t.translate=function(e){if(!arguments.length)return a.translate();var u=a.scale(),c=+e[0],h=+e[1];return n=a.translate(e).clipExtent([[c-.455*u,h-.238*u],[c+.455*u,h+.238*u]]).stream(l).point,i=o.translate([c-.307*u,h+.201*u]).clipExtent([[c-.425*u+Bo,h+.12*u+Bo],[c-.214*u-Bo,h+.234*u-Bo]]).stream(l).point,r=s.translate([c-.205*u,h+.212*u]).clipExtent([[c-.214*u+Bo,h+.166*u+Bo],[c-.115*u-Bo,h+.234*u-Bo]]).stream(l).point,t},t.scale(1070)};var Vs,Us,Xs,Zs,$s,Js,Qs={point:S,lineStart:S,lineEnd:S,polygonStart:function(){Us=0,Qs.lineStart=Je},polygonEnd:function(){Qs.lineStart=Qs.lineEnd=Qs.point=S,Vs+=Co(Us/2)}},Ks={point:Qe,lineStart:S,lineEnd:S,polygonStart:S,polygonEnd:S},tl={point:en,lineStart:nn,lineEnd:rn,polygonStart:function(){tl.lineStart=an},polygonEnd:function(){tl.point=en,tl.lineStart=nn,tl.lineEnd=rn}};fo.geo.path=function(){function t(t){return t&&("function"==typeof s&&a.pointRadius(+s.apply(this,arguments)),o&&o.valid||(o=r(a)),fo.geo.stream(t,o)),a.result()}function e(){return o=null,t}var n,i,r,a,o,s=4.5;return t.area=function(t){return Vs=0,fo.geo.stream(t,r(Qs)),Vs},t.centroid=function(t){return Ls=Ws=Ps=Is=Os=Rs=js=Hs=Bs=0,fo.geo.stream(t,r(tl)),Bs?[js/Bs,Hs/Bs]:Rs?[Is/Rs,Os/Rs]:Ps?[Ls/Ps,Ws/Ps]:[NaN,NaN]},t.bounds=function(t){return $s=Js=-(Xs=Zs=1/0),fo.geo.stream(t,r(Ks)),[[Xs,Zs],[$s,Js]]},t.projection=function(t){return arguments.length?(r=(n=t)?t.stream||ln(t):M,e()):n},t.context=function(t){return arguments.length?(a=null==(i=t)?new Ke:new on(t),"function"!=typeof s&&a.pointRadius(s),e()):i},t.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(a.pointRadius(+e),+e),t):s},t.projection(fo.geo.albersUsa()).context(null)},fo.geo.transform=function(t){return{stream:function(e){var n=new un(e);for(var i in t)n[i]=t[i];return n}}},un.prototype={point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},fo.geo.projection=hn,fo.geo.projectionMutator=dn,(fo.geo.equirectangular=function(){return hn(pn)}).raw=pn.invert=pn,fo.geo.rotation=function(t){function e(e){return e=t(e[0]*Xo,e[1]*Xo),e[0]*=Zo,e[1]*=Zo,e}return t=vn(t[0]%360*Xo,t[1]*Xo,t.length>2?t[2]*Xo:0),e.invert=function(e){return e=t.invert(e[0]*Xo,e[1]*Xo),e[0]*=Zo,e[1]*=Zo,e},e},gn.invert=pn,fo.geo.circle=function(){function t(){var t="function"==typeof i?i.apply(this,arguments):i,e=vn(-t[0]*Xo,-t[1]*Xo,0).invert,r=[];return n(null,null,1,{point:function(t,n){r.push(t=e(t,n)),t[0]*=Zo,t[1]*=Zo}}),{type:"Polygon",coordinates:[r]}}var e,n,i=[0,0],r=6;return t.origin=function(e){return arguments.length?(i=e,t):i},t.angle=function(i){return arguments.length?(n=bn((e=+i)*Xo,r*Xo),t):e},t.precision=function(i){return arguments.length?(n=bn(e*Xo,(r=+i)*Xo),t):r},t.angle(90)},fo.geo.distance=function(t,e){var n,i=(e[0]-t[0])*Xo,r=t[1]*Xo,a=e[1]*Xo,o=Math.sin(i),s=Math.cos(i),l=Math.sin(r),u=Math.cos(r),c=Math.sin(a),h=Math.cos(a);return Math.atan2(Math.sqrt((n=h*o)*n+(n=u*c-l*h*s)*n),l*c+u*h*s)},fo.geo.graticule=function(){function t(){return{type:"MultiLineString",coordinates:e()}}function e(){return fo.range(Math.ceil(a/v)*v,r,v).map(d).concat(fo.range(Math.ceil(u/m)*m,l,m).map(f)).concat(fo.range(Math.ceil(i/p)*p,n,p).filter(function(t){return Co(t%v)>Bo}).map(c)).concat(fo.range(Math.ceil(s/g)*g,o,g).filter(function(t){return Co(t%m)>Bo}).map(h))}var n,i,r,a,o,s,l,u,c,h,d,f,p=10,g=p,v=90,m=360,y=2.5;return t.lines=function(){return e().map(function(t){return{type:"LineString",coordinates:t}})},t.outline=function(){return{type:"Polygon",coordinates:[d(a).concat(f(l).slice(1),d(r).reverse().slice(1),f(u).reverse().slice(1))]}},t.extent=function(e){return arguments.length?t.majorExtent(e).minorExtent(e):t.minorExtent()},t.majorExtent=function(e){return arguments.length?(a=+e[0][0],r=+e[1][0],u=+e[0][1],l=+e[1][1],a>r&&(e=a,a=r,r=e),u>l&&(e=u,u=l,l=e),t.precision(y)):[[a,u],[r,l]]},t.minorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],s=+e[0][1],o=+e[1][1],i>n&&(e=i,i=n,n=e),s>o&&(e=s,s=o,o=e),t.precision(y)):[[i,s],[n,o]]},t.step=function(e){return arguments.length?t.majorStep(e).minorStep(e):t.minorStep()},t.majorStep=function(e){return arguments.length?(v=+e[0],m=+e[1],t):[v,m]},t.minorStep=function(e){return arguments.length?(p=+e[0],g=+e[1],t):[p,g]},t.precision=function(e){return arguments.length?(y=+e,c=wn(s,o,90),h=Mn(i,n,y),d=wn(u,l,90),f=Mn(a,r,y),t):y},t.majorExtent([[-180,-90+Bo],[180,90-Bo]]).minorExtent([[-180,-80-Bo],[180,80+Bo]])},fo.geo.greatArc=function(){function t(){return{type:"LineString",coordinates:[e||i.apply(this,arguments),n||r.apply(this,arguments)]}}var e,n,i=_n,r=Cn;return t.distance=function(){return fo.geo.distance(e||i.apply(this,arguments),n||r.apply(this,arguments))},t.source=function(n){return arguments.length?(i=n,e="function"==typeof n?null:n,t):i},t.target=function(e){return arguments.length?(r=e,n="function"==typeof e?null:e,t):r},t.precision=function(){return arguments.length?t:0},t},fo.geo.interpolate=function(t,e){return Sn(t[0]*Xo,t[1]*Xo,e[0]*Xo,e[1]*Xo)},fo.geo.length=function(t){return el=0,fo.geo.stream(t,nl),el};var el,nl={sphere:S,point:S,lineStart:An,lineEnd:S,polygonStart:S,polygonEnd:S},il=En(function(t){return Math.sqrt(2/(1+t))},function(t){return 2*Math.asin(t/2)});(fo.geo.azimuthalEqualArea=function(){return hn(il)}).raw=il;var rl=En(function(t){var e=Math.acos(t);return e&&e/Math.sin(e)},M);(fo.geo.azimuthalEquidistant=function(){return hn(rl)}).raw=rl,(fo.geo.conicConformal=function(){return Ze(Tn)}).raw=Tn,(fo.geo.conicEquidistant=function(){return Ze(Fn)}).raw=Fn;var al=En(function(t){return 1/t},Math.atan);(fo.geo.gnomonic=function(){return hn(al)}).raw=al,Dn.invert=function(t,e){return[t,2*Math.atan(Math.exp(e))-Uo]},(fo.geo.mercator=function(){return zn(Dn)}).raw=Dn;var ol=En(function(){return 1},Math.asin);(fo.geo.orthographic=function(){return hn(ol)}).raw=ol;var sl=En(function(t){return 1/(1+t)},function(t){return 2*Math.atan(t)});(fo.geo.stereographic=function(){return hn(sl)}).raw=sl,Nn.invert=function(t,e){return[-e,2*Math.atan(Math.exp(t))-Uo]},(fo.geo.transverseMercator=function(){var t=zn(Nn),e=t.center,n=t.rotate;return t.center=function(t){return t?e([-t[1],t[0]]):(t=e(),[t[1],-t[0]])},t.rotate=function(t){return t?n([t[0],t[1],t.length>2?t[2]+90:90]):(t=n(),[t[0],t[1],t[2]-90])},n([0,0,90])}).raw=Nn,fo.geom={},fo.geom.hull=function(t){function e(t){if(t.length<3)return[];var e,r=Dt(n),a=Dt(i),o=t.length,s=[],l=[];for(e=0;e<o;e++)s.push([+r.call(this,t[e],e),+a.call(this,t[e],e),e]);for(s.sort(In),e=0;e<o;e++)l.push([s[e][0],-s[e][1]]);var u=Pn(s),c=Pn(l),h=c[0]===u[0],d=c[c.length-1]===u[u.length-1],f=[];for(e=u.length-1;e>=0;--e)f.push(t[s[u[e]][2]]);for(e=+h;e<c.length-d;++e)f.push(t[s[c[e]][2]]);return f}var n=Ln,i=Wn;return arguments.length?e(t):(e.x=function(t){return arguments.length?(n=t,e):n},e.y=function(t){return arguments.length?(i=t,e):i},e)},fo.geom.polygon=function(t){return Fo(t,ll),t};var ll=fo.geom.polygon.prototype=[];ll.area=function(){for(var t,e=-1,n=this.length,i=this[n-1],r=0;++e<n;)t=i,i=this[e],r+=t[1]*i[0]-t[0]*i[1];return.5*r},ll.centroid=function(t){var e,n,i=-1,r=this.length,a=0,o=0,s=this[r-1];for(arguments.length||(t=-1/(6*this.area()));++i<r;)e=s,s=this[i],n=e[0]*s[1]-s[0]*e[1],a+=(e[0]+s[0])*n,o+=(e[1]+s[1])*n;return[a*t,o*t]},ll.clip=function(t){for(var e,n,i,r,a,o,s=jn(t),l=-1,u=this.length-jn(this),c=this[u-1];++l<u;){for(e=t.slice(),t.length=0,r=this[l],a=e[(i=e.length-s)-1],n=-1;++n<i;)o=e[n],On(o,c,r)?(On(a,c,r)||t.push(Rn(a,o,c,r)),t.push(o)):On(a,c,r)&&t.push(Rn(a,o,c,r)),a=o;s&&t.push(t[0]),c=r}return t};var ul,cl,hl,dl,fl,pl=[],gl=[];Xn.prototype.prepare=function(){for(var t,e=this.edges,n=e.length;n--;)t=e[n].edge,t.b&&t.a||e.splice(n,1);return e.sort($n),e.length},oi.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},si.prototype={insert:function(t,e){var n,i,r;if(t){if(e.P=t,e.N=t.N,t.N&&(t.N.P=e),t.N=e,t.R){for(t=t.R;t.L;)t=t.L;t.L=e}else t.R=e;n=t}else this._?(t=hi(this._),e.P=null,e.N=t,t.P=t.L=e,n=t):(e.P=e.N=null,this._=e,n=null);for(e.L=e.R=null,e.U=n,e.C=!0,t=e;n&&n.C;)i=n.U,n===i.L?(r=i.R,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.R&&(ui(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ci(this,i))):(r=i.L,r&&r.C?(n.C=r.C=!1,i.C=!0,t=i):(t===n.L&&(ci(this,n),t=n,n=t.U),n.C=!1,i.C=!0,ui(this,i))),n=t.U;this._.C=!1},remove:function(t){t.N&&(t.N.P=t.P),t.P&&(t.P.N=t.N),t.N=t.P=null;var e,n,i,r=t.U,a=t.L,o=t.R;if(n=a?o?hi(o):a:o,r?r.L===t?r.L=n:r.R=n:this._=n,a&&o?(i=n.C,n.C=t.C,n.L=a,a.U=n,n!==o?(r=n.U,n.U=t.U,t=n.R,r.L=t,n.R=o,o.U=n):(n.U=r,r=n,t=n.R)):(i=t.C,t=n),t&&(t.U=r),!i){if(t&&t.C)return void(t.C=!1);do{if(t===this._)break;if(t===r.L){if(e=r.R,e.C&&(e.C=!1,r.C=!0,ui(this,r),e=r.R),e.L&&e.L.C||e.R&&e.R.C){e.R&&e.R.C||(e.L.C=!1,e.C=!0,ci(this,e),e=r.R),e.C=r.C,r.C=e.R.C=!1,ui(this,r),t=this._;break}}else if(e=r.L,e.C&&(e.C=!1,r.C=!0,ci(this,r),e=r.L),e.L&&e.L.C||e.R&&e.R.C){e.L&&e.L.C||(e.R.C=!1,e.C=!0,ui(this,e),e=r.L),e.C=r.C,r.C=e.L.C=!1,ci(this,r),t=this._;break}e.C=!0,t=r,r=r.U}while(!t.C);t&&(t.C=!1)}}},fo.geom.voronoi=function(t){function e(t){var e=new Array(t.length),i=s[0][0],r=s[0][1],a=s[1][0],o=s[1][1];return di(n(t),s).cells.forEach(function(n,s){var l=n.edges,u=n.site,c=e[s]=l.length?l.map(function(t){var e=t.start();return[e.x,e.y]}):u.x>=i&&u.x<=a&&u.y>=r&&u.y<=o?[[i,o],[a,o],[a,r],[i,r]]:[];c.point=t[s]}),e}function n(t){return t.map(function(t,e){return{x:Math.round(a(t,e)/Bo)*Bo,y:Math.round(o(t,e)/Bo)*Bo,i:e}})}var i=Ln,r=Wn,a=i,o=r,s=vl;return t?e(t):(e.links=function(t){return di(n(t)).edges.filter(function(t){return t.l&&t.r}).map(function(e){return{source:t[e.l.i],target:t[e.r.i]}})},e.triangles=function(t){var e=[];return di(n(t)).cells.forEach(function(n,i){for(var r,a,o=n.site,s=n.edges.sort($n),l=-1,u=s.length,c=s[u-1].edge,h=c.l===o?c.r:c.l;++l<u;)r=c,a=h,c=s[l].edge,h=c.l===o?c.r:c.l,i<a.i&&i<h.i&&pi(o,a,h)<0&&e.push([t[i],t[a.i],t[h.i]])}),e},e.x=function(t){return arguments.length?(a=Dt(i=t),e):i},e.y=function(t){return arguments.length?(o=Dt(r=t),e):r},e.clipExtent=function(t){return arguments.length?(s=null==t?vl:t,e):s===vl?null:s},e.size=function(t){return arguments.length?e.clipExtent(t&&[[0,0],t]):s===vl?null:s&&s[1]},e)};var vl=[[-1e6,-1e6],[1e6,1e6]];fo.geom.delaunay=function(t){return fo.geom.voronoi().triangles(t)},fo.geom.quadtree=function(t,e,n,i,r){function a(t){function a(t,e,n,i,r,a,o,s){if(!isNaN(n)&&!isNaN(i))if(t.leaf){var l=t.x,c=t.y;if(null!=l)if(Co(l-n)+Co(c-i)<.01)u(t,e,n,i,r,a,o,s);else{var h=t.point;t.x=t.y=t.point=null,u(t,h,l,c,r,a,o,s),u(t,e,n,i,r,a,o,s)}else t.x=n,t.y=i,t.point=e}else u(t,e,n,i,r,a,o,s)}function u(t,e,n,i,r,o,s,l){var u=.5*(r+s),c=.5*(o+l),h=n>=u,d=i>=c,f=d<<1|h;t.leaf=!1,t=t.nodes[f]||(t.nodes[f]=mi()),h?r=u:s=u,d?o=c:l=c,a(t,e,n,i,r,o,s,l)}var c,h,d,f,p,g,v,m,y,x=Dt(s),b=Dt(l);if(null!=e)g=e,v=n,m=i,y=r;else if(m=y=-(g=v=1/0),h=[],d=[],p=t.length,o)for(f=0;f<p;++f)c=t[f],c.x<g&&(g=c.x),c.y<v&&(v=c.y),c.x>m&&(m=c.x),c.y>y&&(y=c.y),h.push(c.x),d.push(c.y);else for(f=0;f<p;++f){var k=+x(c=t[f],f),w=+b(c,f);k<g&&(g=k),w<v&&(v=w),k>m&&(m=k),w>y&&(y=w),h.push(k),d.push(w)}var M=m-g,_=y-v;M>_?y=v+M:m=g+_;var C=mi();if(C.add=function(t){a(C,t,+x(t,++f),+b(t,f),g,v,m,y)},C.visit=function(t){yi(t,C,g,v,m,y)},C.find=function(t){return xi(C,t[0],t[1],g,v,m,y)},f=-1,null==e){for(;++f<p;)a(C,t[f],h[f],d[f],g,v,m,y);--f}else t.forEach(C.add);return h=d=t=c=null,C}var o,s=Ln,l=Wn;return(o=arguments.length)?(s=gi,l=vi,3===o&&(r=n,i=e,n=e=0),a(t)):(a.x=function(t){return arguments.length?(s=t,a):s},a.y=function(t){return arguments.length?(l=t,a):l},a.extent=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=+t[0][0],n=+t[0][1],i=+t[1][0],r=+t[1][1]),a):null==e?null:[[e,n],[i,r]]},a.size=function(t){return arguments.length?(null==t?e=n=i=r=null:(e=n=0,i=+t[0],r=+t[1]),a):null==e?null:[i-e,r-n]},a)},fo.interpolateRgb=bi,fo.interpolateObject=ki,fo.interpolateNumber=wi,fo.interpolateString=Mi;var ml=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yl=new RegExp(ml.source,"g");fo.interpolate=_i,fo.interpolators=[function(t,e){var n=typeof e;return("string"===n?cs.has(e.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(e)?bi:Mi:e instanceof ht?bi:Array.isArray(e)?Ci:"object"===n&&isNaN(e)?ki:wi)(t,e)}],fo.interpolateArray=Ci;var xl=function(){return M},bl=fo.map({linear:xl,poly:zi,quad:function(){return Ti},cubic:function(){return Fi},sin:function(){return Ni},exp:function(){return Li},circle:function(){return Wi},elastic:Pi,back:Ii,bounce:function(){return Oi}}),kl=fo.map({"in":M,out:Ai,"in-out":Ei,"out-in":function(t){return Ei(Ai(t))}});fo.ease=function(t){var e=t.indexOf("-"),n=e>=0?t.slice(0,e):t,i=e>=0?t.slice(e+1):"in";return n=bl.get(n)||xl,i=kl.get(i)||M,Si(i(n.apply(null,po.call(arguments,1))))},fo.interpolateHcl=Ri,fo.interpolateHsl=ji,fo.interpolateLab=Hi,fo.interpolateRound=Bi,fo.transform=function(t){var e=vo.createElementNS(fo.ns.prefix.svg,"g");return(fo.transform=function(t){if(null!=t){e.setAttribute("transform",t);var n=e.transform.baseVal.consolidate()}return new Gi(n?n.matrix:wl)})(t)},Gi.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var wl={a:1,b:0,c:0,d:1,e:0,f:0};fo.interpolateTransform=Qi,fo.layout={},fo.layout.bundle=function(){return function(t){for(var e=[],n=-1,i=t.length;++n<i;)e.push(er(t[n]));return e}},fo.layout.chord=function(){function t(){var t,u,h,d,f,p={},g=[],v=fo.range(a),m=[];for(n=[],i=[],t=0,d=-1;++d<a;){for(u=0,f=-1;++f<a;)u+=r[d][f];g.push(u),m.push(fo.range(a)),t+=u}for(o&&v.sort(function(t,e){return o(g[t],g[e])}),s&&m.forEach(function(t,e){t.sort(function(t,n){return s(r[e][t],r[e][n])})}),t=(Yo-c*a)/t,u=0,d=-1;++d<a;){for(h=u,f=-1;++f<a;){var y=v[d],x=m[y][f],b=r[y][x],k=u,w=u+=b*t;p[y+"-"+x]={index:y,subindex:x,startAngle:k,endAngle:w,value:b}}i[y]={index:y,startAngle:h,endAngle:u,value:g[y]},u+=c}for(d=-1;++d<a;)for(f=d-1;++f<a;){var M=p[d+"-"+f],_=p[f+"-"+d];(M.value||_.value)&&n.push(M.value<_.value?{source:_,target:M}:{source:M,target:_})}l&&e()}function e(){n.sort(function(t,e){return l((t.source.value+t.target.value)/2,(e.source.value+e.target.value)/2)})}var n,i,r,a,o,s,l,u={},c=0;return u.matrix=function(t){return arguments.length?(a=(r=t)&&r.length,n=i=null,u):r},u.padding=function(t){return arguments.length?(c=t,n=i=null,u):c},u.sortGroups=function(t){return arguments.length?(o=t,n=i=null,u):o},u.sortSubgroups=function(t){return arguments.length?(s=t,n=null,u):s},u.sortChords=function(t){return arguments.length?(l=t,n&&e(),u):l},u.chords=function(){return n||t(),n},u.groups=function(){return i||t(),i},u},fo.layout.force=function(){function t(t){return function(e,n,i,r){if(e.point!==t){var a=e.cx-t.x,o=e.cy-t.y,s=r-n,l=a*a+o*o;if(s*s/m<l){if(l<g){var u=e.charge/l;t.px-=a*u,t.py-=o*u}return!0}if(e.point&&l&&l<g){var u=e.pointCharge/l;t.px-=a*u,t.py-=o*u}}return!e.charge}}function e(t){t.px=fo.event.x,t.py=fo.event.y,l.resume()}var n,i,r,a,o,s,l={},u=fo.dispatch("start","tick","end"),c=[1,1],h=.9,d=Ml,f=_l,p=-30,g=Cl,v=.1,m=.64,y=[],x=[];return l.tick=function(){if((r*=.99)<.005)return n=null,u.end({type:"end",alpha:r=0}),!0;var e,i,l,d,f,g,m,b,k,w=y.length,M=x.length;for(i=0;i<M;++i)l=x[i],d=l.source,f=l.target,b=f.x-d.x,k=f.y-d.y,(g=b*b+k*k)&&(g=r*o[i]*((g=Math.sqrt(g))-a[i])/g,b*=g,k*=g,f.x-=b*(m=d.weight+f.weight?d.weight/(d.weight+f.weight):.5),f.y-=k*m,d.x+=b*(m=1-m),d.y+=k*m);if((m=r*v)&&(b=c[0]/2,k=c[1]/2,i=-1,m))for(;++i<w;)l=y[i],l.x+=(b-l.x)*m,l.y+=(k-l.y)*m;if(p)for(lr(e=fo.geom.quadtree(y),r,s),i=-1;++i<w;)(l=y[i]).fixed||e.visit(t(l));for(i=-1;++i<w;)l=y[i],l.fixed?(l.x=l.px,l.y=l.py):(l.x-=(l.px-(l.px=l.x))*h,l.y-=(l.py-(l.py=l.y))*h);u.tick({type:"tick",alpha:r})},l.nodes=function(t){return arguments.length?(y=t,l):y},l.links=function(t){return arguments.length?(x=t,l):x},l.size=function(t){return arguments.length?(c=t,l):c},l.linkDistance=function(t){return arguments.length?(d="function"==typeof t?t:+t,l):d},l.distance=l.linkDistance,l.linkStrength=function(t){return arguments.length?(f="function"==typeof t?t:+t,l):f},l.friction=function(t){return arguments.length?(h=+t,l):h},l.charge=function(t){return arguments.length?(p="function"==typeof t?t:+t,l):p},l.chargeDistance=function(t){return arguments.length?(g=t*t,l):Math.sqrt(g)},l.gravity=function(t){return arguments.length?(v=+t,l):v},l.theta=function(t){return arguments.length?(m=t*t,l):Math.sqrt(m)},l.alpha=function(t){return arguments.length?(t=+t,r?t>0?r=t:(n.c=null,n.t=NaN,n=null,u.end({type:"end",alpha:r=0})):t>0&&(u.start({type:"start",alpha:r=t}),n=Pt(l.tick)),l):r},l.start=function(){function t(t,i){if(!n){for(n=new Array(r),l=0;l<r;++l)n[l]=[];for(l=0;l<u;++l){var a=x[l];n[a.source.index].push(a.target),n[a.target.index].push(a.source)}}for(var o,s=n[e],l=-1,c=s.length;++l<c;)if(!isNaN(o=s[l][t]))return o;return Math.random()*i}var e,n,i,r=y.length,u=x.length,h=c[0],g=c[1];for(e=0;e<r;++e)(i=y[e]).index=e,i.weight=0;for(e=0;e<u;++e)i=x[e],"number"==typeof i.source&&(i.source=y[i.source]),"number"==typeof i.target&&(i.target=y[i.target]),++i.source.weight,++i.target.weight;for(e=0;e<r;++e)i=y[e],isNaN(i.x)&&(i.x=t("x",h)),isNaN(i.y)&&(i.y=t("y",g)),isNaN(i.px)&&(i.px=i.x),isNaN(i.py)&&(i.py=i.y);if(a=[],"function"==typeof d)for(e=0;e<u;++e)a[e]=+d.call(this,x[e],e);else for(e=0;e<u;++e)a[e]=d;if(o=[],"function"==typeof f)for(e=0;e<u;++e)o[e]=+f.call(this,x[e],e);else for(e=0;e<u;++e)o[e]=f;if(s=[],"function"==typeof p)for(e=0;e<r;++e)s[e]=+p.call(this,y[e],e);else for(e=0;e<r;++e)s[e]=p;return l.resume()},l.resume=function(){return l.alpha(.1)},l.stop=function(){return l.alpha(0)},l.drag=function(){return i||(i=fo.behavior.drag().origin(M).on("dragstart.force",rr).on("drag.force",e).on("dragend.force",ar)),arguments.length?void this.on("mouseover.force",or).on("mouseout.force",sr).call(i):i},fo.rebind(l,u,"on")};var Ml=20,_l=1,Cl=1/0;fo.layout.hierarchy=function(){function t(r){var a,o=[r],s=[];for(r.depth=0;null!=(a=o.pop());)if(s.push(a),(u=n.call(t,a,a.depth))&&(l=u.length)){for(var l,u,c;--l>=0;)o.push(c=u[l]),c.parent=a,c.depth=a.depth+1;i&&(a.value=0),a.children=u}else i&&(a.value=+i.call(t,a,a.depth)||0),delete a.children;return hr(r,function(t){var n,r;e&&(n=t.children)&&n.sort(e),i&&(r=t.parent)&&(r.value+=t.value)}),s}var e=pr,n=dr,i=fr;return t.sort=function(n){return arguments.length?(e=n,t):e},t.children=function(e){return arguments.length?(n=e,t):n},t.value=function(e){return arguments.length?(i=e,t):i},t.revalue=function(e){return i&&(cr(e,function(t){t.children&&(t.value=0)}),hr(e,function(e){var n;e.children||(e.value=+i.call(t,e,e.depth)||0),(n=e.parent)&&(n.value+=e.value)})),e},t},fo.layout.partition=function(){function t(e,n,i,r){var a=e.children;if(e.x=n,e.y=e.depth*r,e.dx=i,e.dy=r,a&&(o=a.length)){var o,s,l,u=-1;for(i=e.value?i/e.value:0;++u<o;)t(s=a[u],n,l=s.value*i,r),n+=l}}function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,a=-1;++a<r;)i=Math.max(i,e(n[a]));return 1+i}function n(n,a){var o=i.call(this,n,a);return t(o[0],0,r[0],r[1]/e(o[0])),o}var i=fo.layout.hierarchy(),r=[1,1];return n.size=function(t){return arguments.length?(r=t,n):r},ur(n,i)},fo.layout.pie=function(){function t(o){var s,l=o.length,u=o.map(function(n,i){return+e.call(t,n,i)}),c=+("function"==typeof i?i.apply(this,arguments):i),h=("function"==typeof r?r.apply(this,arguments):r)-c,d=Math.min(Math.abs(h)/l,+("function"==typeof a?a.apply(this,arguments):a)),f=d*(h<0?-1:1),p=fo.sum(u),g=p?(h-l*f)/p:0,v=fo.range(l),m=[];return null!=n&&v.sort(n===Sl?function(t,e){return u[e]-u[t]}:function(t,e){return n(o[t],o[e])}),v.forEach(function(t){m[t]={data:o[t],value:s=u[t],startAngle:c,endAngle:c+=s*g+f,padAngle:d}}),m}var e=Number,n=Sl,i=0,r=Yo,a=0;return t.value=function(n){return arguments.length?(e=n,t):e},t.sort=function(e){return arguments.length?(n=e,t):n},t.startAngle=function(e){return arguments.length?(i=e,t):i},t.endAngle=function(e){return arguments.length?(r=e,t):r},t.padAngle=function(e){return arguments.length?(a=e,t):a},t};var Sl={};fo.layout.stack=function(){function t(s,l){if(!(d=s.length))return s;var u=s.map(function(n,i){return e.call(t,n,i)}),c=u.map(function(e){return e.map(function(e,n){return[a.call(t,e,n),o.call(t,e,n)]})}),h=n.call(t,c,l);u=fo.permute(u,h),c=fo.permute(c,h);var d,f,p,g,v=i.call(t,c,l),m=u[0].length;for(p=0;p<m;++p)for(r.call(t,u[0][p],g=v[p],c[0][p][1]),f=1;f<d;++f)r.call(t,u[f][p],g+=c[f-1][p][1],c[f][p][1]);return s}var e=M,n=xr,i=br,r=yr,a=vr,o=mr;return t.values=function(n){return arguments.length?(e=n,t):e},t.order=function(e){return arguments.length?(n="function"==typeof e?e:Al.get(e)||xr,t):n},t.offset=function(e){return arguments.length?(i="function"==typeof e?e:El.get(e)||br,t):i},t.x=function(e){return arguments.length?(a=e,t):a},t.y=function(e){return arguments.length?(o=e,t):o},t.out=function(e){return arguments.length?(r=e,t):r},t};var Al=fo.map({"inside-out":function(t){var e,n,i=t.length,r=t.map(kr),a=t.map(wr),o=fo.range(i).sort(function(t,e){return r[t]-r[e]}),s=0,l=0,u=[],c=[];for(e=0;e<i;++e)n=o[e],s<l?(s+=a[n],u.push(n)):(l+=a[n],c.push(n));return c.reverse().concat(u)},reverse:function(t){return fo.range(t.length).reverse()},"default":xr}),El=fo.map({silhouette:function(t){var e,n,i,r=t.length,a=t[0].length,o=[],s=0,l=[];for(n=0;n<a;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];i>s&&(s=i),o.push(i)}for(n=0;n<a;++n)l[n]=(s-o[n])/2;return l},wiggle:function(t){var e,n,i,r,a,o,s,l,u,c=t.length,h=t[0],d=h.length,f=[];for(f[0]=l=u=0,n=1;n<d;++n){for(e=0,r=0;e<c;++e)r+=t[e][n][1];for(e=0,a=0,s=h[n][0]-h[n-1][0];e<c;++e){for(i=0,o=(t[e][n][1]-t[e][n-1][1])/(2*s);i<e;++i)o+=(t[i][n][1]-t[i][n-1][1])/s;a+=o*t[e][n][1]}f[n]=l-=r?a/r*s:0,l<u&&(u=l)}for(n=0;n<d;++n)f[n]-=u;return f},expand:function(t){var e,n,i,r=t.length,a=t[0].length,o=1/r,s=[];for(n=0;n<a;++n){for(e=0,i=0;e<r;e++)i+=t[e][n][1];if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=o}for(n=0;n<a;++n)s[n]=0;return s},zero:br});fo.layout.histogram=function(){function t(t,a){for(var o,s,l=[],u=t.map(n,this),c=i.call(this,u,a),h=r.call(this,c,u,a),a=-1,d=u.length,f=h.length-1,p=e?1:1/d;++a<f;)o=l[a]=[],o.dx=h[a+1]-(o.x=h[a]),o.y=0;if(f>0)for(a=-1;++a<d;)s=u[a],s>=c[0]&&s<=c[1]&&(o=l[fo.bisect(h,s,1,f)-1],o.y+=p,o.push(t[a]));return l}var e=!0,n=Number,i=Sr,r=_r;return t.value=function(e){return arguments.length?(n=e,t):n},t.range=function(e){return arguments.length?(i=Dt(e),t):i},t.bins=function(e){return arguments.length?(r="number"==typeof e?function(t){return Cr(t,e)}:Dt(e),t):r},t.frequency=function(n){return arguments.length?(e=!!n,t):e},t},fo.layout.pack=function(){function t(t,a){var o=n.call(this,t,a),s=o[0],l=r[0],u=r[1],c=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(s.x=s.y=0,hr(s,function(t){t.r=+c(t.value)}),hr(s,Dr),i){var h=i*(e?1:Math.max(2*s.r/l,2*s.r/u))/2;hr(s,function(t){t.r+=h}),hr(s,Dr),hr(s,function(t){t.r-=h})}return Lr(s,l/2,u/2,e?1:1/Math.max(2*s.r/l,2*s.r/u)),o}var e,n=fo.layout.hierarchy().sort(Ar),i=0,r=[1,1];return t.size=function(e){return arguments.length?(r=e,t):r},t.radius=function(n){return arguments.length?(e=null==n||"function"==typeof n?n:+n,t):e},t.padding=function(e){return arguments.length?(i=+e,t):i},ur(t,n)},fo.layout.tree=function(){function t(t,r){var c=o.call(this,t,r),h=c[0],d=e(h);if(hr(d,n),d.parent.m=-d.z,cr(d,i),u)cr(h,a);else{var f=h,p=h,g=h;cr(h,function(t){t.x<f.x&&(f=t),t.x>p.x&&(p=t),t.depth>g.depth&&(g=t)});var v=s(f,p)/2-f.x,m=l[0]/(p.x+s(p,f)/2+v),y=l[1]/(g.depth||1);cr(h,function(t){t.x=(t.x+v)*m,t.y=t.depth*y})}return c}function e(t){for(var e,n={A:null,children:[t]},i=[n];null!=(e=i.pop());)for(var r,a=e.children,o=0,s=a.length;o<s;++o)i.push((a[o]=r={_:a[o],parent:e,children:(r=a[o].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:o}).a=r);return n.children[0]}function n(t){var e=t.children,n=t.parent.children,i=t.i?n[t.i-1]:null;if(e.length){jr(t);var a=(e[0].z+e[e.length-1].z)/2;i?(t.z=i.z+s(t._,i._),t.m=t.z-a):t.z=a}else i&&(t.z=i.z+s(t._,i._));t.parent.A=r(t,i,t.parent.A||n[0])}function i(t){t._.x=t.z+t.parent.m,t.m+=t.parent.m}function r(t,e,n){if(e){for(var i,r=t,a=t,o=e,l=r.parent.children[0],u=r.m,c=a.m,h=o.m,d=l.m;o=Or(o),r=Ir(r),o&&r;)l=Ir(l),a=Or(a),a.a=t,i=o.z+h-r.z-u+s(o._,r._),i>0&&(Rr(Hr(o,t,n),t,i),u+=i,c+=i),h+=o.m,u+=r.m,d+=l.m,c+=a.m;o&&!Or(a)&&(a.t=o,a.m+=h-c),r&&!Ir(l)&&(l.t=r,l.m+=u-d,n=t)}return n}function a(t){t.x*=l[0],t.y=t.depth*l[1]}var o=fo.layout.hierarchy().sort(null).value(null),s=Pr,l=[1,1],u=null;return t.separation=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(u=null==(l=e)?a:null,t):u?null:l},t.nodeSize=function(e){return arguments.length?(u=null==(l=e)?null:a,t):u?l:null},ur(t,o)},fo.layout.cluster=function(){function t(t,a){var o,s=e.call(this,t,a),l=s[0],u=0;hr(l,function(t){var e=t.children;e&&e.length?(t.x=Gr(e),t.y=Br(e)):(t.x=o?u+=n(t,o):0,t.y=0,o=t)});var c=qr(l),h=Yr(l),d=c.x-n(c,h)/2,f=h.x+n(h,c)/2;return hr(l,r?function(t){t.x=(t.x-l.x)*i[0],t.y=(l.y-t.y)*i[1]}:function(t){t.x=(t.x-d)/(f-d)*i[0],t.y=(1-(l.y?t.y/l.y:1))*i[1]}),s}var e=fo.layout.hierarchy().sort(null).value(null),n=Pr,i=[1,1],r=!1;return t.separation=function(e){return arguments.length?(n=e,t):n},t.size=function(e){return arguments.length?(r=null==(i=e),t):r?null:i},t.nodeSize=function(e){return arguments.length?(r=null!=(i=e),t):r?i:null},ur(t,e)},fo.layout.treemap=function(){function t(t,e){for(var n,i,r=-1,a=t.length;++r<a;)i=(n=t[r]).value*(e<0?0:e),n.area=isNaN(i)||i<=0?0:i}function e(n){var a=n.children;if(a&&a.length){var o,s,l,u=h(n),c=[],d=a.slice(),p=1/0,g="slice"===f?u.dx:"dice"===f?u.dy:"slice-dice"===f?1&n.depth?u.dy:u.dx:Math.min(u.dx,u.dy);for(t(d,u.dx*u.dy/n.value),c.area=0;(l=d.length)>0;)c.push(o=d[l-1]),c.area+=o.area,"squarify"!==f||(s=i(c,g))<=p?(d.pop(),p=s):(c.area-=c.pop().area,r(c,g,u,!1),g=Math.min(u.dx,u.dy),c.length=c.area=0,p=1/0);c.length&&(r(c,g,u,!0),c.length=c.area=0),a.forEach(e)}}function n(e){var i=e.children;if(i&&i.length){var a,o=h(e),s=i.slice(),l=[];for(t(s,o.dx*o.dy/e.value),l.area=0;a=s.pop();)l.push(a),l.area+=a.area,null!=a.z&&(r(l,a.z?o.dx:o.dy,o,!s.length),l.length=l.area=0);i.forEach(n)}}function i(t,e){for(var n,i=t.area,r=0,a=1/0,o=-1,s=t.length;++o<s;)(n=t[o].area)&&(n<a&&(a=n),
n>r&&(r=n));return i*=i,e*=e,i?Math.max(e*r*p/i,i/(e*a*p)):1/0}function r(t,e,n,i){var r,a=-1,o=t.length,s=n.x,u=n.y,c=e?l(t.area/e):0;if(e==n.dx){for((i||c>n.dy)&&(c=n.dy);++a<o;)r=t[a],r.x=s,r.y=u,r.dy=c,s+=r.dx=Math.min(n.x+n.dx-s,c?l(r.area/c):0);r.z=!0,r.dx+=n.x+n.dx-s,n.y+=c,n.dy-=c}else{for((i||c>n.dx)&&(c=n.dx);++a<o;)r=t[a],r.x=s,r.y=u,r.dx=c,u+=r.dy=Math.min(n.y+n.dy-u,c?l(r.area/c):0);r.z=!1,r.dy+=n.y+n.dy-u,n.x+=c,n.dx-=c}}function a(i){var r=o||s(i),a=r[0];return a.x=a.y=0,a.value?(a.dx=u[0],a.dy=u[1]):a.dx=a.dy=0,o&&s.revalue(a),t([a],a.dx*a.dy/a.value),(o?n:e)(a),d&&(o=r),r}var o,s=fo.layout.hierarchy(),l=Math.round,u=[1,1],c=null,h=Vr,d=!1,f="squarify",p=.5*(1+Math.sqrt(5));return a.size=function(t){return arguments.length?(u=t,a):u},a.padding=function(t){function e(e){var n=t.call(a,e,e.depth);return null==n?Vr(e):Ur(e,"number"==typeof n?[n,n,n,n]:n)}function n(e){return Ur(e,t)}if(!arguments.length)return c;var i;return h=null==(c=t)?Vr:"function"==(i=typeof t)?e:"number"===i?(t=[t,t,t,t],n):n,a},a.round=function(t){return arguments.length?(l=t?Math.round:Number,a):l!=Number},a.sticky=function(t){return arguments.length?(d=t,o=null,a):d},a.ratio=function(t){return arguments.length?(p=t,a):p},a.mode=function(t){return arguments.length?(f=t+"",a):f},ur(a,s)},fo.random={normal:function(t,e){var n=arguments.length;return n<2&&(e=1),n<1&&(t=0),function(){var n,i,r;do n=2*Math.random()-1,i=2*Math.random()-1,r=n*n+i*i;while(!r||r>1);return t+e*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var t=fo.random.normal.apply(fo,arguments);return function(){return Math.exp(t())}},bates:function(t){var e=fo.random.irwinHall(t);return function(){return e()/t}},irwinHall:function(t){return function(){for(var e=0,n=0;n<t;n++)e+=Math.random();return e}}},fo.scale={};var Tl={floor:M,ceil:M};fo.scale.linear=function(){return ta([0,1],[0,1],_i,!1)};var Fl={s:1,g:1,p:1,r:1,e:1};fo.scale.log=function(){return la(fo.scale.linear().domain([0,1]),10,!0,[1,10])};var Dl=fo.format(".0e"),zl={floor:function(t){return-Math.ceil(-t)},ceil:function(t){return-Math.floor(-t)}};fo.scale.pow=function(){return ua(fo.scale.linear(),1,[0,1])},fo.scale.sqrt=function(){return fo.scale.pow().exponent(.5)},fo.scale.ordinal=function(){return ha([],{t:"range",a:[[]]})},fo.scale.category10=function(){return fo.scale.ordinal().range(Nl)},fo.scale.category20=function(){return fo.scale.ordinal().range(Ll)},fo.scale.category20b=function(){return fo.scale.ordinal().range(Wl)},fo.scale.category20c=function(){return fo.scale.ordinal().range(Pl)};var Nl=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(_t),Ll=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(_t),Wl=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(_t),Pl=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(_t);fo.scale.quantile=function(){return da([],[])},fo.scale.quantize=function(){return fa(0,1,[0,1])},fo.scale.threshold=function(){return pa([.5],[0,1])},fo.scale.identity=function(){return ga([0,1])},fo.svg={},fo.svg.arc=function(){function t(){var t=Math.max(0,+n.apply(this,arguments)),u=Math.max(0,+i.apply(this,arguments)),c=o.apply(this,arguments)-Uo,h=s.apply(this,arguments)-Uo,d=Math.abs(h-c),f=c>h?0:1;if(u<t&&(p=u,u=t,t=p),d>=Vo)return e(u,f)+(t?e(t,1-f):"")+"Z";var p,g,v,m,y,x,b,k,w,M,_,C,S=0,A=0,E=[];if((m=(+l.apply(this,arguments)||0)/2)&&(v=a===Il?Math.sqrt(t*t+u*u):+a.apply(this,arguments),f||(A*=-1),u&&(A=ot(v/u*Math.sin(m))),t&&(S=ot(v/t*Math.sin(m)))),u){y=u*Math.cos(c+A),x=u*Math.sin(c+A),b=u*Math.cos(h-A),k=u*Math.sin(h-A);var T=Math.abs(h-c-2*A)<=qo?0:1;if(A&&wa(y,x,b,k)===f^T){var F=(c+h)/2;y=u*Math.cos(F),x=u*Math.sin(F),b=k=null}}else y=x=0;if(t){w=t*Math.cos(h-S),M=t*Math.sin(h-S),_=t*Math.cos(c+S),C=t*Math.sin(c+S);var D=Math.abs(c-h+2*S)<=qo?0:1;if(S&&wa(w,M,_,C)===1-f^D){var z=(c+h)/2;w=t*Math.cos(z),M=t*Math.sin(z),_=C=null}}else w=M=0;if(d>Bo&&(p=Math.min(Math.abs(u-t)/2,+r.apply(this,arguments)))>.001){g=t<u^f?0:1;var N=p,L=p;if(d<qo){var W=null==_?[w,M]:null==b?[y,x]:Rn([y,x],[_,C],[b,k],[w,M]),P=y-W[0],I=x-W[1],O=b-W[0],R=k-W[1],j=1/Math.sin(Math.acos((P*O+I*R)/(Math.sqrt(P*P+I*I)*Math.sqrt(O*O+R*R)))/2),H=Math.sqrt(W[0]*W[0]+W[1]*W[1]);L=Math.min(p,(t-H)/(j-1)),N=Math.min(p,(u-H)/(j+1))}if(null!=b){var B=Ma(null==_?[w,M]:[_,C],[y,x],u,N,f),G=Ma([b,k],[w,M],u,N,f);p===N?E.push("M",B[0],"A",N,",",N," 0 0,",g," ",B[1],"A",u,",",u," 0 ",1-f^wa(B[1][0],B[1][1],G[1][0],G[1][1]),",",f," ",G[1],"A",N,",",N," 0 0,",g," ",G[0]):E.push("M",B[0],"A",N,",",N," 0 1,",g," ",G[0])}else E.push("M",y,",",x);if(null!=_){var q=Ma([y,x],[_,C],t,-L,f),Y=Ma([w,M],null==b?[y,x]:[b,k],t,-L,f);p===L?E.push("L",Y[0],"A",L,",",L," 0 0,",g," ",Y[1],"A",t,",",t," 0 ",f^wa(Y[1][0],Y[1][1],q[1][0],q[1][1]),",",1-f," ",q[1],"A",L,",",L," 0 0,",g," ",q[0]):E.push("L",Y[0],"A",L,",",L," 0 0,",g," ",q[0])}else E.push("L",w,",",M)}else E.push("M",y,",",x),null!=b&&E.push("A",u,",",u," 0 ",T,",",f," ",b,",",k),E.push("L",w,",",M),null!=_&&E.push("A",t,",",t," 0 ",D,",",1-f," ",_,",",C);return E.push("Z"),E.join("")}function e(t,e){return"M0,"+t+"A"+t+","+t+" 0 1,"+e+" 0,"+-t+"A"+t+","+t+" 0 1,"+e+" 0,"+t}var n=ma,i=ya,r=va,a=Il,o=xa,s=ba,l=ka;return t.innerRadius=function(e){return arguments.length?(n=Dt(e),t):n},t.outerRadius=function(e){return arguments.length?(i=Dt(e),t):i},t.cornerRadius=function(e){return arguments.length?(r=Dt(e),t):r},t.padRadius=function(e){return arguments.length?(a=e==Il?Il:Dt(e),t):a},t.startAngle=function(e){return arguments.length?(o=Dt(e),t):o},t.endAngle=function(e){return arguments.length?(s=Dt(e),t):s},t.padAngle=function(e){return arguments.length?(l=Dt(e),t):l},t.centroid=function(){var t=(+n.apply(this,arguments)+ +i.apply(this,arguments))/2,e=(+o.apply(this,arguments)+ +s.apply(this,arguments))/2-Uo;return[Math.cos(e)*t,Math.sin(e)*t]},t};var Il="auto";fo.svg.line=function(){return _a(M)};var Ol=fo.map({linear:Ca,"linear-closed":Sa,step:Aa,"step-before":Ea,"step-after":Ta,basis:Wa,"basis-open":Pa,"basis-closed":Ia,bundle:Oa,cardinal:za,"cardinal-open":Fa,"cardinal-closed":Da,monotone:qa});Ol.forEach(function(t,e){e.key=t,e.closed=/-closed$/.test(t)});var Rl=[0,2/3,1/3,0],jl=[0,1/3,2/3,0],Hl=[0,1/6,2/3,1/6];fo.svg.line.radial=function(){var t=_a(Ya);return t.radius=t.x,delete t.x,t.angle=t.y,delete t.y,t},Ea.reverse=Ta,Ta.reverse=Ea,fo.svg.area=function(){return Va(M)},fo.svg.area.radial=function(){var t=Va(Ya);return t.radius=t.x,delete t.x,t.innerRadius=t.x0,delete t.x0,t.outerRadius=t.x1,delete t.x1,t.angle=t.y,delete t.y,t.startAngle=t.y0,delete t.y0,t.endAngle=t.y1,delete t.y1,t},fo.svg.chord=function(){function t(t,s){var l=e(this,a,t,s),u=e(this,o,t,s);return"M"+l.p0+i(l.r,l.p1,l.a1-l.a0)+(n(l,u)?r(l.r,l.p1,l.r,l.p0):r(l.r,l.p1,u.r,u.p0)+i(u.r,u.p1,u.a1-u.a0)+r(u.r,u.p1,l.r,l.p0))+"Z"}function e(t,e,n,i){var r=e.call(t,n,i),a=s.call(t,r,i),o=l.call(t,r,i)-Uo,c=u.call(t,r,i)-Uo;return{r:a,a0:o,a1:c,p0:[a*Math.cos(o),a*Math.sin(o)],p1:[a*Math.cos(c),a*Math.sin(c)]}}function n(t,e){return t.a0==e.a0&&t.a1==e.a1}function i(t,e,n){return"A"+t+","+t+" 0 "+ +(n>qo)+",1 "+e}function r(t,e,n,i){return"Q 0,0 "+i}var a=_n,o=Cn,s=Ua,l=xa,u=ba;return t.radius=function(e){return arguments.length?(s=Dt(e),t):s},t.source=function(e){return arguments.length?(a=Dt(e),t):a},t.target=function(e){return arguments.length?(o=Dt(e),t):o},t.startAngle=function(e){return arguments.length?(l=Dt(e),t):l},t.endAngle=function(e){return arguments.length?(u=Dt(e),t):u},t},fo.svg.diagonal=function(){function t(t,r){var a=e.call(this,t,r),o=n.call(this,t,r),s=(a.y+o.y)/2,l=[a,{x:a.x,y:s},{x:o.x,y:s},o];return l=l.map(i),"M"+l[0]+"C"+l[1]+" "+l[2]+" "+l[3]}var e=_n,n=Cn,i=Xa;return t.source=function(n){return arguments.length?(e=Dt(n),t):e},t.target=function(e){return arguments.length?(n=Dt(e),t):n},t.projection=function(e){return arguments.length?(i=e,t):i},t},fo.svg.diagonal.radial=function(){var t=fo.svg.diagonal(),e=Xa,n=t.projection;return t.projection=function(t){return arguments.length?n(Za(e=t)):e},t},fo.svg.symbol=function(){function t(t,i){return(Bl.get(e.call(this,t,i))||Qa)(n.call(this,t,i))}var e=Ja,n=$a;return t.type=function(n){return arguments.length?(e=Dt(n),t):e},t.size=function(e){return arguments.length?(n=Dt(e),t):n},t};var Bl=fo.map({circle:Qa,cross:function(t){var e=Math.sqrt(t/5)/2;return"M"+-3*e+","+-e+"H"+-e+"V"+-3*e+"H"+e+"V"+-e+"H"+3*e+"V"+e+"H"+e+"V"+3*e+"H"+-e+"V"+e+"H"+-3*e+"Z"},diamond:function(t){var e=Math.sqrt(t/(2*ql)),n=e*ql;return"M0,"+-e+"L"+n+",0 0,"+e+" "+-n+",0Z"},square:function(t){var e=Math.sqrt(t)/2;return"M"+-e+","+-e+"L"+e+","+-e+" "+e+","+e+" "+-e+","+e+"Z"},"triangle-down":function(t){var e=Math.sqrt(t/Gl),n=e*Gl/2;return"M0,"+n+"L"+e+","+-n+" "+-e+","+-n+"Z"},"triangle-up":function(t){var e=Math.sqrt(t/Gl),n=e*Gl/2;return"M0,"+-n+"L"+e+","+n+" "+-e+","+n+"Z"}});fo.svg.symbolTypes=Bl.keys();var Gl=Math.sqrt(3),ql=Math.tan(30*Xo);Lo.transition=function(t){for(var e,n,i=Yl||++Zl,r=io(t),a=[],o=Vl||{time:Date.now(),ease:Di,delay:0,duration:250},s=-1,l=this.length;++s<l;){a.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(n=u[c])&&ro(n,c,r,i,o),e.push(n)}return to(a,r,i)},Lo.interrupt=function(t){return this.each(null==t?Ul:Ka(io(t)))};var Yl,Vl,Ul=Ka(io()),Xl=[],Zl=0;Xl.call=Lo.call,Xl.empty=Lo.empty,Xl.node=Lo.node,Xl.size=Lo.size,fo.transition=function(t,e){return t&&t.transition?Yl?t.transition(e):t:fo.selection().transition(t)},fo.transition.prototype=Xl,Xl.select=function(t){var e,n,i,r=this.id,a=this.namespace,o=[];t=N(t);for(var s=-1,l=this.length;++s<l;){o.push(e=[]);for(var u=this[s],c=-1,h=u.length;++c<h;)(i=u[c])&&(n=t.call(i,i.__data__,c,s))?("__data__"in i&&(n.__data__=i.__data__),ro(n,c,a,r,i[a][r]),e.push(n)):e.push(null)}return to(o,a,r)},Xl.selectAll=function(t){var e,n,i,r,a,o=this.id,s=this.namespace,l=[];t=L(t);for(var u=-1,c=this.length;++u<c;)for(var h=this[u],d=-1,f=h.length;++d<f;)if(i=h[d]){a=i[s][o],n=t.call(i,i.__data__,d,u),l.push(e=[]);for(var p=-1,g=n.length;++p<g;)(r=n[p])&&ro(r,p,s,o,a),e.push(r)}return to(l,s,o)},Xl.filter=function(t){var e,n,i,r=[];"function"!=typeof t&&(t=V(t));for(var a=0,o=this.length;a<o;a++){r.push(e=[]);for(var n=this[a],s=0,l=n.length;s<l;s++)(i=n[s])&&t.call(i,i.__data__,s,a)&&e.push(i)}return to(r,this.namespace,this.id)},Xl.tween=function(t,e){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(t):X(this,null==e?function(e){e[i][n].tween.remove(t)}:function(r){r[i][n].tween.set(t,e)})},Xl.attr=function(t,e){function n(){this.removeAttribute(s)}function i(){this.removeAttributeNS(s.space,s.local)}function r(t){return null==t?n:(t+="",function(){var e,n=this.getAttribute(s);return n!==t&&(e=o(n,t),function(t){this.setAttribute(s,e(t))})})}function a(t){return null==t?i:(t+="",function(){var e,n=this.getAttributeNS(s.space,s.local);return n!==t&&(e=o(n,t),function(t){this.setAttributeNS(s.space,s.local,e(t))})})}if(arguments.length<2){for(e in t)this.attr(e,t[e]);return this}var o="transform"==t?Qi:_i,s=fo.ns.qualify(t);return eo(this,"attr."+t,e,s.local?a:r)},Xl.attrTween=function(t,e){function n(t,n){var i=e.call(this,t,n,this.getAttribute(r));return i&&function(t){this.setAttribute(r,i(t))}}function i(t,n){var i=e.call(this,t,n,this.getAttributeNS(r.space,r.local));return i&&function(t){this.setAttributeNS(r.space,r.local,i(t))}}var r=fo.ns.qualify(t);return this.tween("attr."+t,r.local?i:n)},Xl.style=function(t,e,n){function i(){this.style.removeProperty(t)}function r(e){return null==e?i:(e+="",function(){var i,r=o(this).getComputedStyle(this,null).getPropertyValue(t);return r!==e&&(i=_i(r,e),function(e){this.style.setProperty(t,i(e),n)})})}var a=arguments.length;if(a<3){if("string"!=typeof t){a<2&&(e="");for(n in t)this.style(n,t[n],e);return this}n=""}return eo(this,"style."+t,e,r)},Xl.styleTween=function(t,e,n){function i(i,r){var a=e.call(this,i,r,o(this).getComputedStyle(this,null).getPropertyValue(t));return a&&function(e){this.style.setProperty(t,a(e),n)}}return arguments.length<3&&(n=""),this.tween("style."+t,i)},Xl.text=function(t){return eo(this,"text",t,no)},Xl.remove=function(){var t=this.namespace;return this.each("end.transition",function(){var e;this[t].count<2&&(e=this.parentNode)&&e.removeChild(this)})},Xl.ease=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].ease:("function"!=typeof t&&(t=fo.ease.apply(fo,arguments)),X(this,function(i){i[n][e].ease=t}))},Xl.delay=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].delay:X(this,"function"==typeof t?function(i,r,a){i[n][e].delay=+t.call(i,i.__data__,r,a)}:(t=+t,function(i){i[n][e].delay=t}))},Xl.duration=function(t){var e=this.id,n=this.namespace;return arguments.length<1?this.node()[n][e].duration:X(this,"function"==typeof t?function(i,r,a){i[n][e].duration=Math.max(1,t.call(i,i.__data__,r,a))}:(t=Math.max(1,t),function(i){i[n][e].duration=t}))},Xl.each=function(t,e){var n=this.id,i=this.namespace;if(arguments.length<2){var r=Vl,a=Yl;try{Yl=n,X(this,function(e,r,a){Vl=e[i][n],t.call(e,e.__data__,r,a)})}finally{Vl=r,Yl=a}}else X(this,function(r){var a=r[i][n];(a.event||(a.event=fo.dispatch("start","end","interrupt"))).on(t,e)});return this},Xl.transition=function(){for(var t,e,n,i,r=this.id,a=++Zl,o=this.namespace,s=[],l=0,u=this.length;l<u;l++){s.push(t=[]);for(var e=this[l],c=0,h=e.length;c<h;c++)(n=e[c])&&(i=n[o][r],ro(n,c,o,a,{time:i.time,ease:i.ease,delay:i.delay+i.duration,duration:i.duration})),t.push(n)}return to(s,o,a)},fo.svg.axis=function(){function t(t){t.each(function(){var t,u=fo.select(this),c=this.__chart__||n,h=this.__chart__=n.copy(),d=null==l?h.ticks?h.ticks.apply(h,s):h.domain():l,f=null==e?h.tickFormat?h.tickFormat.apply(h,s):M:e,p=u.selectAll(".tick").data(d,h),g=p.enter().insert("g",".domain").attr("class","tick").style("opacity",Bo),v=fo.transition(p.exit()).style("opacity",Bo).remove(),m=fo.transition(p.order()).style("opacity",1),y=Math.max(r,0)+o,x=Zr(h),b=u.selectAll(".domain").data([0]),k=(b.enter().append("path").attr("class","domain"),fo.transition(b));g.append("line"),g.append("text");var w,_,C,S,A=g.select("line"),E=m.select("line"),T=p.select("text").text(f),F=g.select("text"),D=m.select("text"),z="top"===i||"left"===i?-1:1;if("bottom"===i||"top"===i?(t=ao,w="x",C="y",_="x2",S="y2",T.attr("dy",z<0?"0em":".71em").style("text-anchor","middle"),k.attr("d","M"+x[0]+","+z*a+"V0H"+x[1]+"V"+z*a)):(t=oo,w="y",C="x",_="y2",S="x2",T.attr("dy",".32em").style("text-anchor",z<0?"end":"start"),k.attr("d","M"+z*a+","+x[0]+"H0V"+x[1]+"H"+z*a)),A.attr(S,z*r),F.attr(C,z*y),E.attr(_,0).attr(S,z*r),D.attr(w,0).attr(C,z*y),h.rangeBand){var N=h,L=N.rangeBand()/2;c=h=function(t){return N(t)+L}}else c.rangeBand?c=h:v.call(t,h,c);g.call(t,c,h),m.call(t,h,h)})}var e,n=fo.scale.linear(),i=$l,r=6,a=6,o=3,s=[10],l=null;return t.scale=function(e){return arguments.length?(n=e,t):n},t.orient=function(e){return arguments.length?(i=e in Jl?e+"":$l,t):i},t.ticks=function(){return arguments.length?(s=go(arguments),t):s},t.tickValues=function(e){return arguments.length?(l=e,t):l},t.tickFormat=function(n){return arguments.length?(e=n,t):e},t.tickSize=function(e){var n=arguments.length;return n?(r=+e,a=+arguments[n-1],t):r},t.innerTickSize=function(e){return arguments.length?(r=+e,t):r},t.outerTickSize=function(e){return arguments.length?(a=+e,t):a},t.tickPadding=function(e){return arguments.length?(o=+e,t):o},t.tickSubdivide=function(){return arguments.length&&t},t};var $l="bottom",Jl={top:1,right:1,bottom:1,left:1};fo.svg.brush=function(){function t(a){a.each(function(){var a=fo.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",r).on("touchstart.brush",r),o=a.selectAll(".background").data([0]);o.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),a.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var s=a.selectAll(".resize").data(g,M);s.exit().remove(),s.enter().append("g").attr("class",function(t){return"resize "+t}).style("cursor",function(t){return Ql[t]}).append("rect").attr("x",function(t){return/[ew]$/.test(t)?-3:null}).attr("y",function(t){return/^[ns]/.test(t)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),s.style("display",t.empty()?"none":null);var l,h=fo.transition(a),d=fo.transition(o);u&&(l=Zr(u),d.attr("x",l[0]).attr("width",l[1]-l[0]),n(h)),c&&(l=Zr(c),d.attr("y",l[0]).attr("height",l[1]-l[0]),i(h)),e(h)})}function e(t){t.selectAll(".resize").attr("transform",function(t){return"translate("+h[+/e$/.test(t)]+","+d[+/^s/.test(t)]+")"})}function n(t){t.select(".extent").attr("x",h[0]),t.selectAll(".extent,.n>rect,.s>rect").attr("width",h[1]-h[0])}function i(t){t.select(".extent").attr("y",d[0]),t.selectAll(".extent,.e>rect,.w>rect").attr("height",d[1]-d[0])}function r(){function r(){32==fo.event.keyCode&&(E||(x=null,D[0]-=h[1],D[1]-=d[1],E=2),T())}function g(){32==fo.event.keyCode&&2==E&&(D[0]+=h[1],D[1]+=d[1],E=0,T())}function v(){var t=fo.mouse(k),r=!1;b&&(t[0]+=b[0],t[1]+=b[1]),E||(fo.event.altKey?(x||(x=[(h[0]+h[1])/2,(d[0]+d[1])/2]),D[0]=h[+(t[0]<x[0])],D[1]=d[+(t[1]<x[1])]):x=null),S&&m(t,u,0)&&(n(_),r=!0),A&&m(t,c,1)&&(i(_),r=!0),r&&(e(_),M({type:"brush",mode:E?"move":"resize"}))}function m(t,e,n){var i,r,o=Zr(e),l=o[0],u=o[1],c=D[n],g=n?d:h,v=g[1]-g[0];if(E&&(l-=c,u-=v+c),i=(n?p:f)?Math.max(l,Math.min(u,t[n])):t[n],E?r=(i+=c)+v:(x&&(c=Math.max(l,Math.min(u,2*x[n]-i))),c<i?(r=i,i=c):r=c),g[0]!=i||g[1]!=r)return n?s=null:a=null,g[0]=i,g[1]=r,!0}function y(){v(),_.style("pointer-events","all").selectAll(".resize").style("display",t.empty()?"none":null),fo.select("body").style("cursor",null),z.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),F(),M({type:"brushend"})}var x,b,k=this,w=fo.select(fo.event.target),M=l.of(k,arguments),_=fo.select(k),C=w.datum(),S=!/^(n|s)$/.test(C)&&u,A=!/^(e|w)$/.test(C)&&c,E=w.classed("extent"),F=tt(k),D=fo.mouse(k),z=fo.select(o(k)).on("keydown.brush",r).on("keyup.brush",g);if(fo.event.changedTouches?z.on("touchmove.brush",v).on("touchend.brush",y):z.on("mousemove.brush",v).on("mouseup.brush",y),_.interrupt().selectAll("*").interrupt(),E)D[0]=h[0]-D[0],D[1]=d[0]-D[1];else if(C){var N=+/w$/.test(C),L=+/^n/.test(C);b=[h[1-N]-D[0],d[1-L]-D[1]],D[0]=h[N],D[1]=d[L]}else fo.event.altKey&&(x=D.slice());_.style("pointer-events","none").selectAll(".resize").style("display",null),fo.select("body").style("cursor",w.style("cursor")),M({type:"brushstart"}),v()}var a,s,l=D(t,"brushstart","brush","brushend"),u=null,c=null,h=[0,0],d=[0,0],f=!0,p=!0,g=Kl[0];return t.event=function(t){t.each(function(){var t=l.of(this,arguments),e={x:h,y:d,i:a,j:s},n=this.__chart__||e;this.__chart__=e,Yl?fo.select(this).transition().each("start.brush",function(){a=n.i,s=n.j,h=n.x,d=n.y,t({type:"brushstart"})}).tween("brush:brush",function(){var n=Ci(h,e.x),i=Ci(d,e.y);return a=s=null,function(r){h=e.x=n(r),d=e.y=i(r),t({type:"brush",mode:"resize"})}}).each("end.brush",function(){a=e.i,s=e.j,t({type:"brush",mode:"resize"}),t({type:"brushend"})}):(t({type:"brushstart"}),t({type:"brush",mode:"resize"}),t({type:"brushend"}))})},t.x=function(e){return arguments.length?(u=e,g=Kl[!u<<1|!c],t):u},t.y=function(e){return arguments.length?(c=e,g=Kl[!u<<1|!c],t):c},t.clamp=function(e){return arguments.length?(u&&c?(f=!!e[0],p=!!e[1]):u?f=!!e:c&&(p=!!e),t):u&&c?[f,p]:u?f:c?p:null},t.extent=function(e){var n,i,r,o,l;return arguments.length?(u&&(n=e[0],i=e[1],c&&(n=n[0],i=i[0]),a=[n,i],u.invert&&(n=u(n),i=u(i)),i<n&&(l=n,n=i,i=l),n==h[0]&&i==h[1]||(h=[n,i])),c&&(r=e[0],o=e[1],u&&(r=r[1],o=o[1]),s=[r,o],c.invert&&(r=c(r),o=c(o)),o<r&&(l=r,r=o,o=l),r==d[0]&&o==d[1]||(d=[r,o])),t):(u&&(a?(n=a[0],i=a[1]):(n=h[0],i=h[1],u.invert&&(n=u.invert(n),i=u.invert(i)),i<n&&(l=n,n=i,i=l))),c&&(s?(r=s[0],o=s[1]):(r=d[0],o=d[1],c.invert&&(r=c.invert(r),o=c.invert(o)),o<r&&(l=r,r=o,o=l))),u&&c?[[n,r],[i,o]]:u?[n,i]:c&&[r,o])},t.clear=function(){return t.empty()||(h=[0,0],d=[0,0],a=s=null),t},t.empty=function(){return!!u&&h[0]==h[1]||!!c&&d[0]==d[1]},fo.rebind(t,l,"on")};var Ql={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Kl=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],tu=xs.format=Cs.timeFormat,eu=tu.utc,nu=eu("%Y-%m-%dT%H:%M:%S.%LZ");tu.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?so:nu,so.parse=function(t){var e=new Date(t);return isNaN(e)?null:e},so.toString=nu.toString,xs.second=Yt(function(t){return new bs(1e3*Math.floor(t/1e3))},function(t,e){t.setTime(t.getTime()+1e3*Math.floor(e))},function(t){return t.getSeconds()}),xs.seconds=xs.second.range,xs.seconds.utc=xs.second.utc.range,xs.minute=Yt(function(t){return new bs(6e4*Math.floor(t/6e4))},function(t,e){t.setTime(t.getTime()+6e4*Math.floor(e))},function(t){return t.getMinutes()}),xs.minutes=xs.minute.range,xs.minutes.utc=xs.minute.utc.range,xs.hour=Yt(function(t){var e=t.getTimezoneOffset()/60;return new bs(36e5*(Math.floor(t/36e5-e)+e))},function(t,e){t.setTime(t.getTime()+36e5*Math.floor(e))},function(t){return t.getHours()}),xs.hours=xs.hour.range,xs.hours.utc=xs.hour.utc.range,xs.month=Yt(function(t){return t=xs.day(t),t.setDate(1),t},function(t,e){t.setMonth(t.getMonth()+e)},function(t){return t.getMonth()}),xs.months=xs.month.range,xs.months.utc=xs.month.utc.range;var iu=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],ru=[[xs.second,1],[xs.second,5],[xs.second,15],[xs.second,30],[xs.minute,1],[xs.minute,5],[xs.minute,15],[xs.minute,30],[xs.hour,1],[xs.hour,3],[xs.hour,6],[xs.hour,12],[xs.day,1],[xs.day,2],[xs.week,1],[xs.month,1],[xs.month,3],[xs.year,1]],au=tu.multi([[".%L",function(t){return t.getMilliseconds()}],[":%S",function(t){return t.getSeconds()}],["%I:%M",function(t){return t.getMinutes()}],["%I %p",function(t){return t.getHours()}],["%a %d",function(t){return t.getDay()&&1!=t.getDate()}],["%b %d",function(t){return 1!=t.getDate()}],["%B",function(t){return t.getMonth()}],["%Y",Le]]),ou={range:function(t,e,n){return fo.range(Math.ceil(t/n)*n,+e,n).map(uo)},floor:M,ceil:M};ru.year=xs.year,xs.scale=function(){return lo(fo.scale.linear(),ru,au)};var su=ru.map(function(t){return[t[0].utc,t[1]]}),lu=eu.multi([[".%L",function(t){return t.getUTCMilliseconds()}],[":%S",function(t){return t.getUTCSeconds()}],["%I:%M",function(t){return t.getUTCMinutes()}],["%I %p",function(t){return t.getUTCHours()}],["%a %d",function(t){return t.getUTCDay()&&1!=t.getUTCDate()}],["%b %d",function(t){return 1!=t.getUTCDate()}],["%B",function(t){return t.getUTCMonth()}],["%Y",Le]]);su.year=xs.year.utc,xs.scale.utc=function(){return lo(fo.scale.linear(),su,lu)},fo.text=zt(function(t){return t.responseText}),fo.json=function(t,e){return Nt(t,"application/json",co,e)},fo.html=function(t,e){return Nt(t,"text/html",ho,e)},fo.xml=zt(function(t){return t.responseXML}),this.d3=fo,i=fo,r="function"==typeof i?i.call(e,n,e,t):i,!(void 0!==r&&(t.exports=r))}()},"./node_modules/easy-pie-chart/dist/jquery.easypiechart.js":function(t,e,n){(function(i){var r,a;/**!
 * easy-pie-chart
 * Lightweight plugin to render simple, animated and retina optimized pie charts
 *
 * @license 
 * @author Robert Fleischmann <rendro87@gmail.com> (http://robert-fleischmann.de)
 * @version 2.1.7
 **/
!function(i,o){r=[n("./node_modules/jquery/dist/jquery.js")],a=function(t){return o(t)}.apply(e,r),!(void 0!==a&&(t.exports=a))}(this,function(t){var e=function(t,e){var n,i=document.createElement("canvas");t.appendChild(i),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement(i);var r=i.getContext("2d");i.width=i.height=e.size;var a=1;window.devicePixelRatio>1&&(a=window.devicePixelRatio,i.style.width=i.style.height=[e.size,"px"].join(""),i.width=i.height=e.size*a,r.scale(a,a)),r.translate(e.size/2,e.size/2),r.rotate((-.5+e.rotate/180)*Math.PI);var o=(e.size-e.lineWidth)/2;e.scaleColor&&e.scaleLength&&(o-=e.scaleLength+2),Date.now=Date.now||function(){return+new Date};var s=function(t,e,n){n=Math.min(Math.max(-1,n||0),1);var i=n<=0;r.beginPath(),r.arc(0,0,o,0,2*Math.PI*n,i),r.strokeStyle=t,r.lineWidth=e,r.stroke()},l=function(){var t,n;r.lineWidth=1,r.fillStyle=e.scaleColor,r.save();for(var i=24;i>0;--i)i%6===0?(n=e.scaleLength,t=0):(n=.6*e.scaleLength,t=e.scaleLength-n),r.fillRect(-e.size/2+t,0,n,1),r.rotate(Math.PI/12);r.restore()},u=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(t){window.setTimeout(t,1e3/60)}}(),c=function(){e.scaleColor&&l(),e.trackColor&&s(e.trackColor,e.trackWidth||e.lineWidth,1)};this.getCanvas=function(){return i},this.getCtx=function(){return r},this.clear=function(){r.clearRect(e.size/-2,e.size/-2,e.size,e.size)},this.draw=function(t){e.scaleColor||e.trackColor?r.getImageData&&r.putImageData?n?r.putImageData(n,0,0):(c(),n=r.getImageData(0,0,e.size*a,e.size*a)):(this.clear(),c()):this.clear(),r.lineCap=e.lineCap;var i;i="function"==typeof e.barColor?e.barColor(t):e.barColor,s(i,e.lineWidth,t/100)}.bind(this),this.animate=function(t,n){var i=Date.now();e.onStart(t,n);var r=function(){var a=Math.min(Date.now()-i,e.animate.duration),o=e.easing(this,a,t,n-t,e.animate.duration);this.draw(o),e.onStep(t,n,o),a>=e.animate.duration?e.onStop(t,n):u(r)}.bind(this);u(r)}.bind(this)},n=function(t,n){var r={barColor:"#ef1e25",trackColor:"#f9f9f9",scaleColor:"#dfe0e0",scaleLength:5,lineCap:"round",lineWidth:3,trackWidth:void 0,size:110,rotate:0,animate:{duration:1e3,enabled:!0},easing:function(t,e,n,i,r){return e/=r/2,e<1?i/2*e*e+n:-i/2*(--e*(e-2)-1)+n},onStart:function(t,e){},onStep:function(t,e,n){},onStop:function(t,e){}};if("undefined"!=typeof e)r.renderer=e;else{if("undefined"==typeof SVGRenderer)throw new Error("Please load either the SVG- or the CanvasRenderer");r.renderer=SVGRenderer}var a={},o=0,s=function(){this.el=t,this.options=a;for(var e in r)r.hasOwnProperty(e)&&(a[e]=n&&"undefined"!=typeof n[e]?n[e]:r[e],"function"==typeof a[e]&&(a[e]=a[e].bind(this)));"string"==typeof a.easing&&"undefined"!=typeof i&&i.isFunction(i.easing[a.easing])?a.easing=i.easing[a.easing]:a.easing=r.easing,"number"==typeof a.animate&&(a.animate={duration:a.animate,enabled:!0}),"boolean"!=typeof a.animate||a.animate||(a.animate={duration:1e3,enabled:a.animate}),this.renderer=new a.renderer(t,a),this.renderer.draw(o),t.dataset&&t.dataset.percent?this.update(parseFloat(t.dataset.percent)):t.getAttribute&&t.getAttribute("data-percent")&&this.update(parseFloat(t.getAttribute("data-percent")))}.bind(this);this.update=function(t){return t=parseFloat(t),a.animate.enabled?this.renderer.animate(o,t):this.renderer.draw(t),o=t,this}.bind(this),this.disableAnimation=function(){return a.animate.enabled=!1,this},this.enableAnimation=function(){return a.animate.enabled=!0,this},s()};t.fn.easyPieChart=function(e){return this.each(function(){var i;t.data(this,"easyPieChart")||(i=t.extend({},e,t(this).data()),t.data(this,"easyPieChart",new n(this,i)))})}})}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./node_modules/jquery-flot/jquery.flot.js":function(t,e,n){(function(t){!function(t){t.color={},t.color.make=function(e,n,i,r){var a={};return a.r=e||0,a.g=n||0,a.b=i||0,a.a=null!=r?r:1,a.add=function(t,e){for(var n=0;n<t.length;++n)a[t.charAt(n)]+=e;return a.normalize()},a.scale=function(t,e){for(var n=0;n<t.length;++n)a[t.charAt(n)]*=e;return a.normalize()},a.toString=function(){return a.a>=1?"rgb("+[a.r,a.g,a.b].join(",")+")":"rgba("+[a.r,a.g,a.b,a.a].join(",")+")"},a.normalize=function(){function t(t,e,n){return e<t?t:e>n?n:e}return a.r=t(0,parseInt(a.r),255),a.g=t(0,parseInt(a.g),255),a.b=t(0,parseInt(a.b),255),a.a=t(0,a.a,1),a},a.clone=function(){return t.color.make(a.r,a.b,a.g,a.a)},a.normalize()},t.color.extract=function(e,n){var i;do{if(i=e.css(n).toLowerCase(),""!=i&&"transparent"!=i)break;e=e.parent()}while(e.length&&!t.nodeName(e.get(0),"body"));return"rgba(0, 0, 0, 0)"==i&&(i="transparent"),t.color.parse(i)},t.color.parse=function(n){var i,r=t.color.make;if(i=/rgb\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10));if(i=/rgba\(\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]{1,3})\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(parseInt(i[1],10),parseInt(i[2],10),parseInt(i[3],10),parseFloat(i[4]));if(i=/rgb\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]));if(i=/rgba\(\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\%\s*,\s*([0-9]+(?:\.[0-9]+)?)\s*\)/.exec(n))return r(2.55*parseFloat(i[1]),2.55*parseFloat(i[2]),2.55*parseFloat(i[3]),parseFloat(i[4]));if(i=/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/.exec(n))return r(parseInt(i[1],16),parseInt(i[2],16),parseInt(i[3],16));if(i=/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/.exec(n))return r(parseInt(i[1]+i[1],16),parseInt(i[2]+i[2],16),parseInt(i[3]+i[3],16));var a=t.trim(n).toLowerCase();return"transparent"==a?r(255,255,255,0):(i=e[a]||[0,0,0],r(i[0],i[1],i[2]))};var e={aqua:[0,255,255],azure:[240,255,255],beige:[245,245,220],black:[0,0,0],blue:[0,0,255],brown:[165,42,42],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgrey:[169,169,169],darkgreen:[0,100,0],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkviolet:[148,0,211],fuchsia:[255,0,255],gold:[255,215,0],green:[0,128,0],indigo:[75,0,130],khaki:[240,230,140],lightblue:[173,216,230],lightcyan:[224,255,255],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightyellow:[255,255,224],lime:[0,255,0],magenta:[255,0,255],maroon:[128,0,0],navy:[0,0,128],olive:[128,128,0],orange:[255,165,0],pink:[255,192,203],purple:[128,0,128],violet:[128,0,128],red:[255,0,0],silver:[192,192,192],white:[255,255,255],yellow:[255,255,0]}}(t),function(t){function e(e,n){var i=n.children("."+e)[0];if(null==i&&(i=document.createElement("canvas"),i.className=e,t(i).css({direction:"ltr",position:"absolute",left:0,top:0}).appendTo(n),!i.getContext)){if(!window.G_vmlCanvasManager)throw new Error("Canvas is not available. If you're using IE with a fall-back such as Excanvas, then there's either a mistake in your conditional include, or the page has no DOCTYPE and is rendering in Quirks Mode.");i=window.G_vmlCanvasManager.initElement(i)}this.element=i;var r=this.context=i.getContext("2d"),a=window.devicePixelRatio||1,o=r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1;this.pixelRatio=a/o,this.resize(n.width(),n.height()),this.textContainer=null,this.text={},this._textCache={}}function n(n,r,a,o){function s(t,e){e=[vt].concat(e);for(var n=0;n<t.length;++n)t[n].apply(this,e)}function l(){for(var n={Canvas:e},i=0;i<o.length;++i){var r=o[i];r.init(vt,n),r.options&&t.extend(!0,rt,r.options)}}function u(e){t.extend(!0,rt,e),e&&e.colors&&(rt.colors=e.colors),null==rt.xaxis.color&&(rt.xaxis.color=t.color.parse(rt.grid.color).scale("a",.22).toString()),null==rt.yaxis.color&&(rt.yaxis.color=t.color.parse(rt.grid.color).scale("a",.22).toString()),null==rt.xaxis.tickColor&&(rt.xaxis.tickColor=rt.grid.tickColor||rt.xaxis.color),null==rt.yaxis.tickColor&&(rt.yaxis.tickColor=rt.grid.tickColor||rt.yaxis.color),null==rt.grid.borderColor&&(rt.grid.borderColor=rt.grid.color),null==rt.grid.tickColor&&(rt.grid.tickColor=t.color.parse(rt.grid.color).scale("a",.22).toString());var i,r,a,o=n.css("font-size"),l=o?+o.replace("px",""):13,u={style:n.css("font-style"),size:Math.round(.8*l),variant:n.css("font-variant"),weight:n.css("font-weight"),family:n.css("font-family")};for(a=rt.xaxes.length||1,i=0;i<a;++i)r=rt.xaxes[i],r&&!r.tickColor&&(r.tickColor=r.color),r=t.extend(!0,{},rt.xaxis,r),rt.xaxes[i]=r,r.font&&(r.font=t.extend({},u,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(a=rt.yaxes.length||1,i=0;i<a;++i)r=rt.yaxes[i],r&&!r.tickColor&&(r.tickColor=r.color),r=t.extend(!0,{},rt.yaxis,r),rt.yaxes[i]=r,r.font&&(r.font=t.extend({},u,r.font),r.font.color||(r.font.color=r.color),r.font.lineHeight||(r.font.lineHeight=Math.round(1.15*r.font.size)));for(rt.xaxis.noTicks&&null==rt.xaxis.ticks&&(rt.xaxis.ticks=rt.xaxis.noTicks),rt.yaxis.noTicks&&null==rt.yaxis.ticks&&(rt.yaxis.ticks=rt.yaxis.noTicks),rt.x2axis&&(rt.xaxes[1]=t.extend(!0,{},rt.xaxis,rt.x2axis),rt.xaxes[1].position="top",null==rt.x2axis.min&&(rt.xaxes[1].min=null),null==rt.x2axis.max&&(rt.xaxes[1].max=null)),rt.y2axis&&(rt.yaxes[1]=t.extend(!0,{},rt.yaxis,rt.y2axis),rt.yaxes[1].position="right",null==rt.y2axis.min&&(rt.yaxes[1].min=null),null==rt.y2axis.max&&(rt.yaxes[1].max=null)),rt.grid.coloredAreas&&(rt.grid.markings=rt.grid.coloredAreas),rt.grid.coloredAreasColor&&(rt.grid.markingsColor=rt.grid.coloredAreasColor),rt.lines&&t.extend(!0,rt.series.lines,rt.lines),rt.points&&t.extend(!0,rt.series.points,rt.points),rt.bars&&t.extend(!0,rt.series.bars,rt.bars),null!=rt.shadowSize&&(rt.series.shadowSize=rt.shadowSize),null!=rt.highlightColor&&(rt.series.highlightColor=rt.highlightColor),i=0;i<rt.xaxes.length;++i)v(ct,i+1).options=rt.xaxes[i];for(i=0;i<rt.yaxes.length;++i)v(ht,i+1).options=rt.yaxes[i];for(var c in gt)rt.hooks[c]&&rt.hooks[c].length&&(gt[c]=gt[c].concat(rt.hooks[c]));s(gt.processOptions,[rt])}function c(t){it=h(t),m(),y()}function h(e){for(var n=[],i=0;i<e.length;++i){var r=t.extend(!0,{},rt.series);null!=e[i].data?(r.data=e[i].data,delete e[i].data,t.extend(!0,r,e[i]),e[i].data=r.data):r.data=e[i],n.push(r)}return n}function d(t,e){var n=t[e+"axis"];return"object"==typeof n&&(n=n.n),"number"!=typeof n&&(n=1),n}function f(){return t.grep(ct.concat(ht),function(t){return t})}function p(t){var e,n,i={};for(e=0;e<ct.length;++e)n=ct[e],n&&n.used&&(i["x"+n.n]=n.c2p(t.left));for(e=0;e<ht.length;++e)n=ht[e],n&&n.used&&(i["y"+n.n]=n.c2p(t.top));return void 0!==i.x1&&(i.x=i.x1),void 0!==i.y1&&(i.y=i.y1),i}function g(t){var e,n,i,r={};for(e=0;e<ct.length;++e)if(n=ct[e],n&&n.used&&(i="x"+n.n,null==t[i]&&1==n.n&&(i="x"),null!=t[i])){r.left=n.p2c(t[i]);break}for(e=0;e<ht.length;++e)if(n=ht[e],n&&n.used&&(i="y"+n.n,null==t[i]&&1==n.n&&(i="y"),null!=t[i])){r.top=n.p2c(t[i]);break}return r}function v(e,n){return e[n-1]||(e[n-1]={n:n,direction:e==ct?"x":"y",options:t.extend(!0,{},e==ct?rt.xaxis:rt.yaxis)}),e[n-1]}function m(){var e,n=it.length,i=-1;for(e=0;e<it.length;++e){var r=it[e].color;null!=r&&(n--,"number"==typeof r&&r>i&&(i=r))}n<=i&&(n=i+1);var a,o=[],s=rt.colors,l=s.length,u=0;for(e=0;e<n;e++)a=t.color.parse(s[e%l]||"#666"),e%l==0&&e&&(u=u>=0?u<.5?-u-.2:0:-u),o[e]=a.scale("rgb",1+u);var c,h=0;for(e=0;e<it.length;++e){if(c=it[e],null==c.color?(c.color=o[h].toString(),++h):"number"==typeof c.color&&(c.color=o[c.color].toString()),null==c.lines.show){var f,p=!0;for(f in c)if(c[f]&&c[f].show){p=!1;break}p&&(c.lines.show=!0)}null==c.lines.zero&&(c.lines.zero=!!c.lines.fill),c.xaxis=v(ct,d(c,"x")),c.yaxis=v(ht,d(c,"y"))}}function y(){function e(t,e,n){e<t.datamin&&e!=-y&&(t.datamin=e),n>t.datamax&&n!=y&&(t.datamax=n)}var n,i,r,a,o,l,u,c,h,d,p,g,v=Number.POSITIVE_INFINITY,m=Number.NEGATIVE_INFINITY,y=Number.MAX_VALUE;for(t.each(f(),function(t,e){e.datamin=v,e.datamax=m,e.used=!1}),n=0;n<it.length;++n)o=it[n],o.datapoints={points:[]},s(gt.processRawData,[o,o.data,o.datapoints]);for(n=0;n<it.length;++n){if(o=it[n],p=o.data,g=o.datapoints.format,!g){if(g=[],g.push({x:!0,number:!0,required:!0}),g.push({y:!0,number:!0,required:!0}),o.bars.show||o.lines.show&&o.lines.fill){var x=!!(o.bars.show&&o.bars.zero||o.lines.show&&o.lines.zero);g.push({y:!0,number:!0,required:!1,defaultValue:0,autoscale:x}),o.bars.horizontal&&(delete g[g.length-1].y,g[g.length-1].x=!0)}o.datapoints.format=g}if(null==o.datapoints.pointsize){o.datapoints.pointsize=g.length,u=o.datapoints.pointsize,l=o.datapoints.points;var b=o.lines.show&&o.lines.steps;for(o.xaxis.used=o.yaxis.used=!0,i=r=0;i<p.length;++i,r+=u){d=p[i];var k=null==d;if(!k)for(a=0;a<u;++a)c=d[a],h=g[a],h&&(h.number&&null!=c&&(c=+c,isNaN(c)?c=null:c==1/0?c=y:c==-(1/0)&&(c=-y)),null==c&&(h.required&&(k=!0),null!=h.defaultValue&&(c=h.defaultValue))),l[r+a]=c;if(k)for(a=0;a<u;++a)c=l[r+a],null!=c&&(h=g[a],h.autoscale!==!1&&(h.x&&e(o.xaxis,c,c),h.y&&e(o.yaxis,c,c))),l[r+a]=null;else if(b&&r>0&&null!=l[r-u]&&l[r-u]!=l[r]&&l[r-u+1]!=l[r+1]){for(a=0;a<u;++a)l[r+u+a]=l[r+a];l[r+1]=l[r-u+1],r+=u}}}}for(n=0;n<it.length;++n)o=it[n],s(gt.processDatapoints,[o,o.datapoints]);for(n=0;n<it.length;++n){o=it[n],l=o.datapoints.points,u=o.datapoints.pointsize,g=o.datapoints.format;var w=v,M=v,_=m,C=m;for(i=0;i<l.length;i+=u)if(null!=l[i])for(a=0;a<u;++a)c=l[i+a],h=g[a],h&&h.autoscale!==!1&&c!=y&&c!=-y&&(h.x&&(c<w&&(w=c),c>_&&(_=c)),h.y&&(c<M&&(M=c),c>C&&(C=c)));if(o.bars.show){var S;switch(o.bars.align){case"left":S=0;break;case"right":S=-o.bars.barWidth;break;default:S=-o.bars.barWidth/2}o.bars.horizontal?(M+=S,C+=S+o.bars.barWidth):(w+=S,_+=S+o.bars.barWidth)}e(o.xaxis,w,_),e(o.yaxis,M,C)}t.each(f(),function(t,e){e.datamin==v&&(e.datamin=null),e.datamax==m&&(e.datamax=null)})}function x(){n.css("padding",0).children().filter(function(){return!t(this).hasClass("flot-overlay")&&!t(this).hasClass("flot-base")}).remove(),"static"==n.css("position")&&n.css("position","relative"),at=new e("flot-base",n),ot=new e("flot-overlay",n),lt=at.context,ut=ot.context,st=t(ot.element).unbind();var i=n.data("plot");i&&(i.shutdown(),ot.clear()),n.data("plot",vt)}function b(){rt.grid.hoverable&&(st.mousemove(Y),st.bind("mouseleave",V)),rt.grid.clickable&&st.click(U),s(gt.bindEvents,[st])}function k(){yt&&clearTimeout(yt),st.unbind("mousemove",Y),st.unbind("mouseleave",V),st.unbind("click",U),s(gt.shutdown,[st])}function w(t){function e(t){return t}var n,i,r=t.options.transform||e,a=t.options.inverseTransform;"x"==t.direction?(n=t.scale=ft/Math.abs(r(t.max)-r(t.min)),i=Math.min(r(t.max),r(t.min))):(n=t.scale=pt/Math.abs(r(t.max)-r(t.min)),n=-n,i=Math.max(r(t.max),r(t.min))),r==e?t.p2c=function(t){return(t-i)*n}:t.p2c=function(t){return(r(t)-i)*n},a?t.c2p=function(t){return a(i+t/n)}:t.c2p=function(t){return i+t/n}}function M(t){for(var e=t.options,n=t.ticks||[],i=e.labelWidth||0,r=e.labelHeight||0,a=i||("x"==t.direction?Math.floor(at.width/(n.length||1)):null),o=t.direction+"Axis "+t.direction+t.n+"Axis",s="flot-"+t.direction+"-axis flot-"+t.direction+t.n+"-axis "+o,l=e.font||"flot-tick-label tickLabel",u=0;u<n.length;++u){var c=n[u];if(c.label){var h=at.getTextInfo(s,c.label,l,null,a);i=Math.max(i,h.width),r=Math.max(r,h.height)}}t.labelWidth=e.labelWidth||i,t.labelHeight=e.labelHeight||r}function _(e){var n=e.labelWidth,i=e.labelHeight,r=e.options.position,a="x"===e.direction,o=e.options.tickLength,s=rt.grid.axisMargin,l=rt.grid.labelMargin,u=!0,c=!0,h=!0,d=!1;t.each(a?ct:ht,function(t,n){n&&(n.show||n.reserveSpace)&&(n===e?d=!0:n.options.position===r&&(d?c=!1:u=!1),d||(h=!1))}),c&&(s=0),null==o&&(o=h?"full":5),isNaN(+o)||(l+=+o),a?(i+=l,"bottom"==r?(dt.bottom+=i+s,e.box={top:at.height-dt.bottom,height:i}):(e.box={top:dt.top+s,height:i},dt.top+=i+s)):(n+=l,"left"==r?(e.box={left:dt.left+s,width:n},dt.left+=n+s):(dt.right+=n+s,e.box={left:at.width-dt.right,width:n})),e.position=r,e.tickLength=o,e.box.padding=l,e.innermost=u}function C(t){"x"==t.direction?(t.box.left=dt.left-t.labelWidth/2,t.box.width=at.width-dt.left-dt.right+t.labelWidth):(t.box.top=dt.top-t.labelHeight/2,t.box.height=at.height-dt.bottom-dt.top+t.labelHeight)}function S(){var e,n=rt.grid.minBorderMargin;if(null==n)for(n=0,e=0;e<it.length;++e)n=Math.max(n,2*(it[e].points.radius+it[e].points.lineWidth/2));var i={left:n,right:n,top:n,bottom:n};t.each(f(),function(t,e){e.reserveSpace&&e.ticks&&e.ticks.length&&("x"===e.direction?(i.left=Math.max(i.left,e.labelWidth/2),i.right=Math.max(i.right,e.labelWidth/2)):(i.bottom=Math.max(i.bottom,e.labelHeight/2),i.top=Math.max(i.top,e.labelHeight/2)))}),dt.left=Math.ceil(Math.max(i.left,dt.left)),dt.right=Math.ceil(Math.max(i.right,dt.right)),dt.top=Math.ceil(Math.max(i.top,dt.top)),dt.bottom=Math.ceil(Math.max(i.bottom,dt.bottom))}function A(){var e,n=f(),i=rt.grid.show;for(var r in dt){var a=rt.grid.margin||0;dt[r]="number"==typeof a?a:a[r]||0}s(gt.processOffset,[dt]);for(var r in dt)"object"==typeof rt.grid.borderWidth?dt[r]+=i?rt.grid.borderWidth[r]:0:dt[r]+=i?rt.grid.borderWidth:0;if(t.each(n,function(t,e){var n=e.options;e.show=null==n.show?e.used:n.show,e.reserveSpace=null==n.reserveSpace?e.show:n.reserveSpace,E(e)}),i){var o=t.grep(n,function(t){return t.show||t.reserveSpace});for(t.each(o,function(t,e){T(e),F(e),D(e,e.ticks),M(e)}),e=o.length-1;e>=0;--e)_(o[e]);S(),t.each(o,function(t,e){C(e)})}ft=at.width-dt.left-dt.right,pt=at.height-dt.bottom-dt.top,t.each(n,function(t,e){w(e)}),i&&P(),G()}function E(t){var e=t.options,n=+(null!=e.min?e.min:t.datamin),i=+(null!=e.max?e.max:t.datamax),r=i-n;if(0==r){var a=0==i?1:.01;null==e.min&&(n-=a),null!=e.max&&null==e.min||(i+=a)}else{var o=e.autoscaleMargin;null!=o&&(null==e.min&&(n-=r*o,n<0&&null!=t.datamin&&t.datamin>=0&&(n=0)),null==e.max&&(i+=r*o,i>0&&null!=t.datamax&&t.datamax<=0&&(i=0)))}t.min=n,t.max=i}function T(e){var n,r=e.options;n="number"==typeof r.ticks&&r.ticks>0?r.ticks:.3*Math.sqrt("x"==e.direction?at.width:at.height);var a=(e.max-e.min)/n,o=-Math.floor(Math.log(a)/Math.LN10),s=r.tickDecimals;null!=s&&o>s&&(o=s);var l,u=Math.pow(10,-o),c=a/u;if(c<1.5?l=1:c<3?(l=2,c>2.25&&(null==s||o+1<=s)&&(l=2.5,++o)):l=c<7.5?5:10,l*=u,null!=r.minTickSize&&l<r.minTickSize&&(l=r.minTickSize),e.delta=a,e.tickDecimals=Math.max(0,null!=s?s:o),e.tickSize=r.tickSize||l,"time"==r.mode&&!e.tickGenerator)throw new Error("Time mode requires the flot.time plugin.");if(e.tickGenerator||(e.tickGenerator=function(t){var e,n=[],r=i(t.min,t.tickSize),a=0,o=Number.NaN;do e=o,o=r+a*t.tickSize,n.push(o),++a;while(o<t.max&&o!=e);return n},e.tickFormatter=function(t,e){var n=e.tickDecimals?Math.pow(10,e.tickDecimals):1,i=""+Math.round(t*n)/n;if(null!=e.tickDecimals){var r=i.indexOf("."),a=r==-1?0:i.length-r-1;if(a<e.tickDecimals)return(a?i:i+".")+(""+n).substr(1,e.tickDecimals-a)}return i}),t.isFunction(r.tickFormatter)&&(e.tickFormatter=function(t,e){return""+r.tickFormatter(t,e)}),null!=r.alignTicksWithAxis){var h=("x"==e.direction?ct:ht)[r.alignTicksWithAxis-1];if(h&&h.used&&h!=e){var d=e.tickGenerator(e);if(d.length>0&&(null==r.min&&(e.min=Math.min(e.min,d[0])),null==r.max&&d.length>1&&(e.max=Math.max(e.max,d[d.length-1]))),e.tickGenerator=function(t){var e,n,i=[];for(n=0;n<h.ticks.length;++n)e=(h.ticks[n].v-h.min)/(h.max-h.min),e=t.min+e*(t.max-t.min),i.push(e);return i},!e.mode&&null==r.tickDecimals){var f=Math.max(0,-Math.floor(Math.log(e.delta)/Math.LN10)+1),p=e.tickGenerator(e);p.length>1&&/\..*0$/.test((p[1]-p[0]).toFixed(f))||(e.tickDecimals=f)}}}}function F(e){var n=e.options.ticks,i=[];null==n||"number"==typeof n&&n>0?i=e.tickGenerator(e):n&&(i=t.isFunction(n)?n(e):n);var r,a;for(e.ticks=[],r=0;r<i.length;++r){var o=null,s=i[r];"object"==typeof s?(a=+s[0],s.length>1&&(o=s[1])):a=+s,null==o&&(o=e.tickFormatter(a,e)),isNaN(a)||e.ticks.push({v:a,label:o})}}function D(t,e){t.options.autoscaleMargin&&e.length>0&&(null==t.options.min&&(t.min=Math.min(t.min,e[0].v)),null==t.options.max&&e.length>1&&(t.max=Math.max(t.max,e[e.length-1].v)))}function z(){at.clear(),s(gt.drawBackground,[lt]);var t=rt.grid;t.show&&t.backgroundColor&&L(),t.show&&!t.aboveData&&W();for(var e=0;e<it.length;++e)s(gt.drawSeries,[lt,it[e]]),I(it[e]);s(gt.draw,[lt]),t.show&&t.aboveData&&W(),at.render(),Z()}function N(t,e){for(var n,i,r,a,o=f(),s=0;s<o.length;++s)if(n=o[s],n.direction==e&&(a=e+n.n+"axis",t[a]||1!=n.n||(a=e+"axis"),t[a])){i=t[a].from,r=t[a].to;break}if(t[a]||(n="x"==e?ct[0]:ht[0],i=t[e+"1"],r=t[e+"2"]),null!=i&&null!=r&&i>r){var l=i;i=r,r=l}return{from:i,to:r,axis:n}}function L(){lt.save(),lt.translate(dt.left,dt.top),lt.fillStyle=nt(rt.grid.backgroundColor,pt,0,"rgba(255, 255, 255, 0)"),lt.fillRect(0,0,ft,pt),lt.restore()}function W(){var e,n,i,r;lt.save(),lt.translate(dt.left,dt.top);var a=rt.grid.markings;if(a)for(t.isFunction(a)&&(n=vt.getAxes(),n.xmin=n.xaxis.min,n.xmax=n.xaxis.max,n.ymin=n.yaxis.min,n.ymax=n.yaxis.max,a=a(n)),e=0;e<a.length;++e){var o=a[e],s=N(o,"x"),l=N(o,"y");if(null==s.from&&(s.from=s.axis.min),null==s.to&&(s.to=s.axis.max),null==l.from&&(l.from=l.axis.min),null==l.to&&(l.to=l.axis.max),!(s.to<s.axis.min||s.from>s.axis.max||l.to<l.axis.min||l.from>l.axis.max)){s.from=Math.max(s.from,s.axis.min),s.to=Math.min(s.to,s.axis.max),l.from=Math.max(l.from,l.axis.min),l.to=Math.min(l.to,l.axis.max);var u=s.from===s.to,c=l.from===l.to;if(!u||!c)if(s.from=Math.floor(s.axis.p2c(s.from)),s.to=Math.floor(s.axis.p2c(s.to)),l.from=Math.floor(l.axis.p2c(l.from)),l.to=Math.floor(l.axis.p2c(l.to)),u||c){var h=o.lineWidth||rt.grid.markingsLineWidth,d=h%2?.5:0;lt.beginPath(),lt.strokeStyle=o.color||rt.grid.markingsColor,lt.lineWidth=h,u?(lt.moveTo(s.to+d,l.from),lt.lineTo(s.to+d,l.to)):(lt.moveTo(s.from,l.to+d),lt.lineTo(s.to,l.to+d)),lt.stroke()}else lt.fillStyle=o.color||rt.grid.markingsColor,lt.fillRect(s.from,l.to,s.to-s.from,l.from-l.to)}}n=f(),i=rt.grid.borderWidth;for(var p=0;p<n.length;++p){var g,v,m,y,x=n[p],b=x.box,k=x.tickLength;if(x.show&&0!=x.ticks.length){for(lt.lineWidth=1,"x"==x.direction?(g=0,v="full"==k?"top"==x.position?0:pt:b.top-dt.top+("top"==x.position?b.height:0)):(v=0,g="full"==k?"left"==x.position?0:ft:b.left-dt.left+("left"==x.position?b.width:0)),x.innermost||(lt.strokeStyle=x.options.color,lt.beginPath(),m=y=0,"x"==x.direction?m=ft+1:y=pt+1,1==lt.lineWidth&&("x"==x.direction?v=Math.floor(v)+.5:g=Math.floor(g)+.5),lt.moveTo(g,v),lt.lineTo(g+m,v+y),lt.stroke()),lt.strokeStyle=x.options.tickColor,lt.beginPath(),e=0;e<x.ticks.length;++e){var w=x.ticks[e].v;m=y=0,isNaN(w)||w<x.min||w>x.max||"full"==k&&("object"==typeof i&&i[x.position]>0||i>0)&&(w==x.min||w==x.max)||("x"==x.direction?(g=x.p2c(w),y="full"==k?-pt:k,"top"==x.position&&(y=-y)):(v=x.p2c(w),m="full"==k?-ft:k,"left"==x.position&&(m=-m)),1==lt.lineWidth&&("x"==x.direction?g=Math.floor(g)+.5:v=Math.floor(v)+.5),lt.moveTo(g,v),lt.lineTo(g+m,v+y))}lt.stroke()}}i&&(r=rt.grid.borderColor,"object"==typeof i||"object"==typeof r?("object"!=typeof i&&(i={top:i,right:i,bottom:i,left:i}),"object"!=typeof r&&(r={top:r,right:r,bottom:r,left:r}),i.top>0&&(lt.strokeStyle=r.top,lt.lineWidth=i.top,lt.beginPath(),lt.moveTo(0-i.left,0-i.top/2),lt.lineTo(ft,0-i.top/2),lt.stroke()),i.right>0&&(lt.strokeStyle=r.right,lt.lineWidth=i.right,lt.beginPath(),lt.moveTo(ft+i.right/2,0-i.top),lt.lineTo(ft+i.right/2,pt),lt.stroke()),i.bottom>0&&(lt.strokeStyle=r.bottom,lt.lineWidth=i.bottom,lt.beginPath(),lt.moveTo(ft+i.right,pt+i.bottom/2),lt.lineTo(0,pt+i.bottom/2),lt.stroke()),i.left>0&&(lt.strokeStyle=r.left,lt.lineWidth=i.left,lt.beginPath(),lt.moveTo(0-i.left/2,pt+i.bottom),lt.lineTo(0-i.left/2,0),lt.stroke())):(lt.lineWidth=i,lt.strokeStyle=rt.grid.borderColor,lt.strokeRect(-i/2,-i/2,ft+i,pt+i))),lt.restore()}function P(){t.each(f(),function(t,e){var n,i,r,a,o,s=e.box,l=e.direction+"Axis "+e.direction+e.n+"Axis",u="flot-"+e.direction+"-axis flot-"+e.direction+e.n+"-axis "+l,c=e.options.font||"flot-tick-label tickLabel";if(at.removeText(u),e.show&&0!=e.ticks.length)for(var h=0;h<e.ticks.length;++h)n=e.ticks[h],!n.label||n.v<e.min||n.v>e.max||("x"==e.direction?(a="center",i=dt.left+e.p2c(n.v),"bottom"==e.position?r=s.top+s.padding:(r=s.top+s.height-s.padding,o="bottom")):(o="middle",r=dt.top+e.p2c(n.v),"left"==e.position?(i=s.left+s.width-s.padding,a="right"):i=s.left+s.padding),at.addText(u,i,r,n.label,c,null,null,a,o))})}function I(t){t.lines.show&&O(t),t.bars.show&&H(t),t.points.show&&R(t)}function O(t){function e(t,e,n,i,r){var a=t.points,o=t.pointsize,s=null,l=null;lt.beginPath();for(var u=o;u<a.length;u+=o){var c=a[u-o],h=a[u-o+1],d=a[u],f=a[u+1];if(null!=c&&null!=d){if(h<=f&&h<r.min){if(f<r.min)continue;c=(r.min-h)/(f-h)*(d-c)+c,h=r.min}else if(f<=h&&f<r.min){if(h<r.min)continue;d=(r.min-h)/(f-h)*(d-c)+c,f=r.min}if(h>=f&&h>r.max){if(f>r.max)continue;c=(r.max-h)/(f-h)*(d-c)+c,h=r.max}else if(f>=h&&f>r.max){if(h>r.max)continue;d=(r.max-h)/(f-h)*(d-c)+c,f=r.max}if(c<=d&&c<i.min){if(d<i.min)continue;h=(i.min-c)/(d-c)*(f-h)+h,c=i.min}else if(d<=c&&d<i.min){if(c<i.min)continue;f=(i.min-c)/(d-c)*(f-h)+h,d=i.min}if(c>=d&&c>i.max){if(d>i.max)continue;h=(i.max-c)/(d-c)*(f-h)+h,c=i.max}else if(d>=c&&d>i.max){if(c>i.max)continue;f=(i.max-c)/(d-c)*(f-h)+h,d=i.max}c==s&&h==l||lt.moveTo(i.p2c(c)+e,r.p2c(h)+n),s=d,l=f,lt.lineTo(i.p2c(d)+e,r.p2c(f)+n)}}lt.stroke()}function n(t,e,n){for(var i=t.points,r=t.pointsize,a=Math.min(Math.max(0,n.min),n.max),o=0,s=!1,l=1,u=0,c=0;;){if(r>0&&o>i.length+r)break;o+=r;var h=i[o-r],d=i[o-r+l],f=i[o],p=i[o+l];if(s){if(r>0&&null!=h&&null==f){c=o,r=-r,l=2;continue}if(r<0&&o==u+r){lt.fill(),s=!1,r=-r,l=1,o=u=c+r;continue}}if(null!=h&&null!=f){if(h<=f&&h<e.min){if(f<e.min)continue;d=(e.min-h)/(f-h)*(p-d)+d,h=e.min}else if(f<=h&&f<e.min){if(h<e.min)continue;p=(e.min-h)/(f-h)*(p-d)+d,f=e.min}if(h>=f&&h>e.max){if(f>e.max)continue;d=(e.max-h)/(f-h)*(p-d)+d,h=e.max}else if(f>=h&&f>e.max){if(h>e.max)continue;p=(e.max-h)/(f-h)*(p-d)+d,f=e.max}if(s||(lt.beginPath(),lt.moveTo(e.p2c(h),n.p2c(a)),s=!0),d>=n.max&&p>=n.max)lt.lineTo(e.p2c(h),n.p2c(n.max)),lt.lineTo(e.p2c(f),n.p2c(n.max));else if(d<=n.min&&p<=n.min)lt.lineTo(e.p2c(h),n.p2c(n.min)),lt.lineTo(e.p2c(f),n.p2c(n.min));else{var g=h,v=f;d<=p&&d<n.min&&p>=n.min?(h=(n.min-d)/(p-d)*(f-h)+h,d=n.min):p<=d&&p<n.min&&d>=n.min&&(f=(n.min-d)/(p-d)*(f-h)+h,p=n.min),d>=p&&d>n.max&&p<=n.max?(h=(n.max-d)/(p-d)*(f-h)+h,d=n.max):p>=d&&p>n.max&&d<=n.max&&(f=(n.max-d)/(p-d)*(f-h)+h,p=n.max),h!=g&&lt.lineTo(e.p2c(g),n.p2c(d)),lt.lineTo(e.p2c(h),n.p2c(d)),lt.lineTo(e.p2c(f),n.p2c(p)),f!=v&&(lt.lineTo(e.p2c(f),n.p2c(p)),lt.lineTo(e.p2c(v),n.p2c(p)))}}}}lt.save(),lt.translate(dt.left,dt.top),lt.lineJoin="round";var i=t.lines.lineWidth,r=t.shadowSize;if(i>0&&r>0){lt.lineWidth=r,lt.strokeStyle="rgba(0,0,0,0.1)";var a=Math.PI/18;e(t.datapoints,Math.sin(a)*(i/2+r/2),Math.cos(a)*(i/2+r/2),t.xaxis,t.yaxis),lt.lineWidth=r/2,e(t.datapoints,Math.sin(a)*(i/2+r/4),Math.cos(a)*(i/2+r/4),t.xaxis,t.yaxis)}lt.lineWidth=i,lt.strokeStyle=t.color;var o=B(t.lines,t.color,0,pt);o&&(lt.fillStyle=o,n(t.datapoints,t.xaxis,t.yaxis)),i>0&&e(t.datapoints,0,0,t.xaxis,t.yaxis),lt.restore()}function R(t){function e(t,e,n,i,r,a,o,s){for(var l=t.points,u=t.pointsize,c=0;c<l.length;c+=u){var h=l[c],d=l[c+1];null==h||h<a.min||h>a.max||d<o.min||d>o.max||(lt.beginPath(),h=a.p2c(h),d=o.p2c(d)+i,"circle"==s?lt.arc(h,d,e,0,r?Math.PI:2*Math.PI,!1):s(lt,h,d,e,r),lt.closePath(),n&&(lt.fillStyle=n,lt.fill()),lt.stroke())}}lt.save(),lt.translate(dt.left,dt.top);var n=t.points.lineWidth,i=t.shadowSize,r=t.points.radius,a=t.points.symbol;if(0==n&&(n=1e-4),n>0&&i>0){var o=i/2;lt.lineWidth=o,lt.strokeStyle="rgba(0,0,0,0.1)",e(t.datapoints,r,null,o+o/2,!0,t.xaxis,t.yaxis,a),lt.strokeStyle="rgba(0,0,0,0.2)",e(t.datapoints,r,null,o/2,!0,t.xaxis,t.yaxis,a)}lt.lineWidth=n,lt.strokeStyle=t.color,e(t.datapoints,r,B(t.points,t.color),0,!1,t.xaxis,t.yaxis,a),lt.restore()}function j(t,e,n,i,r,a,o,s,l,u,c){var h,d,f,p,g,v,m,y,x;u?(y=v=m=!0,g=!1,h=n,d=t,p=e+i,f=e+r,d<h&&(x=d,d=h,h=x,g=!0,v=!1)):(g=v=m=!0,y=!1,h=t+i,d=t+r,f=n,p=e,p<f&&(x=p,p=f,f=x,y=!0,m=!1)),d<o.min||h>o.max||p<s.min||f>s.max||(h<o.min&&(h=o.min,g=!1),d>o.max&&(d=o.max,v=!1),f<s.min&&(f=s.min,y=!1),p>s.max&&(p=s.max,m=!1),h=o.p2c(h),f=s.p2c(f),d=o.p2c(d),p=s.p2c(p),a&&(l.fillStyle=a(f,p),l.fillRect(h,p,d-h,f-p)),c>0&&(g||v||m||y)&&(l.beginPath(),l.moveTo(h,f),g?l.lineTo(h,p):l.moveTo(h,p),m?l.lineTo(d,p):l.moveTo(d,p),v?l.lineTo(d,f):l.moveTo(d,f),y?l.lineTo(h,f):l.moveTo(h,f),l.stroke()))}function H(t){function e(e,n,i,r,a,o){for(var s=e.points,l=e.pointsize,u=0;u<s.length;u+=l)null!=s[u]&&j(s[u],s[u+1],s[u+2],n,i,r,a,o,lt,t.bars.horizontal,t.bars.lineWidth)}lt.save(),lt.translate(dt.left,dt.top),lt.lineWidth=t.bars.lineWidth,lt.strokeStyle=t.color;var n;switch(t.bars.align){case"left":n=0;break;case"right":n=-t.bars.barWidth;break;default:n=-t.bars.barWidth/2}var i=t.bars.fill?function(e,n){return B(t.bars,t.color,e,n)}:null;e(t.datapoints,n,n+t.bars.barWidth,i,t.xaxis,t.yaxis),lt.restore()}function B(e,n,i,r){var a=e.fill;if(!a)return null;if(e.fillColor)return nt(e.fillColor,i,r,n);var o=t.color.parse(n);return o.a="number"==typeof a?a:.4,o.normalize(),o.toString()}function G(){if(null!=rt.legend.container?t(rt.legend.container).html(""):n.find(".legend").remove(),rt.legend.show){for(var e,i,r=[],a=[],o=!1,s=rt.legend.labelFormatter,l=0;l<it.length;++l)e=it[l],e.label&&(i=s?s(e.label,e):e.label,i&&a.push({label:i,color:e.color}));if(rt.legend.sorted)if(t.isFunction(rt.legend.sorted))a.sort(rt.legend.sorted);else if("reverse"==rt.legend.sorted)a.reverse();else{var u="descending"!=rt.legend.sorted;a.sort(function(t,e){return t.label==e.label?0:t.label<e.label!=u?1:-1})}for(var l=0;l<a.length;++l){var c=a[l];l%rt.legend.noColumns==0&&(o&&r.push("</tr>"),r.push("<tr>"),o=!0),r.push('<td class="legendColorBox"><div style="border:1px solid '+rt.legend.labelBoxBorderColor+';padding:1px"><div style="width:4px;height:0;border:5px solid '+c.color+';overflow:hidden"></div></div></td><td class="legendLabel">'+c.label+"</td>")}if(o&&r.push("</tr>"),0!=r.length){var h='<table style="font-size:smaller;color:'+rt.grid.color+'">'+r.join("")+"</table>";if(null!=rt.legend.container)t(rt.legend.container).html(h);else{var d="",f=rt.legend.position,p=rt.legend.margin;null==p[0]&&(p=[p,p]),"n"==f.charAt(0)?d+="top:"+(p[1]+dt.top)+"px;":"s"==f.charAt(0)&&(d+="bottom:"+(p[1]+dt.bottom)+"px;"),"e"==f.charAt(1)?d+="right:"+(p[0]+dt.right)+"px;":"w"==f.charAt(1)&&(d+="left:"+(p[0]+dt.left)+"px;");var g=t('<div class="legend">'+h.replace('style="','style="position:absolute;'+d+";")+"</div>").appendTo(n);if(0!=rt.legend.backgroundOpacity){var v=rt.legend.backgroundColor;null==v&&(v=rt.grid.backgroundColor,v=v&&"string"==typeof v?t.color.parse(v):t.color.extract(g,"background-color"),v.a=1,v=v.toString());var m=g.children();t('<div style="position:absolute;width:'+m.width()+"px;height:"+m.height()+"px;"+d+"background-color:"+v+';"> </div>').prependTo(g).css("opacity",rt.legend.backgroundOpacity)}}}}}function q(t,e,n){var i,r,a,o=rt.grid.mouseActiveRadius,s=o*o+1,l=null;for(i=it.length-1;i>=0;--i)if(n(it[i])){var u=it[i],c=u.xaxis,h=u.yaxis,d=u.datapoints.points,f=c.c2p(t),p=h.c2p(e),g=o/c.scale,v=o/h.scale;if(a=u.datapoints.pointsize,c.options.inverseTransform&&(g=Number.MAX_VALUE),h.options.inverseTransform&&(v=Number.MAX_VALUE),u.lines.show||u.points.show)for(r=0;r<d.length;r+=a){var m=d[r],y=d[r+1];if(null!=m&&!(m-f>g||m-f<-g||y-p>v||y-p<-v)){var x=Math.abs(c.p2c(m)-t),b=Math.abs(h.p2c(y)-e),k=x*x+b*b;k<s&&(s=k,l=[i,r/a])}}if(u.bars.show&&!l){var w,M;switch(u.bars.align){case"left":w=0;break;case"right":w=-u.bars.barWidth;break;default:w=-u.bars.barWidth/2}for(M=w+u.bars.barWidth,r=0;r<d.length;r+=a){var m=d[r],y=d[r+1],_=d[r+2];null!=m&&(it[i].bars.horizontal?f<=Math.max(_,m)&&f>=Math.min(_,m)&&p>=y+w&&p<=y+M:f>=m+w&&f<=m+M&&p>=Math.min(_,y)&&p<=Math.max(_,y))&&(l=[i,r/a]);
}}}return l?(i=l[0],r=l[1],a=it[i].datapoints.pointsize,{datapoint:it[i].datapoints.points.slice(r*a,(r+1)*a),dataIndex:r,series:it[i],seriesIndex:i}):null}function Y(t){rt.grid.hoverable&&X("plothover",t,function(t){return 0!=t.hoverable})}function V(t){rt.grid.hoverable&&X("plothover",t,function(t){return!1})}function U(t){X("plotclick",t,function(t){return 0!=t.clickable})}function X(t,e,i){var r=st.offset(),a=e.pageX-r.left-dt.left,o=e.pageY-r.top-dt.top,s=p({left:a,top:o});s.pageX=e.pageX,s.pageY=e.pageY;var l=q(a,o,i);if(l&&(l.pageX=parseInt(l.series.xaxis.p2c(l.datapoint[0])+r.left+dt.left,10),l.pageY=parseInt(l.series.yaxis.p2c(l.datapoint[1])+r.top+dt.top,10)),rt.grid.autoHighlight){for(var u=0;u<mt.length;++u){var c=mt[u];c.auto!=t||l&&c.series==l.series&&c.point[0]==l.datapoint[0]&&c.point[1]==l.datapoint[1]||Q(c.series,c.point)}l&&J(l.series,l.datapoint,t)}n.trigger(t,[s,l])}function Z(){var t=rt.interaction.redrawOverlayInterval;return t==-1?void $():void(yt||(yt=setTimeout($,t)))}function $(){yt=null,ut.save(),ot.clear(),ut.translate(dt.left,dt.top);var t,e;for(t=0;t<mt.length;++t)e=mt[t],e.series.bars.show?et(e.series,e.point):tt(e.series,e.point);ut.restore(),s(gt.drawOverlay,[ut])}function J(t,e,n){if("number"==typeof t&&(t=it[t]),"number"==typeof e){var i=t.datapoints.pointsize;e=t.datapoints.points.slice(i*e,i*(e+1))}var r=K(t,e);r==-1?(mt.push({series:t,point:e,auto:n}),Z()):n||(mt[r].auto=!1)}function Q(t,e){if(null==t&&null==e)return mt=[],void Z();if("number"==typeof t&&(t=it[t]),"number"==typeof e){var n=t.datapoints.pointsize;e=t.datapoints.points.slice(n*e,n*(e+1))}var i=K(t,e);i!=-1&&(mt.splice(i,1),Z())}function K(t,e){for(var n=0;n<mt.length;++n){var i=mt[n];if(i.series==t&&i.point[0]==e[0]&&i.point[1]==e[1])return n}return-1}function tt(e,n){var i=n[0],r=n[1],a=e.xaxis,o=e.yaxis,s="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString();if(!(i<a.min||i>a.max||r<o.min||r>o.max)){var l=e.points.radius+e.points.lineWidth/2;ut.lineWidth=l,ut.strokeStyle=s;var u=1.5*l;i=a.p2c(i),r=o.p2c(r),ut.beginPath(),"circle"==e.points.symbol?ut.arc(i,r,u,0,2*Math.PI,!1):e.points.symbol(ut,i,r,u,!1),ut.closePath(),ut.stroke()}}function et(e,n){var i,r="string"==typeof e.highlightColor?e.highlightColor:t.color.parse(e.color).scale("a",.5).toString(),a=r;switch(e.bars.align){case"left":i=0;break;case"right":i=-e.bars.barWidth;break;default:i=-e.bars.barWidth/2}ut.lineWidth=e.bars.lineWidth,ut.strokeStyle=r,j(n[0],n[1],n[2]||0,i,i+e.bars.barWidth,function(){return a},e.xaxis,e.yaxis,ut,e.bars.horizontal,e.bars.lineWidth)}function nt(e,n,i,r){if("string"==typeof e)return e;for(var a=lt.createLinearGradient(0,i,0,n),o=0,s=e.colors.length;o<s;++o){var l=e.colors[o];if("string"!=typeof l){var u=t.color.parse(r);null!=l.brightness&&(u=u.scale("rgb",l.brightness)),null!=l.opacity&&(u.a*=l.opacity),l=u.toString()}a.addColorStop(o/(s-1),l)}return a}var it=[],rt={colors:["#edc240","#afd8f8","#cb4b4b","#4da74d","#9440ed"],legend:{show:!0,noColumns:1,labelFormatter:null,labelBoxBorderColor:"#ccc",container:null,position:"ne",margin:5,backgroundColor:null,backgroundOpacity:.85,sorted:null},xaxis:{show:null,position:"bottom",mode:null,font:null,color:null,tickColor:null,transform:null,inverseTransform:null,min:null,max:null,autoscaleMargin:null,ticks:null,tickFormatter:null,labelWidth:null,labelHeight:null,reserveSpace:null,tickLength:null,alignTicksWithAxis:null,tickDecimals:null,tickSize:null,minTickSize:null},yaxis:{autoscaleMargin:.02,position:"left"},xaxes:[],yaxes:[],series:{points:{show:!1,radius:3,lineWidth:2,fill:!0,fillColor:"#ffffff",symbol:"circle"},lines:{lineWidth:2,fill:!1,fillColor:null,steps:!1},bars:{show:!1,lineWidth:2,barWidth:1,fill:!0,fillColor:null,align:"left",horizontal:!1,zero:!0},shadowSize:3,highlightColor:null},grid:{show:!0,aboveData:!1,color:"#545454",backgroundColor:null,borderColor:null,tickColor:null,margin:0,labelMargin:5,axisMargin:8,borderWidth:2,minBorderMargin:null,markings:null,markingsColor:"#f4f4f4",markingsLineWidth:2,clickable:!1,hoverable:!1,autoHighlight:!0,mouseActiveRadius:10},interaction:{redrawOverlayInterval:1e3/60},hooks:{}},at=null,ot=null,st=null,lt=null,ut=null,ct=[],ht=[],dt={left:0,right:0,top:0,bottom:0},ft=0,pt=0,gt={processOptions:[],processRawData:[],processDatapoints:[],processOffset:[],drawBackground:[],drawSeries:[],draw:[],bindEvents:[],drawOverlay:[],shutdown:[]},vt=this;vt.setData=c,vt.setupGrid=A,vt.draw=z,vt.getPlaceholder=function(){return n},vt.getCanvas=function(){return at.element},vt.getPlotOffset=function(){return dt},vt.width=function(){return ft},vt.height=function(){return pt},vt.offset=function(){var t=st.offset();return t.left+=dt.left,t.top+=dt.top,t},vt.getData=function(){return it},vt.getAxes=function(){var e={};return t.each(ct.concat(ht),function(t,n){n&&(e[n.direction+(1!=n.n?n.n:"")+"axis"]=n)}),e},vt.getXAxes=function(){return ct},vt.getYAxes=function(){return ht},vt.c2p=p,vt.p2c=g,vt.getOptions=function(){return rt},vt.highlight=J,vt.unhighlight=Q,vt.triggerRedrawOverlay=Z,vt.pointOffset=function(t){return{left:parseInt(ct[d(t,"x")-1].p2c(+t.x)+dt.left,10),top:parseInt(ht[d(t,"y")-1].p2c(+t.y)+dt.top,10)}},vt.shutdown=k,vt.destroy=function(){k(),n.removeData("plot").empty(),it=[],rt=null,at=null,ot=null,st=null,lt=null,ut=null,ct=[],ht=[],gt=null,mt=[],vt=null},vt.resize=function(){var t=n.width(),e=n.height();at.resize(t,e),ot.resize(t,e)},vt.hooks=gt,l(vt),u(a),x(),c(r),A(),z(),b();var mt=[],yt=null}function i(t,e){return e*Math.floor(t/e)}var r=Object.prototype.hasOwnProperty;t.fn.detach||(t.fn.detach=function(){return this.each(function(){this.parentNode&&this.parentNode.removeChild(this)})}),e.prototype.resize=function(t,e){if(t<=0||e<=0)throw new Error("Invalid dimensions for plot, width = "+t+", height = "+e);var n=this.element,i=this.context,r=this.pixelRatio;this.width!=t&&(n.width=t*r,n.style.width=t+"px",this.width=t),this.height!=e&&(n.height=e*r,n.style.height=e+"px",this.height=e),i.restore(),i.save(),i.scale(r,r)},e.prototype.clear=function(){this.context.clearRect(0,0,this.width,this.height)},e.prototype.render=function(){var t=this._textCache;for(var e in t)if(r.call(t,e)){var n=this.getTextLayer(e),i=t[e];n.hide();for(var a in i)if(r.call(i,a)){var o=i[a];for(var s in o)if(r.call(o,s)){for(var l,u=o[s].positions,c=0;l=u[c];c++)l.active?l.rendered||(n.append(l.element),l.rendered=!0):(u.splice(c--,1),l.rendered&&l.element.detach());0==u.length&&delete o[s]}}n.show()}},e.prototype.getTextLayer=function(e){var n=this.text[e];return null==n&&(null==this.textContainer&&(this.textContainer=t("<div class='flot-text'></div>").css({position:"absolute",top:0,left:0,bottom:0,right:0,"font-size":"smaller",color:"#545454"}).insertAfter(this.element)),n=this.text[e]=t("<div></div>").addClass(e).css({position:"absolute",top:0,left:0,bottom:0,right:0}).appendTo(this.textContainer)),n},e.prototype.getTextInfo=function(e,n,i,r,a){var o,s,l,u;if(n=""+n,o="object"==typeof i?i.style+" "+i.variant+" "+i.weight+" "+i.size+"px/"+i.lineHeight+"px "+i.family:i,s=this._textCache[e],null==s&&(s=this._textCache[e]={}),l=s[o],null==l&&(l=s[o]={}),u=l[n],null==u){var c=t("<div></div>").html(n).css({position:"absolute","max-width":a,top:-9999}).appendTo(this.getTextLayer(e));"object"==typeof i?c.css({font:o,color:i.color}):"string"==typeof i&&c.addClass(i),u=l[n]={width:c.outerWidth(!0),height:c.outerHeight(!0),element:c,positions:[]},c.detach()}return u},e.prototype.addText=function(t,e,n,i,r,a,o,s,l){var u=this.getTextInfo(t,i,r,a,o),c=u.positions;"center"==s?e-=u.width/2:"right"==s&&(e-=u.width),"middle"==l?n-=u.height/2:"bottom"==l&&(n-=u.height);for(var h,d=0;h=c[d];d++)if(h.x==e&&h.y==n)return void(h.active=!0);h={active:!0,rendered:!1,element:c.length?u.element.clone():u.element,x:e,y:n},c.push(h),h.element.css({top:Math.round(n),left:Math.round(e),"text-align":s})},e.prototype.removeText=function(t,e,n,i,a,o){if(null==i){var s=this._textCache[t];if(null!=s)for(var l in s)if(r.call(s,l)){var u=s[l];for(var c in u)if(r.call(u,c))for(var h,d=u[c].positions,f=0;h=d[f];f++)h.active=!1}}else for(var h,d=this.getTextInfo(t,i,a,o).positions,f=0;h=d[f];f++)h.x==e&&h.y==n&&(h.active=!1)},t.plot=function(e,i,r){var a=new n(t(e),i,r,t.plot.plugins);return a},t.plot.version="0.8.3",t.plot.plugins=[],t.fn.plot=function(e,n){return this.each(function(){t.plot(this,e,n)})}}(t)}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./node_modules/jquery-flot/jquery.flot.time.js":function(t,e,n){(function(t){!function(t){function e(t,e){return e*Math.floor(t/e)}function n(t,e,n,i){if("function"==typeof t.strftime)return t.strftime(e);var r=function(t,e){return t=""+t,e=""+(null==e?"0":e),1==t.length?e+t:t},a=[],o=!1,s=t.getHours(),l=s<12;null==n&&(n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]),null==i&&(i=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"]);var u;u=s>12?s-12:0==s?12:s;for(var c=0;c<e.length;++c){var h=e.charAt(c);if(o){switch(h){case"a":h=""+i[t.getDay()];break;case"b":h=""+n[t.getMonth()];break;case"d":h=r(t.getDate());break;case"e":h=r(t.getDate()," ");break;case"h":case"H":h=r(s);break;case"I":h=r(u);break;case"l":h=r(u," ");break;case"m":h=r(t.getMonth()+1);break;case"M":h=r(t.getMinutes());break;case"q":h=""+(Math.floor(t.getMonth()/3)+1);break;case"S":h=r(t.getSeconds());break;case"y":h=r(t.getFullYear()%100);break;case"Y":h=""+t.getFullYear();break;case"p":h=l?"am":"pm";break;case"P":h=l?"AM":"PM";break;case"w":h=""+t.getDay()}a.push(h),o=!1}else"%"==h?o=!0:a.push(h)}return a.join("")}function i(t){function e(t,e,n,i){t[e]=function(){return n[i].apply(n,arguments)}}var n={date:t};void 0!=t.strftime&&e(n,"strftime",t,"strftime"),e(n,"getTime",t,"getTime"),e(n,"setTime",t,"setTime");for(var i=["Date","Day","FullYear","Hours","Milliseconds","Minutes","Month","Seconds"],r=0;r<i.length;r++)e(n,"get"+i[r],t,"getUTC"+i[r]),e(n,"set"+i[r],t,"setUTC"+i[r]);return n}function r(t,e){if("browser"==e.timezone)return new Date(t);if(e.timezone&&"utc"!=e.timezone){if("undefined"!=typeof timezoneJS&&"undefined"!=typeof timezoneJS.Date){var n=new timezoneJS.Date;return n.setTimezone(e.timezone),n.setTime(t),n}return i(new Date(t))}return i(new Date(t))}function a(i){i.hooks.processOptions.push(function(i,a){t.each(i.getAxes(),function(t,i){var a=i.options;"time"==a.mode&&(i.tickGenerator=function(t){var n=[],i=r(t.min,a),o=0,l=a.tickSize&&"quarter"===a.tickSize[1]||a.minTickSize&&"quarter"===a.minTickSize[1]?c:u;null!=a.minTickSize&&(o="number"==typeof a.tickSize?a.tickSize:a.minTickSize[0]*s[a.minTickSize[1]]);for(var h=0;h<l.length-1&&!(t.delta<(l[h][0]*s[l[h][1]]+l[h+1][0]*s[l[h+1][1]])/2&&l[h][0]*s[l[h][1]]>=o);++h);var d=l[h][0],f=l[h][1];if("year"==f){if(null!=a.minTickSize&&"year"==a.minTickSize[1])d=Math.floor(a.minTickSize[0]);else{var p=Math.pow(10,Math.floor(Math.log(t.delta/s.year)/Math.LN10)),g=t.delta/s.year/p;d=g<1.5?1:g<3?2:g<7.5?5:10,d*=p}d<1&&(d=1)}t.tickSize=a.tickSize||[d,f];var v=t.tickSize[0];f=t.tickSize[1];var m=v*s[f];"second"==f?i.setSeconds(e(i.getSeconds(),v)):"minute"==f?i.setMinutes(e(i.getMinutes(),v)):"hour"==f?i.setHours(e(i.getHours(),v)):"month"==f?i.setMonth(e(i.getMonth(),v)):"quarter"==f?i.setMonth(3*e(i.getMonth()/3,v)):"year"==f&&i.setFullYear(e(i.getFullYear(),v)),i.setMilliseconds(0),m>=s.minute&&i.setSeconds(0),m>=s.hour&&i.setMinutes(0),m>=s.day&&i.setHours(0),m>=4*s.day&&i.setDate(1),m>=2*s.month&&i.setMonth(e(i.getMonth(),3)),m>=2*s.quarter&&i.setMonth(e(i.getMonth(),6)),m>=s.year&&i.setMonth(0);var y,x=0,b=Number.NaN;do if(y=b,b=i.getTime(),n.push(b),"month"==f||"quarter"==f)if(v<1){i.setDate(1);var k=i.getTime();i.setMonth(i.getMonth()+("quarter"==f?3:1));var w=i.getTime();i.setTime(b+x*s.hour+(w-k)*v),x=i.getHours(),i.setHours(0)}else i.setMonth(i.getMonth()+v*("quarter"==f?3:1));else"year"==f?i.setFullYear(i.getFullYear()+v):i.setTime(b+m);while(b<t.max&&b!=y);return n},i.tickFormatter=function(t,e){var i=r(t,e.options);if(null!=a.timeformat)return n(i,a.timeformat,a.monthNames,a.dayNames);var o,l=e.options.tickSize&&"quarter"==e.options.tickSize[1]||e.options.minTickSize&&"quarter"==e.options.minTickSize[1],u=e.tickSize[0]*s[e.tickSize[1]],c=e.max-e.min,h=a.twelveHourClock?" %p":"",d=a.twelveHourClock?"%I":"%H";o=u<s.minute?d+":%M:%S"+h:u<s.day?c<2*s.day?d+":%M"+h:"%b %d "+d+":%M"+h:u<s.month?"%b %d":l&&u<s.quarter||!l&&u<s.year?c<s.year?"%b":"%b %Y":l&&u<s.year?c<s.year?"Q%q":"Q%q %Y":"%Y";var f=n(i,o,a.monthNames,a.dayNames);return f})})})}var o={xaxis:{timezone:null,timeformat:null,twelveHourClock:!1,monthNames:null}},s={second:1e3,minute:6e4,hour:36e5,day:864e5,month:2592e6,quarter:7776e6,year:525949.2*60*1e3},l=[[1,"second"],[2,"second"],[5,"second"],[10,"second"],[30,"second"],[1,"minute"],[2,"minute"],[5,"minute"],[10,"minute"],[30,"minute"],[1,"hour"],[2,"hour"],[4,"hour"],[8,"hour"],[12,"hour"],[1,"day"],[2,"day"],[3,"day"],[.25,"month"],[.5,"month"],[1,"month"],[2,"month"]],u=l.concat([[3,"month"],[6,"month"],[1,"year"]]),c=l.concat([[1,"quarter"],[2,"quarter"],[1,"year"]]);t.plot.plugins.push({init:a,options:o,name:"time",version:"1.0"}),t.plot.formatDate=n,t.plot.dateGenerator=r}(t)}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./node_modules/jquery.flot.animator/jquery.flot.animator.js":function(t,e,n){(function(t){t.extend({plotAnimator:function(e,n,i){function r(r){var a=[];a.push([r[0][0],Math.max.apply(Math,r.map(function(t){return t[1]}))]),a.push([r[0][0],null]),a.push([r[0][0],Math.min.apply(Math,r.map(function(t){return t[1]}))]);for(var o=0;o<r.length;o++)a.push([r[o][0],null]);return n[s].data=a,t.plot(e,n,i)}function a(){var e=c[0][0],n=c[c.length-1][0],i=(n-e)/f,r=[];r.push(c[0]);var a=1;lPoint=c[0],nPoint=c[a];for(var o=e+i;o<n+i;o+=i){for(o>n&&(o=n),t("#m2").html(o);o>nPoint[0];)lPoint=nPoint,nPoint=c[a++];if(o==nPoint[0])r.push([o,nPoint[1]]),lPoint=nPoint,nPoint=c[a++];else{var s=(nPoint[1]-lPoint[1])/(nPoint[0]-lPoint[0]);curV=s*o+(lPoint[1]-s*lPoint[0]),r.push([o,curV])}}return r}function o(){var t=[];switch(m++,v){case"right":t=y.slice(0,m);break;case"left":t=y.slice(-1*m);break;case"center":t=y.slice(y.length/2-m/2,y.length/2+m/2)}if(!d){inV=t[0][0],laV=t[t.length-1][0],t=[];for(var i=0;i<c.length;i++)c[i][0]>=inV&&c[i][0]<=laV&&t.push(c[i])}n[s].data=m<f?t:c,h.setData(n),h.draw(),m<f?setTimeout(o,p/f):e.trigger("animatorComplete")}for(var s=0,l=0;l<n.length;l++)n[l].animator&&(s=l);var u=n[s],c=u.data,h=r(c),d=!!n[s].lines,f=n[s].animator&&n[s].animator.steps||135,p=n[s].animator&&n[s].animator.duration||1e3,g=n[s].animator&&n[s].animator.start||0,v=n[s].animator&&n[s].animator.direction||"right",m=0,y=a();return setTimeout(o,g),h}})}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./node_modules/morris.js/morris.js":function(t,e,n){(function(t,e){/* @license
morris.js v0.5.0
Copyright 2014 Olly Smith All rights reserved.
Licensed under the BSD-2-Clause License.
*/
(function(){var n,i,r,a,o=[].slice,s=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty,u=function(t,e){function n(){this.constructor=t}for(var i in e)l.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},c=[].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1};i=window.Morris={},n=t,i.EventEmitter=function(){function t(){}return t.prototype.on=function(t,e){return null==this.handlers&&(this.handlers={}),null==this.handlers[t]&&(this.handlers[t]=[]),this.handlers[t].push(e),this},t.prototype.fire=function(){var t,e,n,i,r,a,s;if(n=arguments[0],t=2<=arguments.length?o.call(arguments,1):[],null!=this.handlers&&null!=this.handlers[n]){for(a=this.handlers[n],s=[],i=0,r=a.length;i<r;i++)e=a[i],s.push(e.apply(null,t));return s}},t}(),i.commas=function(t){var e,n,i,r;return null!=t?(i=t<0?"-":"",e=Math.abs(t),n=Math.floor(e).toFixed(0),i+=n.replace(/(?=(?:\d{3})+$)(?!^)/g,","),r=e.toString(),r.length>n.length&&(i+=r.slice(n.length)),i):"-"},i.pad2=function(t){return(t<10?"0":"")+t},i.Grid=function(t){function r(t){this.resizeHandler=s(this.resizeHandler,this);var i=this;if("string"==typeof t.element?this.el=n(document.getElementById(t.element)):this.el=n(t.element),null==this.el||0===this.el.length)throw new Error("Graph container element not found");"static"===this.el.css("position")&&this.el.css("position","relative"),this.options=n.extend({},this.gridDefaults,this.defaults||{},t),"string"==typeof this.options.units&&(this.options.postUnits=t.units),this.raphael=new e(this.el[0]),this.elementWidth=null,this.elementHeight=null,this.dirty=!1,this.selectFrom=null,this.init&&this.init(),this.setData(this.options.data),this.el.bind("mousemove",function(t){var e,n,r,a,o;return n=i.el.offset(),o=t.pageX-n.left,i.selectFrom?(e=i.data[i.hitTest(Math.min(o,i.selectFrom))]._x,r=i.data[i.hitTest(Math.max(o,i.selectFrom))]._x,a=r-e,i.selectionRect.attr({x:e,width:a})):i.fire("hovermove",o,t.pageY-n.top)}),this.el.bind("mouseleave",function(t){return i.selectFrom&&(i.selectionRect.hide(),i.selectFrom=null),i.fire("hoverout")}),this.el.bind("touchstart touchmove touchend",function(t){var e,n;return n=t.originalEvent.touches[0]||t.originalEvent.changedTouches[0],e=i.el.offset(),i.fire("hovermove",n.pageX-e.left,n.pageY-e.top)}),this.el.bind("click",function(t){var e;return e=i.el.offset(),i.fire("gridclick",t.pageX-e.left,t.pageY-e.top)}),this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(t){var e;return e=i.el.offset(),i.startRange(t.pageX-e.left)}),this.el.bind("mouseup",function(t){var e;return e=i.el.offset(),i.endRange(t.pageX-e.left),i.fire("hovermove",t.pageX-e.left,t.pageY-e.top)})),this.options.resize&&n(window).bind("resize",function(t){return null!=i.timeoutId&&window.clearTimeout(i.timeoutId),i.timeoutId=window.setTimeout(i.resizeHandler,100)}),this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)"),this.postInit&&this.postInit()}return u(r,t),r.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},r.prototype.setData=function(t,e){var n,r,a,o,s,l,u,c,h,d,f,p,g,v,m;return null==e&&(e=!0),this.options.data=t,null==t||0===t.length?(this.data=[],this.raphael.clear(),void(null!=this.hover&&this.hover.hide())):(p=this.cumulative?0:null,g=this.cumulative?0:null,this.options.goals.length>0&&(s=Math.min.apply(Math,this.options.goals),o=Math.max.apply(Math,this.options.goals),g=null!=g?Math.min(g,s):s,p=null!=p?Math.max(p,o):o),this.data=function(){var e,n,o;for(o=[],a=e=0,n=t.length;e<n;a=++e)u=t[a],l={src:u},l.label=u[this.options.xkey],this.options.parseTime?(l.x=i.parseDate(l.label),this.options.dateFormat?l.label=this.options.dateFormat(l.x):"number"==typeof l.label&&(l.label=new Date(l.label).toString())):(l.x=a,this.options.xLabelFormat&&(l.label=this.options.xLabelFormat(l))),h=0,l.y=function(){var t,e,n,i;for(n=this.options.ykeys,i=[],r=t=0,e=n.length;t<e;r=++t)f=n[r],v=u[f],"string"==typeof v&&(v=parseFloat(v)),null!=v&&"number"!=typeof v&&(v=null),null!=v&&(this.cumulative?h+=v:null!=p?(p=Math.max(v,p),g=Math.min(v,g)):p=g=v),this.cumulative&&null!=h&&(p=Math.max(h,p),g=Math.min(h,g)),i.push(v);return i}.call(this),o.push(l);return o}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(t,e){return(t.x>e.x)-(e.x>t.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.options.parseTime?this.events=function(){var t,e,r,a;for(r=this.options.events,a=[],t=0,e=r.length;t<e;t++)n=r[t],a.push(i.parseDate(n));return a}.call(this):this.events=this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",g),this.ymax=this.yboundary("max",p),this.ymin===this.ymax&&(g&&(this.ymin-=1),this.ymax+=1),(m=this.options.axes)!==!0&&"both"!==m&&"y"!==m&&this.options.grid!==!0||(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(c=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var t,e,n,i;for(i=[],d=t=e=this.ymin,n=this.ymax;c>0?t<=n:t>=n;d=t+=c)i.push(d);return i}.call(this))),this.dirty=!0,e?this.redraw():void 0)},r.prototype.yboundary=function(t,e){var n,i;return n=this.options["y"+t],"string"==typeof n?"auto"===n.slice(0,4)?n.length>5?(i=parseInt(n.slice(5),10),null==e?i:Math[t](e,i)):null!=e?e:0:parseInt(n,10):n},r.prototype.autoGridLines=function(t,e,n){var i,r,a,o,s,l,u,c,h;return s=e-t,h=Math.floor(Math.log(s)/Math.log(10)),u=Math.pow(10,h),r=Math.floor(t/u)*u,i=Math.ceil(e/u)*u,l=(i-r)/(n-1),1===u&&l>1&&Math.ceil(l)!==l&&(l=Math.ceil(l),i=r+l*(n-1)),r<0&&i>0&&(r=Math.floor(t/l)*l,i=Math.ceil(e/l)*l),l<1?(o=Math.floor(Math.log(l)/Math.log(10)),a=function(){var t,e;for(e=[],c=t=r;l>0?t<=i:t>=i;c=t+=l)e.push(parseFloat(c.toFixed(1-o)));return e}()):a=function(){var t,e;for(e=[],c=t=r;l>0?t<=i:t>=i;c=t+=l)e.push(c);return e}(),a},r.prototype._calc=function(){var t,e,n,i,r,a,o,s;if(r=this.el.width(),n=this.el.height(),(this.elementWidth!==r||this.elementHeight!==n||this.dirty)&&(this.elementWidth=r,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,(o=this.options.axes)!==!0&&"both"!==o&&"y"!==o||(a=function(){var t,n,i,r;for(i=this.grid,r=[],t=0,n=i.length;t<n;t++)e=i[t],r.push(this.measureText(this.yAxisFormat(e)).width);return r}.call(this),this.left+=Math.max.apply(Math,a)),(s=this.options.axes)!==!0&&"both"!==s&&"x"!==s||(t=function(){var t,e,n;for(n=[],i=t=0,e=this.data.length;0<=e?t<e:t>e;i=0<=e?++t:--t)n.push(this.measureText(this.data[i].text,-this.options.xLabelAngle).height);return n}.call(this),this.bottom-=Math.max.apply(Math,t)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc))return this.calc()},r.prototype.transY=function(t){return this.bottom-(t-this.ymin)*this.dy},r.prototype.transX=function(t){return 1===this.data.length?(this.left+this.right)/2:this.left+(t-this.xmin)*this.dx},r.prototype.redraw=function(){if(this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw)return this.draw()},r.prototype.measureText=function(t,e){var n,i;return null==e&&(e=0),i=this.raphael.text(100,100,t).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(e),n=i.getBBox(),i.remove(),n},r.prototype.yAxisFormat=function(t){return this.yLabelFormat(t)},r.prototype.yLabelFormat=function(t){return"function"==typeof this.options.yLabelFormat?this.options.yLabelFormat(t):""+this.options.preUnits+i.commas(t)+this.options.postUnits},r.prototype.drawGrid=function(){var t,e,n,i,r,a,o,s;if(this.options.grid!==!1||(r=this.options.axes)===!0||"both"===r||"y"===r){for(a=this.grid,s=[],n=0,i=a.length;n<i;n++)t=a[n],e=this.transY(t),(o=this.options.axes)!==!0&&"both"!==o&&"y"!==o||this.drawYAxisLabel(this.left-this.options.padding/2,e,this.yAxisFormat(t)),this.options.grid?s.push(this.drawGridLine("M"+this.left+","+e+"H"+(this.left+this.width))):s.push(void 0);return s}},r.prototype.drawGoals=function(){var t,e,n,i,r,a,o;for(a=this.options.goals,o=[],n=i=0,r=a.length;i<r;n=++i)e=a[n],t=this.options.goalLineColors[n%this.options.goalLineColors.length],o.push(this.drawGoal(e,t));return o},r.prototype.drawEvents=function(){var t,e,n,i,r,a,o;for(a=this.events,o=[],n=i=0,r=a.length;i<r;n=++i)e=a[n],t=this.options.eventLineColors[n%this.options.eventLineColors.length],o.push(this.drawEvent(e,t));return o},r.prototype.drawGoal=function(t,e){return this.raphael.path("M"+this.left+","+this.transY(t)+"H"+this.right).attr("stroke",e).attr("stroke-width",this.options.goalStrokeWidth)},r.prototype.drawEvent=function(t,e){return this.raphael.path("M"+this.transX(t)+","+this.bottom+"V"+this.top).attr("stroke",e).attr("stroke-width",this.options.eventStrokeWidth)},r.prototype.drawYAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},r.prototype.drawGridLine=function(t){return this.raphael.path(t).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},r.prototype.startRange=function(t){return this.hover.hide(),this.selectFrom=t,this.selectionRect.attr({x:t,width:0}).show()},r.prototype.endRange=function(t){var e,n;if(this.selectFrom)return n=Math.min(this.selectFrom,t),e=Math.max(this.selectFrom,t),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(n)].x,end:this.data[this.hitTest(e)].x}),this.selectFrom=null},r.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},r}(i.EventEmitter),i.parseDate=function(t){var e,n,i,r,a,o,s,l,u,c,h;return"number"==typeof t?t:(n=t.match(/^(\d+) Q(\d)$/),r=t.match(/^(\d+)-(\d+)$/),a=t.match(/^(\d+)-(\d+)-(\d+)$/),s=t.match(/^(\d+) W(\d+)$/),l=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),u=t.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),n?new Date(parseInt(n[1],10),3*parseInt(n[2],10)-1,1).getTime():r?new Date(parseInt(r[1],10),parseInt(r[2],10)-1,1).getTime():a?new Date(parseInt(a[1],10),parseInt(a[2],10)-1,parseInt(a[3],10)).getTime():s?(c=new Date(parseInt(s[1],10),0,1),4!==c.getDay()&&c.setMonth(0,1+(4-c.getDay()+7)%7),c.getTime()+6048e5*parseInt(s[2],10)):l?l[6]?(o=0,"Z"!==l[6]&&(o=60*parseInt(l[8],10)+parseInt(l[9],10),"+"===l[7]&&(o=0-o)),Date.UTC(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)+o)):new Date(parseInt(l[1],10),parseInt(l[2],10)-1,parseInt(l[3],10),parseInt(l[4],10),parseInt(l[5],10)).getTime():u?(h=parseFloat(u[6]),e=Math.floor(h),i=Math.round(1e3*(h-e)),u[8]?(o=0,"Z"!==u[8]&&(o=60*parseInt(u[10],10)+parseInt(u[11],10),"+"===u[9]&&(o=0-o)),Date.UTC(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10)+o,e,i)):new Date(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10),parseInt(u[4],10),parseInt(u[5],10),e,i).getTime()):new Date(parseInt(t,10),0,1).getTime())},i.Hover=function(){function t(t){null==t&&(t={}),this.options=n.extend({},i.Hover.defaults,t),this.el=n("<div class='"+this.options["class"]+"'></div>"),this.el.hide(),this.options.parent.append(this.el)}return t.defaults={"class":"morris-hover morris-default-style"},t.prototype.update=function(t,e,n){return t?(this.html(t),this.show(),this.moveTo(e,n)):this.hide()},t.prototype.html=function(t){return this.el.html(t)},t.prototype.moveTo=function(t,e){var n,i,r,a,o,s;return o=this.options.parent.innerWidth(),a=this.options.parent.innerHeight(),i=this.el.outerWidth(),n=this.el.outerHeight(),r=Math.min(Math.max(0,t-i/2),o-i),null!=e?(s=e-n-10,s<0&&(s=e+10,s+n>a&&(s=a/2-n/2))):s=a/2-n/2,this.el.css({left:r+"px",top:parseInt(s)+"px"})},t.prototype.show=function(){return this.el.show()},t.prototype.hide=function(){return this.el.hide()},t}(),i.Line=function(t){function n(t){return this.hilight=s(this.hilight,this),this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof i.Line?void n.__super__.constructor.call(this,t):new i.Line(t)}return u(n,t),n.prototype.init=function(){if("always"!==this.options.hideHover)return this.hover=new i.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},n.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},n.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},n.prototype.calcPoints=function(){var t,e,n,i,r,a;for(r=this.data,a=[],n=0,i=r.length;n<i;n++)t=r[n],t._x=this.transX(t.x),t._y=function(){var n,i,r,a;for(r=t.y,a=[],n=0,i=r.length;n<i;n++)e=r[n],null!=e?a.push(this.transY(e)):a.push(e);return a}.call(this),a.push(t._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var n,i,r,a;for(r=t._y,a=[],n=0,i=r.length;n<i;n++)e=r[n],null!=e&&a.push(e);return a}())));return a},n.prototype.hitTest=function(t){var e,n,i,r,a;if(0===this.data.length)return null;for(a=this.data.slice(1),e=i=0,r=a.length;i<r&&(n=a[e],!(t<(n._x+this.data[e]._x)/2));e=++i);return e},n.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},n.prototype.onHoverMove=function(t,e){var n;return n=this.hitTest(t),this.displayHoverForRow(n)},n.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.displayHoverForRow(null)},n.prototype.displayHoverForRow=function(t){var e;return null!=t?((e=this.hover).update.apply(e,this.hoverContentForRow(t)),this.hilight(t)):(this.hover.hide(),this.hilight())},n.prototype.hoverContentForRow=function(t){var e,n,i,r,a,o,s;for(i=this.data[t],e="<div class='morris-hover-row-label'>"+i.label+"</div>",s=i.y,n=a=0,o=s.length;a<o;n=++a)r=s[n],e+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(r)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,i.src)),[e,i._x,i._ymax]},n.prototype.generatePaths=function(){var t,e,n,r;return this.paths=function(){var a,o,s,l;for(l=[],e=a=0,o=this.options.ykeys.length;0<=o?a<o:a>o;e=0<=o?++a:--a)r="boolean"==typeof this.options.smooth?this.options.smooth:(s=this.options.ykeys[e],c.call(this.options.smooth,s)>=0),t=function(){var t,i,r,a;for(r=this.data,a=[],t=0,i=r.length;t<i;t++)n=r[t],void 0!==n._y[e]&&a.push({x:n._x,y:n._y[e]});return a}.call(this),t.length>1?l.push(i.Line.createPath(t,r,this.bottom)):l.push(null);return l}.call(this)},n.prototype.draw=function(){var t;if((t=this.options.axes)!==!0&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1)return this.displayHoverForRow(this.data.length-1)},n.prototype.drawXAxis=function(){var t,e,n,r,a,o,s,l,u,c,h=this;for(s=this.bottom+this.options.padding/2,a=null,r=null,t=function(t,e){var n,i,o,l,u;return n=h.drawXAxisLabel(h.transX(e),s,t),u=n.getBBox(),n.transform("r"+-h.options.xLabelAngle),i=n.getBBox(),n.transform("t0,"+i.height/2+"..."),0!==h.options.xLabelAngle&&(l=-.5*u.width*Math.cos(h.options.xLabelAngle*Math.PI/180),n.transform("t"+l+",0...")),i=n.getBBox(),(null==a||a>=i.x+i.width||null!=r&&r>=i.x)&&i.x>=0&&i.x+i.width<h.el.width()?(0!==h.options.xLabelAngle&&(o=1.25*h.options.gridTextSize/Math.sin(h.options.xLabelAngle*Math.PI/180),r=i.x-o),a=i.x-h.options.xLabelMargin):n.remove()},n=this.options.parseTime?1===this.data.length&&"auto"===this.options.xLabels?[[this.data[0].label,this.data[0].x]]:i.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var t,e,n,i;for(n=this.data,i=[],t=0,e=n.length;t<e;t++)o=n[t],i.push([o.label,o.x]);return i}.call(this),n.reverse(),c=[],l=0,u=n.length;l<u;l++)e=n[l],c.push(t(e[0],e[1]));return c},n.prototype.drawSeries=function(){var t,e,n,i,r,a;for(this.seriesPoints=[],t=e=i=this.options.ykeys.length-1;i<=0?e<=0:e>=0;t=i<=0?++e:--e)this._drawLineFor(t);for(a=[],t=n=r=this.options.ykeys.length-1;r<=0?n<=0:n>=0;t=r<=0?++n:--n)a.push(this._drawPointFor(t));return a},n.prototype._drawPointFor=function(t){var e,n,i,r,a,o;for(this.seriesPoints[t]=[],a=this.data,o=[],i=0,r=a.length;i<r;i++)n=a[i],e=null,null!=n._y[t]&&(e=this.drawLinePoint(n._x,n._y[t],this.colorFor(n,t,"point"),t)),o.push(this.seriesPoints[t].push(e));return o},n.prototype._drawLineFor=function(t){var e;if(e=this.paths[t],null!==e)return this.drawLinePath(e,this.colorFor(null,t,"line"),t)},n.createPath=function(t,e,n){var r,a,o,s,l,u,c,h,d,f,p,g,v,m;for(c="",e&&(o=i.Line.gradients(t)),h={y:null},s=v=0,m=t.length;v<m;s=++v)r=t[s],null!=r.y&&(null!=h.y?e?(a=o[s],u=o[s-1],l=(r.x-h.x)/4,d=h.x+l,p=Math.min(n,h.y+l*u),f=r.x-l,g=Math.min(n,r.y-l*a),c+="C"+d+","+p+","+f+","+g+","+r.x+","+r.y):c+="L"+r.x+","+r.y:e&&null==o[s]||(c+="M"+r.x+","+r.y)),h=r;return c},n.gradients=function(t){var e,n,i,r,a,o,s,l;for(n=function(t,e){return(t.y-e.y)/(t.x-e.x)},l=[],i=o=0,s=t.length;o<s;i=++o)e=t[i],null!=e.y?(r=t[i+1]||{y:null},a=t[i-1]||{y:null},null!=a.y&&null!=r.y?l.push(n(a,r)):null!=a.y?l.push(n(a,e)):null!=r.y?l.push(n(e,r)):l.push(null)):l.push(null);return l},n.prototype.hilight=function(t){var e,n,i,r,a;if(null!==this.prevHilight&&this.prevHilight!==t)for(e=n=0,r=this.seriesPoints.length-1;0<=r?n<=r:n>=r;e=0<=r?++n:--n)this.seriesPoints[e][this.prevHilight]&&this.seriesPoints[e][this.prevHilight].animate(this.pointShrinkSeries(e));if(null!==t&&this.prevHilight!==t)for(e=i=0,a=this.seriesPoints.length-1;0<=a?i<=a:i>=a;e=0<=a?++i:--i)this.seriesPoints[e][t]&&this.seriesPoints[e][t].animate(this.pointGrowSeries(e));return this.prevHilight=t},n.prototype.colorFor=function(t,e,n){return"function"==typeof this.options.lineColors?this.options.lineColors.call(this,t,e,n):"point"===n?this.options.pointFillColors[e%this.options.pointFillColors.length]||this.options.lineColors[e%this.options.lineColors.length]:this.options.lineColors[e%this.options.lineColors.length]},n.prototype.drawXAxisLabel=function(t,e,n){return this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},n.prototype.drawLinePath=function(t,e,n){return this.raphael.path(t).attr("stroke",e).attr("stroke-width",this.lineWidthForSeries(n))},n.prototype.drawLinePoint=function(t,e,n,i){return this.raphael.circle(t,e,this.pointSizeForSeries(i)).attr("fill",n).attr("stroke-width",this.pointStrokeWidthForSeries(i)).attr("stroke",this.pointStrokeColorForSeries(i))},n.prototype.pointStrokeWidthForSeries=function(t){return this.options.pointStrokeWidths[t%this.options.pointStrokeWidths.length]},n.prototype.pointStrokeColorForSeries=function(t){return this.options.pointStrokeColors[t%this.options.pointStrokeColors.length]},n.prototype.lineWidthForSeries=function(t){return this.options.lineWidth instanceof Array?this.options.lineWidth[t%this.options.lineWidth.length]:this.options.lineWidth},n.prototype.pointSizeForSeries=function(t){return this.options.pointSize instanceof Array?this.options.pointSize[t%this.options.pointSize.length]:this.options.pointSize},n.prototype.pointGrowSeries=function(t){return e.animation({r:this.pointSizeForSeries(t)+3},25,"linear")},n.prototype.pointShrinkSeries=function(t){return e.animation({r:this.pointSizeForSeries(t)},25,"linear")},n}(i.Grid),i.labelSeries=function(t,e,r,a,o){var s,l,u,c,h,d,f,p,g,v,m;if(u=200*(e-t)/r,l=new Date(t),f=i.LABEL_SPECS[a],void 0===f)for(m=i.AUTO_LABEL_ORDER,g=0,v=m.length;g<v;g++)if(c=m[g],d=i.LABEL_SPECS[c],u>=d.span){f=d;break}for(void 0===f&&(f=i.LABEL_SPECS.second),o&&(f=n.extend({},f,{fmt:o})),s=f.start(l),h=[];(p=s.getTime())<=e;)p>=t&&h.push([f.fmt(s),p]),f.incr(s);return h},r=function(t){return{span:60*t*1e3,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours())},fmt:function(t){return""+i.pad2(t.getHours())+":"+i.pad2(t.getMinutes())},incr:function(e){return e.setUTCMinutes(e.getUTCMinutes()+t)}}},a=function(t){return{span:1e3*t,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes())},fmt:function(t){return""+i.pad2(t.getHours())+":"+i.pad2(t.getMinutes())+":"+i.pad2(t.getSeconds())},incr:function(e){return e.setUTCSeconds(e.getUTCSeconds()+t)}}},i.LABEL_SPECS={decade:{span:1728e8,start:function(t){return new Date(t.getFullYear()-t.getFullYear()%10,0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+10)}},year:{span:1728e7,start:function(t){return new Date(t.getFullYear(),0,1)},fmt:function(t){return""+t.getFullYear()},incr:function(t){return t.setFullYear(t.getFullYear()+1)}},month:{span:24192e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+i.pad2(t.getMonth()+1)},incr:function(t){return t.setMonth(t.getMonth()+1)}},week:{span:6048e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+i.pad2(t.getMonth()+1)+"-"+i.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+7)}},day:{span:864e5,start:function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+i.pad2(t.getMonth()+1)+"-"+i.pad2(t.getDate())},incr:function(t){return t.setDate(t.getDate()+1)}},hour:r(60),"30min":r(30),"15min":r(15),"10min":r(10),"5min":r(5),minute:r(1),"30sec":a(30),"15sec":a(15),"10sec":a(10),"5sec":a(5),second:a(1)},i.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"],i.Area=function(t){function r(t){var e;return this instanceof i.Area?(e=n.extend({},a,t),this.cumulative=!e.behaveLikeLine,"auto"===e.fillOpacity&&(e.fillOpacity=e.behaveLikeLine?.8:1),void r.__super__.constructor.call(this,e)):new i.Area(t)}var a;return u(r,t),a={fillOpacity:"auto",behaveLikeLine:!1},r.prototype.calcPoints=function(){var t,e,n,i,r,a,o;for(a=this.data,o=[],i=0,r=a.length;i<r;i++)t=a[i],t._x=this.transX(t.x),e=0,t._y=function(){var i,r,a,o;for(a=t.y,o=[],i=0,r=a.length;i<r;i++)n=a[i],this.options.behaveLikeLine?o.push(this.transY(n)):(e+=n||0,o.push(this.transY(e)));return o}.call(this),o.push(t._ymax=Math.max.apply(Math,t._y));return o},r.prototype.drawSeries=function(){var t,e,n,i,r,a,o,s;for(this.seriesPoints=[],e=this.options.behaveLikeLine?function(){a=[];for(var t=0,e=this.options.ykeys.length-1;0<=e?t<=e:t>=e;0<=e?t++:t--)a.push(t);return a}.apply(this):function(){o=[];for(var t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;r<=0?t++:t--)o.push(t);return o}.apply(this),s=[],n=0,i=e.length;n<i;n++)t=e[n],this._drawFillFor(t),this._drawLineFor(t),s.push(this._drawPointFor(t));return s},r.prototype._drawFillFor=function(t){var e;if(e=this.paths[t],null!==e)return e+="L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z",this.drawFilledPath(e,this.fillForSeries(t))},r.prototype.fillForSeries=function(t){var n;return n=e.rgb2hsl(this.colorFor(this.data[t],t,"line")),e.hsl(n.h,this.options.behaveLikeLine?.9*n.s:.75*n.s,Math.min(.98,this.options.behaveLikeLine?1.2*n.l:1.25*n.l))},r.prototype.drawFilledPath=function(t,e){return this.raphael.path(t).attr("fill",e).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},r}(i.Line),i.Bar=function(t){function e(t){return this.onHoverOut=s(this.onHoverOut,this),this.onHoverMove=s(this.onHoverMove,this),this.onGridClick=s(this.onGridClick,this),this instanceof i.Bar?void e.__super__.constructor.call(this,n.extend({},t,{parseTime:!1})):new i.Bar(t)}return u(e,t),e.prototype.init=function(){if(this.cumulative=this.options.stacked,"always"!==this.options.hideHover)return this.hover=new i.Hover({parent:this.el}),this.on("hovermove",this.onHoverMove),this.on("hoverout",this.onHoverOut),this.on("gridclick",this.onGridClick)},e.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},e.prototype.calc=function(){var t;if(this.calcBars(),this.options.hideHover===!1)return(t=this.hover).update.apply(t,this.hoverContentForRow(this.data.length-1))},e.prototype.calcBars=function(){var t,e,n,i,r,a,o;for(a=this.data,o=[],t=i=0,r=a.length;i<r;t=++i)e=a[t],e._x=this.left+this.width*(t+.5)/this.data.length,o.push(e._y=function(){var t,i,r,a;for(r=e.y,a=[],t=0,i=r.length;t<i;t++)n=r[t],null!=n?a.push(this.transY(n)):a.push(null);return a}.call(this));return o},e.prototype.draw=function(){var t;return(t=this.options.axes)!==!0&&"both"!==t&&"x"!==t||this.drawXAxis(),this.drawSeries()},e.prototype.drawXAxis=function(){var t,e,n,i,r,a,o,s,l,u,c,h,d;for(u=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),o=null,a=null,d=[],t=c=0,h=this.data.length;0<=h?c<h:c>h;t=0<=h?++c:--c)s=this.data[this.data.length-1-t],e=this.drawXAxisLabel(s._x,u,s.label),l=e.getBBox(),e.transform("r"+-this.options.xLabelAngle),n=e.getBBox(),e.transform("t0,"+n.height/2+"..."),0!==this.options.xLabelAngle&&(r=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),e.transform("t"+r+",0...")),(null==o||o>=n.x+n.width||null!=a&&a>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(0!==this.options.xLabelAngle&&(i=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),a=n.x-i),d.push(o=n.x-this.options.xLabelMargin)):d.push(e.remove());return d},e.prototype.drawSeries=function(){var t,e,n,i,r,a,o,s,l,u,c,h,d,f,p;return n=this.width/this.options.data.length,s=this.options.stacked?1:this.options.ykeys.length,t=(n*this.options.barSizeRatio-this.options.barGap*(s-1))/s,this.options.barSize&&(t=Math.min(t,this.options.barSize)),h=n-t*s-this.options.barGap*(s-1),o=h/2,p=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var s,h,g,v;for(g=this.data,v=[],i=s=0,h=g.length;s<h;i=++s)l=g[i],r=0,v.push(function(){var s,h,g,v;for(g=l._y,v=[],u=s=0,h=g.length;s<h;u=++s)f=g[u],null!==f?(p?(d=Math.min(f,p),e=Math.max(f,p)):(d=f,e=this.bottom),a=this.left+i*n+o,this.options.stacked||(a+=u*(t+this.options.barGap)),c=e-d,this.options.verticalGridCondition&&this.options.verticalGridCondition(l.x)&&this.drawBar(this.left+i*n,this.top,n,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(d-=r),this.drawBar(a,d,t,c,this.colorFor(l,u,"bar"),this.options.barOpacity,this.options.barRadius),v.push(r+=c)):v.push(null);return v}.call(this));return v}.call(this)},e.prototype.colorFor=function(t,e,n){var i,r;return"function"==typeof this.options.barColors?(i={x:t.x,y:t.y[e],label:t.label},r={index:e,key:this.options.ykeys[e],label:this.options.labels[e]},this.options.barColors.call(this,i,r,n)):this.options.barColors[e%this.options.barColors.length]},e.prototype.hitTest=function(t){return 0===this.data.length?null:(t=Math.max(Math.min(t,this.right),this.left),Math.min(this.data.length-1,Math.floor((t-this.left)/(this.width/this.data.length))))},e.prototype.onGridClick=function(t,e){var n;return n=this.hitTest(t),this.fire("click",n,this.data[n].src,t,e)},e.prototype.onHoverMove=function(t,e){var n,i;return n=this.hitTest(t),(i=this.hover).update.apply(i,this.hoverContentForRow(n))},e.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.hover.hide()},e.prototype.hoverContentForRow=function(t){var e,n,i,r,a,o,s,l;for(i=this.data[t],e="<div class='morris-hover-row-label'>"+i.label+"</div>",l=i.y,n=o=0,s=l.length;o<s;n=++o)a=l[n],e+="<div class='morris-hover-point' style='color: "+this.colorFor(i,n,"label")+"'>\n  "+this.options.labels[n]+":\n  "+this.yLabelFormat(a)+"\n</div>";return"function"==typeof this.options.hoverCallback&&(e=this.options.hoverCallback(t,this.options,e,i.src)),r=this.left+(t+.5)*this.width/this.data.length,[e,r]},e.prototype.drawXAxisLabel=function(t,e,n){var i;return i=this.raphael.text(t,e,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},e.prototype.drawBar=function(t,e,n,i,r,a,o){var s,l;return s=Math.max.apply(Math,o),l=0===s||s>i?this.raphael.rect(t,e,n,i):this.raphael.path(this.roundedRect(t,e,n,i,o)),l.attr("fill",r).attr("fill-opacity",a).attr("stroke","none")},e.prototype.roundedRect=function(t,e,n,i,r){return null==r&&(r=[0,0,0,0]),["M",t,r[0]+e,"Q",t,e,t+r[0],e,"L",t+n-r[1],e,"Q",t+n,e,t+n,e+r[1],"L",t+n,e+i-r[2],"Q",t+n,e+i,t+n-r[2],e+i,"L",t+r[3],e+i,"Q",t,e+i,t,e+i-r[3],"Z"]},e}(i.Grid),i.Donut=function(t){function r(t){this.resizeHandler=s(this.resizeHandler,this),this.select=s(this.select,this),this.click=s(this.click,this);var r=this;if(!(this instanceof i.Donut))return new i.Donut(t);if(this.options=n.extend({},this.defaults,t),"string"==typeof t.element?this.el=n(document.getElementById(t.element)):this.el=n(t.element),null===this.el||0===this.el.length)throw new Error("Graph placeholder not found.");void 0!==t.data&&0!==t.data.length&&(this.raphael=new e(this.el[0]),this.options.resize&&n(window).bind("resize",function(t){return null!=r.timeoutId&&window.clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.resizeHandler,100)}),this.setData(t.data))}return u(r,t),r.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:i.commas,resize:!1},r.prototype.redraw=function(){var t,e,n,r,a,o,s,l,u,c,h,d,f,p,g,v,m,y,x,b,k,w,M;for(this.raphael.clear(),e=this.el.width()/2,n=this.el.height()/2,f=(Math.min(e,n)-10)/3,h=0,b=this.values,p=0,m=b.length;p<m;p++)d=b[p],h+=d;for(l=5/(2*f),t=1.9999*Math.PI-l*this.data.length,o=0,a=0,this.segments=[],k=this.values,r=g=0,y=k.length;g<y;r=++g)d=k[r],u=o+l+t*(d/h),c=new i.DonutSegment(e,n,2*f,f,o,u,this.data[r].color||this.options.colors[a%this.options.colors.length],this.options.backgroundColor,a,this.raphael),c.render(),this.segments.push(c),c.on("hover",this.select),c.on("click",this.click),o=u,a+=1;for(this.text1=this.drawEmptyDonutLabel(e,n-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(e,n+10,this.options.labelColor,14),s=Math.max.apply(Math,this.values),
a=0,w=this.values,M=[],v=0,x=w.length;v<x;v++){if(d=w[v],d===s){this.select(a);break}M.push(a+=1)}return M},r.prototype.setData=function(t){var e;return this.data=t,this.values=function(){var t,n,i,r;for(i=this.data,r=[],t=0,n=i.length;t<n;t++)e=i[t],r.push(parseFloat(e.value));return r}.call(this),this.redraw()},r.prototype.click=function(t){return this.fire("click",t,this.data[t])},r.prototype.select=function(t){var e,n,i,r,a,o;for(o=this.segments,r=0,a=o.length;r<a;r++)n=o[r],n.deselect();return i=this.segments[t],i.select(),e=this.data[t],this.setLabels(e.label,this.options.formatter(e.value,e))},r.prototype.setLabels=function(t,e){var n,i,r,a,o,s,l,u;return n=2*(Math.min(this.el.width()/2,this.el.height()/2)-10)/3,a=1.8*n,r=n/2,i=n/3,this.text1.attr({text:t,transform:""}),o=this.text1.getBBox(),s=Math.min(a/o.width,r/o.height),this.text1.attr({transform:"S"+s+","+s+","+(o.x+o.width/2)+","+(o.y+o.height)}),this.text2.attr({text:e,transform:""}),l=this.text2.getBBox(),u=Math.min(a/l.width,i/l.height),this.text2.attr({transform:"S"+u+","+u+","+(l.x+l.width/2)+","+l.y})},r.prototype.drawEmptyDonutLabel=function(t,e,n,i,r){var a;return a=this.raphael.text(t,e,"").attr("font-size",i).attr("fill",n),null!=r&&a.attr("font-weight",r),a},r.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},r}(i.EventEmitter),i.DonutSegment=function(t){function e(t,e,n,i,r,a,o,l,u,c){this.cx=t,this.cy=e,this.inner=n,this.outer=i,this.color=o,this.backgroundColor=l,this.index=u,this.raphael=c,this.deselect=s(this.deselect,this),this.select=s(this.select,this),this.sin_p0=Math.sin(r),this.cos_p0=Math.cos(r),this.sin_p1=Math.sin(a),this.cos_p1=Math.cos(a),this.is_long=a-r>Math.PI?1:0,this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5),this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer),this.hilight=this.calcArc(this.inner)}return u(e,t),e.prototype.calcArcPoints=function(t){return[this.cx+t*this.sin_p0,this.cy+t*this.cos_p0,this.cx+t*this.sin_p1,this.cy+t*this.cos_p1]},e.prototype.calcSegment=function(t,e){var n,i,r,a,o,s,l,u,c,h;return c=this.calcArcPoints(t),n=c[0],r=c[1],i=c[2],a=c[3],h=this.calcArcPoints(e),o=h[0],l=h[1],s=h[2],u=h[3],"M"+n+","+r+("A"+t+","+t+",0,"+this.is_long+",0,"+i+","+a)+("L"+s+","+u)+("A"+e+","+e+",0,"+this.is_long+",1,"+o+","+l)+"Z"},e.prototype.calcArc=function(t){var e,n,i,r,a;return a=this.calcArcPoints(t),e=a[0],i=a[1],n=a[2],r=a[3],"M"+e+","+i+("A"+t+","+t+",0,"+this.is_long+",0,"+n+","+r)},e.prototype.render=function(){var t=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return t.fire("hover",t.index)},function(){return t.fire("click",t.index)})},e.prototype.drawDonutArc=function(t,e){return this.raphael.path(t).attr({stroke:e,"stroke-width":2,opacity:0})},e.prototype.drawDonutSegment=function(t,e,n,i,r){return this.raphael.path(t).attr({fill:e,stroke:n,"stroke-width":3}).hover(i).click(r)},e.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},e.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},e}(i.EventEmitter)}).call(this)}).call(e,n("./node_modules/jquery/dist/jquery.js"),n("./node_modules/webpack-raphael/raphael-min.js"))},"./node_modules/nvd3/build/nv.d3.js":function(t,e,n){(function(i){!function(){var r={};r.dev=!1,r.tooltip=r.tooltip||{},r.utils=r.utils||{},r.models=r.models||{},r.charts={},r.logs={},r.dom={},"undefined"!=typeof t&&"undefined"!=typeof e&&"undefined"==typeof i&&(i=n("./node_modules/d3/d3.js")),r.dispatch=i.dispatch("render_start","render_end"),Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),n=this,i=function(){},r=function(){return n.apply(this instanceof i&&t?this:t,e.concat(Array.prototype.slice.call(arguments)))};return i.prototype=this.prototype,r.prototype=new i,r}),r.dev&&(r.dispatch.on("render_start",function(t){r.logs.startTime=+new Date}),r.dispatch.on("render_end",function(t){r.logs.endTime=+new Date,r.logs.totalTime=r.logs.endTime-r.logs.startTime,r.log("total",r.logs.totalTime)})),r.log=function(){if(r.dev&&window.console&&console.log&&console.log.apply)console.log.apply(console,arguments);else if(r.dev&&window.console&&"function"==typeof console.log&&Function.prototype.bind){var t=Function.prototype.bind.call(console.log,console);t.apply(console,arguments)}return arguments[arguments.length-1]},r.deprecated=function(t,e){console&&console.warn&&console.warn("nvd3 warning: `"+t+"` has been deprecated. ",e||"")},r.render=function(t){t=t||1,r.render.active=!0,r.dispatch.render_start();var e=function(){for(var n,i,a=0;a<t&&(i=r.render.queue[a]);a++)n=i.generate(),typeof i.callback==typeof Function&&i.callback(n);r.render.queue.splice(0,a),r.render.queue.length?setTimeout(e):(r.dispatch.render_end(),r.render.active=!1)};setTimeout(e)},r.render.active=!1,r.render.queue=[],r.addGraph=function(t){typeof arguments[0]==typeof Function&&(t={generate:arguments[0],callback:arguments[1]}),r.render.queue.push(t),r.render.active||r.render()},t.exports=r,"undefined"!=typeof window&&(window.nv=r),r.dom.write=function(t){return void 0!==window.fastdom?fastdom.mutate(t):t()},r.dom.read=function(t){return void 0!==window.fastdom?fastdom.measure(t):t()},r.interactiveGuideline=function(){"use strict";function t(d){d.each(function(d){function f(){var n=i.mouse(this),r=n[0],a=n[1],l=!0,u=!1;if(h&&(r=i.event.offsetX,a=i.event.offsetY,"svg"!==i.event.target.tagName&&(l=!1),i.event.target.className.baseVal.match("nv-legend")&&(u=!0)),l&&(r-=e.left,a-=e.top),"mouseout"===i.event.type||r<0||a<0||r>g||a>v||i.event.relatedTarget&&void 0===i.event.relatedTarget.ownerSVGElement||u){if(h&&i.event.relatedTarget&&void 0===i.event.relatedTarget.ownerSVGElement&&(void 0===i.event.relatedTarget.className||i.event.relatedTarget.className.match(c.nvPointerEventsClass)))return;return s.elementMouseout({mouseX:r,mouseY:a}),t.renderGuideLine(null),void c.hidden(!0)}c.hidden(!1);var d="function"==typeof o.rangeBands,f=void 0;if(d){var p=i.bisect(o.range(),r)-1;if(!(o.range()[p]+o.rangeBand()>=r))return s.elementMouseout({mouseX:r,mouseY:a}),t.renderGuideLine(null),void c.hidden(!0);f=o.domain()[i.bisect(o.range(),r)-1]}else f=o.invert(r);s.elementMousemove({mouseX:r,mouseY:a,pointXValue:f}),"dblclick"===i.event.type&&s.elementDblclick({mouseX:r,mouseY:a,pointXValue:f}),"click"===i.event.type&&s.elementClick({mouseX:r,mouseY:a,pointXValue:f}),"mousedown"===i.event.type&&s.elementMouseDown({mouseX:r,mouseY:a,pointXValue:f}),"mouseup"===i.event.type&&s.elementMouseUp({mouseX:r,mouseY:a,pointXValue:f})}var p=i.select(this),g=n||960,v=a||400,m=p.selectAll("g.nv-wrap.nv-interactiveLineLayer").data([d]),y=m.enter().append("g").attr("class"," nv-wrap nv-interactiveLineLayer");y.append("g").attr("class","nv-interactiveGuideLine"),u&&(u.on("touchmove",f).on("mousemove",f,!0).on("mouseout",f,!0).on("mousedown",f,!0).on("mouseup",f,!0).on("dblclick",f).on("click",f),t.guideLine=null,t.renderGuideLine=function(e){l&&(t.guideLine&&t.guideLine.attr("x1")===e||r.dom.write(function(){var t=m.select(".nv-interactiveGuideLine").selectAll("line").data(null!=e?[r.utils.NaNtoZero(e)]:[],String);t.enter().append("line").attr("class","nv-guideline").attr("x1",function(t){return t}).attr("x2",function(t){return t}).attr("y1",v).attr("y2",0),t.exit().remove()}))})})}var e={left:0,top:0},n=null,a=null,o=i.scale.linear(),s=i.dispatch("elementMousemove","elementMouseout","elementClick","elementDblclick","elementMouseDown","elementMouseUp"),l=!0,u=null,c=r.models.tooltip(),h=window.ActiveXObject;return c.duration(0).hideDelay(0).hidden(!1),t.dispatch=s,t.tooltip=c,t.margin=function(n){return arguments.length?(e.top="undefined"!=typeof n.top?n.top:e.top,e.left="undefined"!=typeof n.left?n.left:e.left,t):e},t.width=function(e){return arguments.length?(n=e,t):n},t.height=function(e){return arguments.length?(a=e,t):a},t.xScale=function(e){return arguments.length?(o=e,t):o},t.showGuideLine=function(e){return arguments.length?(l=e,t):l},t.svgContainer=function(e){return arguments.length?(u=e,t):u},t},r.interactiveBisect=function(t,e,n){"use strict";if(!(t instanceof Array))return null;var r;r="function"!=typeof n?function(t){return t.x}:n;var a=function(t,e){return r(t)-e},o=i.bisector(a).left,s=i.max([0,o(t,e)-1]),l=r(t[s]);if("undefined"==typeof l&&(l=s),l===e)return s;var u=i.min([s+1,t.length-1]),c=r(t[u]);return"undefined"==typeof c&&(c=u),Math.abs(c-e)>=Math.abs(l-e)?s:u},r.nearestValueIndex=function(t,e,n){"use strict";var i=1/0,r=null;return t.forEach(function(t,a){var o=Math.abs(e-t);null!=t&&o<=i&&o<n&&(i=o,r=a)}),r},r.models.tooltip=function(){"use strict";function t(){if(!d||!d.node()){var t=[1];d=i.select(document.body).selectAll(".nvtooltip").data(t),d.enter().append("div").attr("class","nvtooltip "+(u?u:"xy-tooltip")).attr("id",n).style("top",0).style("left",0).style("opacity",0).style("position","fixed").selectAll("div, table, td, tr").classed(m,!0).classed(m,!0),d.exit().remove()}}function e(){if(p&&M(a))return r.dom.write(function(){t();var e=k(a);e&&(d.node().innerHTML=e),C()}),e}var n="nvtooltip-"+Math.floor(1e5*Math.random()),a=null,o="w",s=25,l=0,u=null,c=!0,h=200,d=null,f={left:null,top:null},p=!0,g=100,v=!0,m="nv-pointer-events-none",y=function(t,e){return t},x=function(t){return t},b=function(t,e){return t},k=function(t){if(null===t)return"";var e=i.select(document.createElement("table"));if(v){var n=e.selectAll("thead").data([t]).enter().append("thead");n.append("tr").append("td").attr("colspan",3).append("strong").classed("x-value",!0).html(x(t.value))}var r=e.selectAll("tbody").data([t]).enter().append("tbody"),a=r.selectAll("tr").data(function(t){return t.series}).enter().append("tr").classed("highlight",function(t){return t.highlight});a.append("td").classed("legend-color-guide",!0).append("div").style("background-color",function(t){return t.color}),a.append("td").classed("key",!0).classed("total",function(t){return!!t.total}).html(function(t,e){return b(t.key,e)}),a.append("td").classed("value",!0).html(function(t,e){return y(t.value,e)}),a.filter(function(t,e){return void 0!==t.percent}).append("td").classed("percent",!0).html(function(t,e){return"("+i.format("%")(t.percent)+")"}),a.selectAll("td").each(function(t){if(t.highlight){var e=i.scale.linear().domain([0,1]).range(["#fff",t.color]),n=.6;i.select(this).style("border-bottom-color",e(n)).style("border-top-color",e(n))}});var o=e.node().outerHTML;return void 0!==t.footer&&(o+="<div class='footer'>"+t.footer+"</div>"),o},w=function(){var t={left:null!==i.event?i.event.clientX:0,top:null!==i.event?i.event.clientY:0};if("none"!=getComputedStyle(document.body).transform){var e=document.body.getBoundingClientRect();t.left-=e.left,t.top-=e.top}return t},M=function(t){if(t&&t.series){if(r.utils.isArray(t.series))return!0;if(r.utils.isObject(t.series))return t.series=[t.series],!0}return!1},_=function(t){var e,n,i,r=d.node().offsetHeight,a=d.node().offsetWidth,l=document.documentElement.clientWidth,u=document.documentElement.clientHeight;switch(o){case"e":e=-a-s,n=-(r/2),t.left+e<0&&(e=s),(i=t.top+n)<0&&(n-=i),(i=t.top+n+r)>u&&(n-=i-u);break;case"w":e=s,n=-(r/2),t.left+e+a>l&&(e=-a-s),(i=t.top+n)<0&&(n-=i),(i=t.top+n+r)>u&&(n-=i-u);break;case"n":e=-(a/2)-5,n=s,t.top+n+r>u&&(n=-r-s),(i=t.left+e)<0&&(e-=i),(i=t.left+e+a)>l&&(e-=i-l);break;case"s":e=-(a/2),n=-r-s,t.top+n<0&&(n=s),(i=t.left+e)<0&&(e-=i),(i=t.left+e+a)>l&&(e-=i-l);break;case"center":e=-(a/2),n=-(r/2);break;default:e=0,n=0}return{left:e,top:n}},C=function(){r.dom.read(function(){var t=w(),e=_(t),n=t.left+e.left,r=t.top+e.top;if(c)d.interrupt().transition().delay(h).duration(0).style("opacity",0);else{var a="translate("+f.left+"px, "+f.top+"px)",o="translate("+Math.round(n)+"px, "+Math.round(r)+"px)",s=i.interpolateString(a,o),l=d.style("opacity")<.1;d.interrupt().transition().duration(l?0:g).styleTween("transform",function(t){return s},"important").styleTween("-webkit-transform",function(t){return s}).style("-ms-transform",o).style("opacity",1)}f.left=n,f.top=r})};return e.nvPointerEventsClass=m,e.options=r.utils.optionsFunc.bind(e),e._options=Object.create({},{duration:{get:function(){return g},set:function(t){g=t}},gravity:{get:function(){return o},set:function(t){o=t}},distance:{get:function(){return s},set:function(t){s=t}},snapDistance:{get:function(){return l},set:function(t){l=t}},classes:{get:function(){return u},set:function(t){u=t}},enabled:{get:function(){return p},set:function(t){p=t}},hideDelay:{get:function(){return h},set:function(t){h=t}},contentGenerator:{get:function(){return k},set:function(t){k=t}},valueFormatter:{get:function(){return y},set:function(t){y=t}},headerFormatter:{get:function(){return x},set:function(t){x=t}},keyFormatter:{get:function(){return b},set:function(t){b=t}},headerEnabled:{get:function(){return v},set:function(t){v=t}},position:{get:function(){return w},set:function(t){w=t}},chartContainer:{get:function(){return document.body},set:function(t){r.deprecated("chartContainer","feature removed after 1.8.3")}},fixedTop:{get:function(){return null},set:function(t){r.deprecated("fixedTop","feature removed after 1.8.1")}},offset:{get:function(){return{left:0,top:0}},set:function(t){r.deprecated("offset","use chart.tooltip.distance() instead")}},hidden:{get:function(){return c},set:function(t){c!=t&&(c=!!t,e())}},data:{get:function(){return a},set:function(t){t.point&&(t.value=t.point.x,t.series=t.series||{},t.series.value=t.point.y,t.series.color=t.point.color||t.series.color),a=t}},node:{get:function(){return d.node()},set:function(t){}},id:{get:function(){return n},set:function(t){}}}),r.utils.initOptions(e),e},r.utils.windowSize=function(){var t={width:640,height:480};return window.innerWidth&&window.innerHeight?(t.width=window.innerWidth,t.height=window.innerHeight,t):"CSS1Compat"==document.compatMode&&document.documentElement&&document.documentElement.offsetWidth?(t.width=document.documentElement.offsetWidth,t.height=document.documentElement.offsetHeight,t):document.body&&document.body.offsetWidth?(t.width=document.body.offsetWidth,t.height=document.body.offsetHeight,t):t},r.utils.isArray=Array.isArray,r.utils.isObject=function(t){return null!==t&&"object"==typeof t},r.utils.isFunction=function(t){return"function"==typeof t},r.utils.isDate=function(t){return"[object Date]"===toString.call(t)},r.utils.isNumber=function(t){return!isNaN(t)&&"number"==typeof t},r.utils.windowResize=function(t){return window.addEventListener?window.addEventListener("resize",t):r.log("ERROR: Failed to bind to window.resize with: ",t),{callback:t,clear:function(){window.removeEventListener("resize",t)}}},r.utils.getColor=function(t){if(void 0===t)return r.utils.defaultColor();if(r.utils.isArray(t)){var e=i.scale.ordinal().range(t);return function(t,n){var i=void 0===n?t:n;return t.color||e(i)}}return t},r.utils.defaultColor=function(){return r.utils.getColor(i.scale.category20().range())},r.utils.customTheme=function(t,e,n){e=e||function(t){return t.key},n=n||i.scale.category20().range();var a=n.length;return function(i,o){var s=e(i);return r.utils.isFunction(t[s])?t[s]():void 0!==t[s]?t[s]:(a||(a=n.length),a-=1,n[a])}},r.utils.pjax=function(t,e){var n=function(n){i.html(n,function(n){var a=i.select(e).node();a.parentNode.replaceChild(i.select(n).select(e).node(),a),r.utils.pjax(t,e)})};i.selectAll(t).on("click",function(){history.pushState(this.href,this.textContent,this.href),n(this.href),i.event.preventDefault()}),i.select(window).on("popstate",function(){i.event.state&&n(i.event.state)})},r.utils.calcApproxTextWidth=function(t){if(r.utils.isFunction(t.style)&&r.utils.isFunction(t.text)){var e=parseInt(t.style("font-size").replace("px",""),10),n=t.text().length;return r.utils.NaNtoZero(n*e*.5)}return 0},r.utils.NaNtoZero=function(t){return!r.utils.isNumber(t)||isNaN(t)||null===t||t===1/0||t===-(1/0)?0:t},i.selection.prototype.watchTransition=function(t){var e=[this].concat([].slice.call(arguments,1));return t.transition.apply(t,e)},r.utils.renderWatch=function(t,e){if(!(this instanceof r.utils.renderWatch))return new r.utils.renderWatch(t,e);var n=void 0!==e?e:250,i=[],a=this;this.models=function(t){return t=[].slice.call(arguments,0),t.forEach(function(t){t.__rendered=!1,function(t){t.dispatch.on("renderEnd",function(e){t.__rendered=!0,a.renderEnd("model")})}(t),i.indexOf(t)<0&&i.push(t)}),this},this.reset=function(t){void 0!==t&&(n=t),i=[]},this.transition=function(t,e,r){if(e=arguments.length>1?[].slice.call(arguments,1):[],r=e.length>1?e.pop():void 0!==n?n:250,t.__rendered=!1,i.indexOf(t)<0&&i.push(t),0===r)return t.__rendered=!0,t.delay=function(){return this},t.duration=function(){return this},t;0===t.length?t.__rendered=!0:t.every(function(t){return!t.length})?t.__rendered=!0:t.__rendered=!1;var o=0;return t.transition().duration(r).each(function(){++o}).each("end",function(n,i){0===--o&&(t.__rendered=!0,a.renderEnd.apply(this,e))})},this.renderEnd=function(){i.every(function(t){return t.__rendered})&&(i.forEach(function(t){t.__rendered=!1}),t.renderEnd.apply(this,arguments))}},r.utils.deepExtend=function(t){var e=arguments.length>1?[].slice.call(arguments,1):[];e.forEach(function(e){for(var n in e){var i=r.utils.isArray(t[n]),a=r.utils.isObject(t[n]),o=r.utils.isObject(e[n]);a&&!i&&o?r.utils.deepExtend(t[n],e[n]):t[n]=e[n]}})},r.utils.state=function(){if(!(this instanceof r.utils.state))return new r.utils.state;var t={},e=function(){},n=function(){return{}},a=null,o=null;this.dispatch=i.dispatch("change","set"),this.dispatch.on("set",function(t){e(t,!0)}),this.getter=function(t){return n=t,this},this.setter=function(t,n){return n||(n=function(){}),e=function(e,i){t(e),i&&n()},this},this.init=function(t){a=a||{},r.utils.deepExtend(a,t)};var s=function(){var e=n();if(JSON.stringify(e)===JSON.stringify(t))return!1;for(var i in e)void 0===t[i]&&(t[i]={}),t[i]=e[i],o=!0;return!0};this.update=function(){a&&(e(a,!1),a=null),s.call(this)&&this.dispatch.change(t)}},r.utils.optionsFunc=function(t){return t&&i.map(t).forEach(function(t,e){r.utils.isFunction(this[t])&&this[t](e)}.bind(this)),this},r.utils.calcTicksX=function(t,e){var n=1,i=0;for(i;i<e.length;i+=1){var a=e[i]&&e[i].values?e[i].values.length:0;n=a>n?a:n}return r.log("Requested number of ticks: ",t),r.log("Calculated max values to be: ",n),t=t>n?t=n-1:t,t=t<1?1:t,t=Math.floor(t),r.log("Calculating tick count as: ",t),t},r.utils.calcTicksY=function(t,e){return r.utils.calcTicksX(t,e)},r.utils.initOption=function(t,e){t._calls&&t._calls[e]?t[e]=t._calls[e]:(t[e]=function(n){return arguments.length?(t._overrides[e]=!0,t._options[e]=n,t):t._options[e]},t["_"+e]=function(n){return arguments.length?(t._overrides[e]||(t._options[e]=n),t):t._options[e]})},r.utils.initOptions=function(t){t._overrides=t._overrides||{};var e=Object.getOwnPropertyNames(t._options||{}),n=Object.getOwnPropertyNames(t._calls||{});e=e.concat(n);for(var i in e)r.utils.initOption(t,e[i])},r.utils.inheritOptionsD3=function(t,e,n){t._d3options=n.concat(t._d3options||[]),n.unshift(e),n.unshift(t),i.rebind.apply(this,n)},r.utils.arrayUnique=function(t){return t.sort().filter(function(e,n){return!n||e!=t[n-1]})},r.utils.symbolMap=i.map(),r.utils.symbol=function(){function t(t,a){var o=e.call(this,t,a),s=n.call(this,t,a);return i.svg.symbolTypes.indexOf(o)!==-1?i.svg.symbol().type(o).size(s)():r.utils.symbolMap.get(o)(s)}var e,n=64;return t.type=function(n){return arguments.length?(e=i.functor(n),t):e},t.size=function(e){return arguments.length?(n=i.functor(e),t):n},t},r.utils.inheritOptions=function(t,e){var n=Object.getOwnPropertyNames(e._options||{}),a=Object.getOwnPropertyNames(e._calls||{}),o=e._inherited||[],s=e._d3options||[],l=n.concat(a).concat(o).concat(s);l.unshift(e),l.unshift(t),i.rebind.apply(this,l),t._inherited=r.utils.arrayUnique(n.concat(a).concat(o).concat(n).concat(t._inherited||[])),t._d3options=r.utils.arrayUnique(s.concat(t._d3options||[]))},r.utils.initSVG=function(t){t.classed({"nvd3-svg":!0})},r.utils.sanitizeHeight=function(t,e){return t||parseInt(e.style("height"),10)||400},r.utils.sanitizeWidth=function(t,e){return t||parseInt(e.style("width"),10)||960},r.utils.availableHeight=function(t,e,n){return Math.max(0,r.utils.sanitizeHeight(t,e)-n.top-n.bottom)},r.utils.availableWidth=function(t,e,n){return Math.max(0,r.utils.sanitizeWidth(t,e)-n.left-n.right)},r.utils.noData=function(t,e){var n=t.options(),i=n.margin(),a=n.noData(),o=null==a?["No Data Available."]:[a],s=r.utils.availableHeight(null,e,i),l=r.utils.availableWidth(null,e,i),u=i.left+l/2,c=i.top+s/2;e.selectAll("g").remove();var h=e.selectAll(".nv-noData").data(o);h.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),h.attr("x",u).attr("y",c).text(function(t){return t})},r.utils.wrapTicks=function(t,e){t.each(function(){for(var t,n=i.select(this),r=n.text().split(/\s+/).reverse(),a=[],o=0,s=1.1,l=n.attr("y"),u=parseFloat(n.attr("dy")),c=n.text(null).append("tspan").attr("x",0).attr("y",l).attr("dy",u+"em");t=r.pop();)a.push(t),c.text(a.join(" ")),c.node().getComputedTextLength()>e&&(a.pop(),c.text(a.join(" ")),a=[t],c=n.append("tspan").attr("x",0).attr("y",l).attr("dy",++o*s+u+"em").text(t))})},r.utils.arrayEquals=function(t,e){if(t===e)return!0;if(!t||!e)return!1;if(t.length!=e.length)return!1;for(var n=0,i=t.length;n<i;n++)if(t[n]instanceof Array&&e[n]instanceof Array){if(!r.arrayEquals(t[n],e[n]))return!1}else if(t[n]!=e[n])return!1;return!0},r.models.axis=function(){"use strict";function t(s){return b.reset(),s.each(function(t){var s=i.select(this);r.utils.initSVG(s);var m=s.selectAll("g.nv-wrap.nv-axis").data([t]),y=m.enter().append("g").attr("class","nvd3 nv-wrap nv-axis"),k=(y.append("g"),m.select("g"));null!==p?e.ticks(p):"top"!=e.orient()&&"bottom"!=e.orient()||e.ticks(Math.abs(n.range()[1]-n.range()[0])/100),k.watchTransition(b,"axis").call(e),x=x||e.scale();var w=e.tickFormat();null==w&&(w=x.tickFormat());var M=k.selectAll("text.nv-axislabel").data([l||null]);M.exit().remove(),void 0!==v&&k.selectAll("g").select("text").style("font-size",v);var _,C,S;switch(e.orient()){case"top":M.enter().append("text").attr("class","nv-axislabel"),S=0,1===n.range().length?S=f?2*n.range()[0]+n.rangeBand():0:2===n.range().length?S=f?n.range()[0]+n.range()[1]+n.rangeBand():n.range()[1]:n.range().length>2&&(S=n.range()[n.range().length-1]+(n.range()[1]-n.range()[0])),M.attr("text-anchor","middle").attr("y",0).attr("x",S/2),u&&(C=m.selectAll("g.nv-axisMaxMin").data(n.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(n(t))+",0)"}).select("text").attr("dy","-0.5em").attr("y",-e.tickPadding()).attr("text-anchor","middle").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max top").attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(n.range()[e])+",0)"}));break;case"bottom":_=g+36;var A=30,E=0,T=k.selectAll("g").select("text"),F="";if(c%360){T.attr("transform",""),T.each(function(t,e){var n=this.getBoundingClientRect(),i=n.width;E=n.height,i>A&&(A=i)}),F="rotate("+c+" 0,"+(E/2+e.tickPadding())+")";var D=Math.abs(Math.sin(c*Math.PI/180));_=(D?D*A:A)+30,T.attr("transform",F).style("text-anchor",c%360>0?"start":"end")}else d?T.attr("transform",function(t,e){return"translate(0,"+(e%2==0?"0":"12")+")"}):T.attr("transform","translate(0,0)");M.enter().append("text").attr("class","nv-axislabel"),S=0,1===n.range().length?S=f?2*n.range()[0]+n.rangeBand():0:2===n.range().length?S=f?n.range()[0]+n.range()[1]+n.rangeBand():n.range()[1]:n.range().length>2&&(S=n.range()[n.range().length-1]+(n.range()[1]-n.range()[0])),M.attr("text-anchor","middle").attr("y",_).attr("x",S/2),u&&(C=m.selectAll("g.nv-axisMaxMin").data([n.domain()[0],n.domain()[n.domain().length-1]]),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-x",0==e?"nv-axisMin-x":"nv-axisMax-x"].join(" ")}).append("text"),C.exit().remove(),C.attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(n(t)+(f?n.rangeBand()/2:0))+",0)"}).select("text").attr("dy",".71em").attr("y",e.tickPadding()).attr("transform",F).style("text-anchor",c?c%360>0?"start":"end":"middle").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max bottom").attr("transform",function(t,e){return"translate("+r.utils.NaNtoZero(n(t)+(f?n.rangeBand()/2:0))+",0)"}));break;case"right":M.enter().append("text").attr("class","nv-axislabel"),M.style("text-anchor",h?"middle":"begin").attr("transform",h?"rotate(90)":"").attr("y",h?-Math.max(a.right,o)+12-(g||0):-10).attr("x",h?i.max(n.range())/2:e.tickPadding()),u&&(C=m.selectAll("g.nv-axisMaxMin").data(n.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(n(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",e.tickPadding()).style("text-anchor","start").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max right").attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(n.range()[e])+")"}).select("text").style("opacity",1));break;case"left":M.enter().append("text").attr("class","nv-axislabel"),M.style("text-anchor",h?"middle":"end").attr("transform",h?"rotate(-90)":"").attr("y",h?-Math.max(a.left,o)+25-(g||0):-10).attr("x",h?-i.max(n.range())/2:-e.tickPadding()),u&&(C=m.selectAll("g.nv-axisMaxMin").data(n.domain()),C.enter().append("g").attr("class",function(t,e){return["nv-axisMaxMin","nv-axisMaxMin-y",0==e?"nv-axisMin-y":"nv-axisMax-y"].join(" ")}).append("text").style("opacity",0),C.exit().remove(),C.attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(x(t))+")"}).select("text").attr("dy",".32em").attr("y",0).attr("x",-e.tickPadding()).attr("text-anchor","end").text(function(t,e){var n=w(t);return(""+n).match("NaN")?"":n}),C.watchTransition(b,"min-max right").attr("transform",function(t,e){return"translate(0,"+r.utils.NaNtoZero(n.range()[e])+")"}).select("text").style("opacity",1))}if(M.text(function(t){return t}),!u||"left"!==e.orient()&&"right"!==e.orient()||(k.selectAll("g").each(function(t,e){i.select(this).select("text").attr("opacity",1),(n(t)<n.range()[1]+10||n(t)>n.range()[0]-10)&&((t>1e-10||t<-1e-10)&&i.select(this).attr("opacity",0),i.select(this).select("text").attr("opacity",0))}),n.domain()[0]==n.domain()[1]&&0==n.domain()[0]&&m.selectAll("g.nv-axisMaxMin").style("opacity",function(t,e){return e?0:1})),u&&("top"===e.orient()||"bottom"===e.orient())){var z=[];m.selectAll("g.nv-axisMaxMin").each(function(t,e){try{e?z.push(n(t)-this.getBoundingClientRect().width-4):z.push(n(t)+this.getBoundingClientRect().width+4)}catch(i){e?z.push(n(t)-4):z.push(n(t)+4)}}),k.selectAll("g").each(function(t,e){(n(t)<z[0]||n(t)>z[1])&&(t>1e-10||t<-1e-10?i.select(this).remove():i.select(this).select("text").remove())})}k.selectAll(".tick").filter(function(t){return!parseFloat(Math.round(1e5*t)/1e6)&&void 0!==t}).classed("zero",!0),x=n.copy()}),b.renderEnd("axis immediate"),t}var e=i.svg.axis(),n=i.scale.linear(),a={top:0,right:0,bottom:0,left:0},o=75,s=60,l=null,u=!0,c=0,h=!0,d=!1,f=!1,p=null,g=0,v=void 0,m=250,y=i.dispatch("renderEnd");e.scale(n).orient("bottom").tickFormat(function(t){return t});var x,b=r.utils.renderWatch(y,m);return t.axis=e,t.dispatch=y,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{axisLabelDistance:{get:function(){return g},set:function(t){g=t}},staggerLabels:{get:function(){return d},set:function(t){d=t}},rotateLabels:{get:function(){return c},set:function(t){c=t}},rotateYLabel:{get:function(){return h},set:function(t){h=t}},showMaxMin:{get:function(){return u},set:function(t){u=t}},axisLabel:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return s},set:function(t){s=t}},ticks:{get:function(){return p},set:function(t){p=t}},width:{get:function(){return o},set:function(t){o=t}},fontSize:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},duration:{get:function(){return m},set:function(t){m=t,b.reset(m)}},scale:{get:function(){return n},set:function(i){n=i,e.scale(n),f="function"==typeof n.rangeBands,r.utils.inheritOptionsD3(t,n,["domain","range","rangeBand","rangeBands"])}}}),r.utils.initOptions(t),r.utils.inheritOptionsD3(t,e,["orient","tickValues","tickSubdivide","tickSize","tickPadding","tickFormat"]),r.utils.inheritOptionsD3(t,n,["domain","range","rangeBand","rangeBands"]),t},r.models.boxPlot=function(){"use strict";function t(d){return D.reset(),d.each(function(t){var d=c-u.left-u.right,z=h-u.top-u.bottom;A=i.select(this),r.utils.initSVG(A),f.domain(e||t.map(function(t,e){return g(t,e)})).rangeBands(n||[0,d],.1);var N=[];if(!a){var L,W,P=[];t.forEach(function(t,e){var n=v(t),i=y(t),r=x(t),a=b(t),o=w(t);o&&o.forEach(function(t,e){P.push(M(t,e,void 0))}),r&&P.push(r),n&&P.push(n),i&&P.push(i),a&&P.push(a)}),L=i.min(P),W=i.max(P),N=[L,W]}p.domain(a||N),p.range(o||[z,0]),s=s||f,l=l||p.copy().range([p(0),p(0)]);var I=A.selectAll("g.nv-wrap").data([t]);I.enter().append("g").attr("class","nvd3 nv-wrap");I.attr("transform","translate("+u.left+","+u.top+")");var O=I.selectAll(".nv-boxplot").data(function(t){return t}),R=O.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);O.attr("class","nv-boxplot").attr("transform",function(t,e,n){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", 0)"}).classed("hover",function(t){return t.hover}),O.watchTransition(D,"nv-boxplot: boxplots").style("stroke-opacity",1).style("fill-opacity",.75).delay(function(e,n){return n*T/t.length}).attr("transform",function(t,e){return"translate("+(f(g(t,e))+.05*f.rangeBand())+", 0)"}),O.exit().remove(),R.each(function(t,e){var n=i.select(this);[x,b].forEach(function(i){if(i(t)){var r=i===x?"low":"high";n.append("line").style("stroke",k(t)||S(t,e)).attr("class","nv-boxplot-whisker nv-boxplot-"+r),n.append("line").style("stroke",k(t)||S(t,e)).attr("class","nv-boxplot-tick nv-boxplot-"+r)}})});var j=function(){return null===F?.9*f.rangeBand():Math.min(75,.9*f.rangeBand())},H=function(){return.45*f.rangeBand()-j()/2},B=function(){return.45*f.rangeBand()+j()/2};[x,b].forEach(function(t){var e=t===x?"low":"high",n=t===x?v:y;O.select("line.nv-boxplot-whisker.nv-boxplot-"+e).watchTransition(D,"nv-boxplot: boxplots").attr("x1",.45*f.rangeBand()).attr("y1",function(e,n){return p(t(e))}).attr("x2",.45*f.rangeBand()).attr("y2",function(t,e){return p(n(t))}),O.select("line.nv-boxplot-tick.nv-boxplot-"+e).watchTransition(D,"nv-boxplot: boxplots").attr("x1",H).attr("y1",function(e,n){return p(t(e))}).attr("x2",B).attr("y2",function(e,n){return p(t(e))})}),[x,b].forEach(function(t){var e=t===x?"low":"high";R.selectAll(".nv-boxplot-"+e).on("mouseover",function(e,n,r){i.select(this).classed("hover",!0),E.elementMouseover({series:{key:t(e),color:k(e)||S(e,r)},e:i.event})}).on("mouseout",function(e,n,r){i.select(this).classed("hover",!1),E.elementMouseout({series:{key:t(e),color:k(e)||S(e,r)},e:i.event})}).on("mousemove",function(t,e){
E.elementMousemove({e:i.event})})}),R.append("rect").attr("class","nv-boxplot-box").on("mouseover",function(t,e){i.select(this).classed("hover",!0),E.elementMouseover({key:g(t),value:g(t),series:[{key:"Q3",value:y(t),color:k(t)||S(t,e)},{key:"Q2",value:m(t),color:k(t)||S(t,e)},{key:"Q1",value:v(t),color:k(t)||S(t,e)}],data:t,index:e,e:i.event})}).on("mouseout",function(t,e){i.select(this).classed("hover",!1),E.elementMouseout({key:g(t),value:g(t),series:[{key:"Q3",value:y(t),color:k(t)||S(t,e)},{key:"Q2",value:m(t),color:k(t)||S(t,e)},{key:"Q1",value:v(t),color:k(t)||S(t,e)}],data:t,index:e,e:i.event})}).on("mousemove",function(t,e){E.elementMousemove({e:i.event})}),O.select("rect.nv-boxplot-box").watchTransition(D,"nv-boxplot: boxes").attr("y",function(t,e){return p(y(t))}).attr("width",j).attr("x",H).attr("height",function(t,e){return Math.abs(p(y(t))-p(v(t)))||1}).style("fill",function(t,e){return k(t)||S(t,e)}).style("stroke",function(t,e){return k(t)||S(t,e)}),R.append("line").attr("class","nv-boxplot-median"),O.select("line.nv-boxplot-median").watchTransition(D,"nv-boxplot: boxplots line").attr("x1",H).attr("y1",function(t,e){return p(m(t))}).attr("x2",B).attr("y2",function(t,e){return p(m(t))});var G=O.selectAll(".nv-boxplot-outlier").data(function(t){return w(t)||[]});G.enter().append("circle").style("fill",function(t,e,n){return C(t,e,n)||S(t,n)}).style("stroke",function(t,e,n){return C(t,e,n)||S(t,n)}).style("z-index",9e3).on("mouseover",function(t,e,n){i.select(this).classed("hover",!0),E.elementMouseover({series:{key:_(t,e,n),color:C(t,e,n)||S(t,n)},e:i.event})}).on("mouseout",function(t,e,n){i.select(this).classed("hover",!1),E.elementMouseout({series:{key:_(t,e,n),color:C(t,e,n)||S(t,n)},e:i.event})}).on("mousemove",function(t,e){E.elementMousemove({e:i.event})}),G.attr("class","nv-boxplot-outlier"),G.watchTransition(D,"nv-boxplot: nv-boxplot-outlier").attr("cx",.45*f.rangeBand()).attr("cy",function(t,e,n){return p(M(t,e,n))}).attr("r","3"),G.exit().remove(),s=f.copy(),l=p.copy()}),D.renderEnd("nv-boxplot immediate"),t}var e,n,a,o,s,l,u={top:0,right:0,bottom:0,left:0},c=960,h=500,d=Math.floor(1e4*Math.random()),f=i.scale.ordinal(),p=i.scale.linear(),g=function(t){return t.label},v=function(t){return t.values.Q1},m=function(t){return t.values.Q2},y=function(t){return t.values.Q3},x=function(t){return t.values.whisker_low},b=function(t){return t.values.whisker_high},k=function(t){return t.color},w=function(t){return t.values.outliers},M=function(t,e,n){return t},_=function(t,e,n){return t},C=function(t,e,n){},S=r.utils.defaultColor(),A=null,E=i.dispatch("elementMouseover","elementMouseout","elementMousemove","renderEnd"),T=250,F=null,D=r.utils.renderWatch(E,T);return t.dispatch=E,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return c},set:function(t){c=t}},height:{get:function(){return h},set:function(t){h=t}},maxBoxWidth:{get:function(){return F},set:function(t){F=t}},x:{get:function(){return g},set:function(t){g=t}},q1:{get:function(){return v},set:function(t){v=t}},q2:{get:function(){return m},set:function(t){m=t}},q3:{get:function(){return y},set:function(t){y=t}},wl:{get:function(){return x},set:function(t){x=t}},wh:{get:function(){return b},set:function(t){b=t}},itemColor:{get:function(){return k},set:function(t){k=t}},outliers:{get:function(){return w},set:function(t){w=t}},outlierValue:{get:function(){return M},set:function(t){M=t}},outlierLabel:{get:function(){return _},set:function(t){_=t}},outlierColor:{get:function(){return C},set:function(t){C=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return a},set:function(t){a=t}},xRange:{get:function(){return n},set:function(t){n=t}},yRange:{get:function(){return o},set:function(t){o=t}},id:{get:function(){return d},set:function(t){d=t}},y:{get:function(){return console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead."),{}},set:function(t){console.warn("BoxPlot 'y' chart option is deprecated. Please use model overrides instead.")}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},color:{get:function(){return S},set:function(t){S=r.utils.getColor(t)}},duration:{get:function(){return T},set:function(t){T=t,D.reset(T)}}}),r.utils.initOptions(t),t},r.models.boxPlotChart=function(){"use strict";function t(h){return b.reset(),b.models(a),d&&b.models(o),f&&b.models(s),h.each(function(h){var v=i.select(this);r.utils.initSVG(v);var b=(u||parseInt(v.style("width"))||960)-l.left-l.right,k=(c||parseInt(v.style("height"))||400)-l.top-l.bottom;if(t.update=function(){y.beforeUpdate(),v.transition().duration(x).call(t)},t.container=this,!h||!h.length){var w=v.selectAll(".nv-noData").data([m]);return w.enter().append("text").attr("class","nvd3 nv-noData").attr("dy","-.7em").style("text-anchor","middle"),w.attr("x",l.left+b/2).attr("y",l.top+k/2).text(function(t){return t}),t}v.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale().clamp(!0);var M=v.selectAll("g.nv-wrap.nv-boxPlotWithAxes").data([h]),_=M.enter().append("g").attr("class","nvd3 nv-wrap nv-boxPlotWithAxes").append("g"),C=_.append("defs"),S=M.select("g");_.append("g").attr("class","nv-x nv-axis"),_.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),_.append("g").attr("class","nv-barsWrap"),S.attr("transform","translate("+l.left+","+l.top+")"),p&&S.select(".nv-y.nv-axis").attr("transform","translate("+b+",0)"),a.width(b).height(k);var A=S.select(".nv-barsWrap").datum(h.filter(function(t){return!t.disabled}));if(A.transition().call(a),C.append("clipPath").attr("id","nv-x-label-clip-"+a.id()).append("rect"),S.select("#nv-x-label-clip-"+a.id()+" rect").attr("width",e.rangeBand()*(g?2:1)).attr("height",16).attr("x",-e.rangeBand()/(g?1:2)),d){o.scale(e).ticks(r.utils.calcTicksX(b/100,h)).tickSize(-k,0),S.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),S.select(".nv-x.nv-axis").call(o);var E=S.select(".nv-x.nv-axis").selectAll("g");g&&E.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2===0?"5":"17")+")"})}f&&(s.scale(n).ticks(Math.floor(k/36)).tickSize(-b,0),S.select(".nv-y.nv-axis").call(s)),S.select(".nv-zeroLine line").attr("x1",0).attr("x2",b).attr("y1",n(0)).attr("y2",n(0))}),b.renderEnd("nv-boxplot chart immediate"),t}var e,n,a=r.models.boxPlot(),o=r.models.axis(),s=r.models.axis(),l={top:15,right:10,bottom:50,left:60},u=null,c=null,h=r.utils.getColor(),d=!0,f=!0,p=!1,g=!1,v=r.models.tooltip(),m="No Data Available.",y=i.dispatch("beforeUpdate","renderEnd"),x=250;o.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),s.orient(p?"right":"left").tickFormat(i.format(",.1f")),v.duration(0);var b=r.utils.renderWatch(y,x);return a.dispatch.on("elementMouseover.tooltip",function(t){v.data(t).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){v.data(t).hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(t){v()}),t.dispatch=y,t.boxplot=a,t.xAxis=o,t.yAxis=s,t.tooltip=v,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},staggerLabels:{get:function(){return g},set:function(t){g=t}},showXAxis:{get:function(){return d},set:function(t){d=t}},showYAxis:{get:function(){return f},set:function(t){f=t}},tooltipContent:{get:function(){return v},set:function(t){v=t}},noData:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!==t.top?t.top:l.top,l.right=void 0!==t.right?t.right:l.right,l.bottom=void 0!==t.bottom?t.bottom:l.bottom,l.left=void 0!==t.left?t.left:l.left}},duration:{get:function(){return x},set:function(t){x=t,b.reset(x),a.duration(x),o.duration(x),s.duration(x)}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),a.color(h)}},rightAlignYAxis:{get:function(){return p},set:function(t){p=t,s.orient(t?"right":"left")}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.bullet=function(){"use strict";function t(t,e){var n=t.slice();t.sort(function(t,r){var a=n.indexOf(t),o=n.indexOf(r);return i.descending(e[a],e[o])})}function e(a){return a.each(function(e,a){var x=v-n.left-n.right,_=m-n.top-n.bottom;y=i.select(this),r.utils.initSVG(y);var C=s.call(this,e,a).slice(),S=l.call(this,e,a).slice(),A=u.call(this,e,a).slice().sort(i.descending),E=c.call(this,e,a).slice(),T=h.call(this,e,a).slice(),F=d.call(this,e,a).slice(),D=f.call(this,e,a).slice(),z=p.call(this,e,a).slice();t(T,C),t(F,S),t(D,A),t(z,E),C.sort(i.descending),S.sort(i.descending),E.sort(i.descending);var N=i.scale.linear().domain(i.extent(i.merge([g,C]))).range(o?[x,0]:[0,x]);this.__chart__||i.scale.linear().domain([0,1/0]).range(N.range());this.__chart__=N;for(var L=(i.min(C),i.max(C),C[1],y.selectAll("g.nv-wrap.nv-bullet").data([e])),W=L.enter().append("g").attr("class","nvd3 nv-wrap nv-bullet"),P=W.append("g"),I=L.select("g"),a=0,O=C.length;a<O;a++){var R="nv-range nv-range"+a;a<=2&&(R=R+" nv-range"+M[a]),P.append("rect").attr("class",R)}P.append("rect").attr("class","nv-measure"),L.attr("transform","translate("+n.left+","+n.top+")");for(var j=function(t){return Math.abs(N(t)-N(0))},H=function(t){return N(t<0?t:0)},a=0,O=C.length;a<O;a++){var B=C[a];I.select("rect.nv-range"+a).attr("height",_).attr("width",j(B)).attr("x",H(B)).datum(B)}I.select("rect.nv-measure").style("fill",b).attr("height",_/3).attr("y",_/3).attr("width",E<0?N(0)-N(E[0]):N(E[0])-N(0)).attr("x",H(E)).on("mouseover",function(){k.elementMouseover({value:E[0],label:z[0]||"Current",color:i.select(this).style("fill")})}).on("mousemove",function(){k.elementMousemove({value:E[0],label:z[0]||"Current",color:i.select(this).style("fill")})}).on("mouseout",function(){k.elementMouseout({value:E[0],label:z[0]||"Current",color:i.select(this).style("fill")})});var G=_/6,q=S.map(function(t,e){return{value:t,label:F[e]}});P.selectAll("path.nv-markerTriangle").data(q).enter().append("path").attr("class","nv-markerTriangle").attr("d","M0,"+G+"L"+G+","+-G+" "+-G+","+-G+"Z").on("mouseover",function(t){k.elementMouseover({value:t.value,label:t.label||"Previous",color:i.select(this).style("fill"),pos:[N(t.value),_/2]})}).on("mousemove",function(t){k.elementMousemove({value:t.value,label:t.label||"Previous",color:i.select(this).style("fill")})}).on("mouseout",function(t,e){k.elementMouseout({value:t.value,label:t.label||"Previous",color:i.select(this).style("fill")})}),I.selectAll("path.nv-markerTriangle").data(q).attr("transform",function(t){return"translate("+N(t.value)+","+_/2+")"});var Y=A.map(function(t,e){return{value:t,label:D[e]}});P.selectAll("path.nv-markerLine").data(Y).enter().append("line").attr("cursor","").attr("class","nv-markerLine").attr("x1",function(t){return N(t.value)}).attr("y1","2").attr("x2",function(t){return N(t.value)}).attr("y2",_-2).on("mouseover",function(t){k.elementMouseover({value:t.value,label:t.label||"Previous",color:i.select(this).style("fill"),pos:[N(t.value),_/2]})}).on("mousemove",function(t){k.elementMousemove({value:t.value,label:t.label||"Previous",color:i.select(this).style("fill")})}).on("mouseout",function(t,e){k.elementMouseout({value:t.value,label:t.label||"Previous",color:i.select(this).style("fill")})}),I.selectAll("path.nv-markerLines").data(Y).attr("transform",function(t){return"translate("+N(t.value)+","+_/2+")"}),L.selectAll(".nv-range").on("mouseover",function(t,e){var n=T[e]||w[e];k.elementMouseover({value:t,label:n,color:i.select(this).style("fill")})}).on("mousemove",function(){k.elementMousemove({value:E[0],label:z[0]||"Previous",color:i.select(this).style("fill")})}).on("mouseout",function(t,e){var n=T[e]||w[e];k.elementMouseout({value:t,label:n,color:i.select(this).style("fill")})})}),e}var n={top:0,right:0,bottom:0,left:0},a="left",o=!1,s=function(t){return t.ranges},l=function(t){return t.markers?t.markers:[]},u=function(t){return t.markerLines?t.markerLines:[0]},c=function(t){return t.measures},h=function(t){return t.rangeLabels?t.rangeLabels:[]},d=function(t){return t.markerLabels?t.markerLabels:[]},f=function(t){return t.markerLineLabels?t.markerLineLabels:[]},p=function(t){return t.measureLabels?t.measureLabels:[]},g=[0],v=380,m=30,y=null,x=null,b=r.utils.getColor(["#1f77b4"]),k=i.dispatch("elementMouseover","elementMouseout","elementMousemove"),w=["Maximum","Mean","Minimum"],M=["Max","Avg","Min"];return e.dispatch=k,e.options=r.utils.optionsFunc.bind(e),e._options=Object.create({},{ranges:{get:function(){return s},set:function(t){s=t}},markers:{get:function(){return l},set:function(t){l=t}},measures:{get:function(){return c},set:function(t){c=t}},forceX:{get:function(){return g},set:function(t){g=t}},width:{get:function(){return v},set:function(t){v=t}},height:{get:function(){return m},set:function(t){m=t}},tickFormat:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return n},set:function(t){n.top=void 0!==t.top?t.top:n.top,n.right=void 0!==t.right?t.right:n.right,n.bottom=void 0!==t.bottom?t.bottom:n.bottom,n.left=void 0!==t.left?t.left:n.left}},orient:{get:function(){return a},set:function(t){a=t,o="right"==a||"bottom"==a}},color:{get:function(){return b},set:function(t){b=r.utils.getColor(t)}}}),r.utils.initOptions(e),e},r.models.bulletChart=function(){"use strict";function t(n){return n.each(function(a,g){var v=i.select(this);r.utils.initSVG(v);var m=r.utils.availableWidth(h,v,s),y=d-s.top-s.bottom;if(t.update=function(){t(n)},t.container=this,!a||!l.call(this,a,g))return r.utils.noData(t,v),t;v.selectAll(".nv-noData").remove();var x=l.call(this,a,g).slice().sort(i.descending),b=u.call(this,a,g).slice().sort(i.descending),k=c.call(this,a,g).slice().sort(i.descending),w=v.selectAll("g.nv-wrap.nv-bulletChart").data([a]),M=w.enter().append("g").attr("class","nvd3 nv-wrap nv-bulletChart"),_=M.append("g"),C=w.select("g");_.append("g").attr("class","nv-bulletWrap"),_.append("g").attr("class","nv-titles"),w.attr("transform","translate("+s.left+","+s.top+")");var S=i.scale.linear().domain([0,Math.max(x[0],b[0]||0,k[0])]).range(o?[m,0]:[0,m]),A=this.__chart__||i.scale.linear().domain([0,1/0]).range(S.range());this.__chart__=S;var E=_.select(".nv-titles").append("g").attr("text-anchor","end").attr("transform","translate(-6,"+(d-s.top-s.bottom)/2+")");E.append("text").attr("class","nv-title").text(function(t){return t.title}),E.append("text").attr("class","nv-subtitle").attr("dy","1em").text(function(t){return t.subtitle}),e.width(m).height(y);var T=C.select(".nv-bulletWrap");i.transition(T).call(e);var F=f||S.tickFormat(m/100),D=C.selectAll("g.nv-tick").data(S.ticks(p?p:m/50),function(t){return this.textContent||F(t)}),z=D.enter().append("g").attr("class","nv-tick").attr("transform",function(t){return"translate("+A(t)+",0)"}).style("opacity",1e-6);z.append("line").attr("y1",y).attr("y2",7*y/6),z.append("text").attr("text-anchor","middle").attr("dy","1em").attr("y",7*y/6).text(F);var N=i.transition(D).attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1);N.select("line").attr("y1",y).attr("y2",7*y/6),N.select("text").attr("y",7*y/6),i.transition(D.exit()).attr("transform",function(t){return"translate("+S(t)+",0)"}).style("opacity",1e-6).remove()}),i.timer.flush(),t}var e=r.models.bullet(),n=r.models.tooltip(),a="left",o=!1,s={top:5,right:40,bottom:20,left:120},l=function(t){return t.ranges},u=function(t){return t.markers?t.markers:[]},c=function(t){return t.measures},h=null,d=55,f=null,p=null,g=null,v=i.dispatch();return n.duration(0).headerEnabled(!1),e.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.label,value:t.value,color:t.color},n.data(t).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(t){n()}),t.bullet=e,t.dispatch=v,t.tooltip=n,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{ranges:{get:function(){return l},set:function(t){l=t}},markers:{get:function(){return u},set:function(t){u=t}},measures:{get:function(){return c},set:function(t){c=t}},width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},tickFormat:{get:function(){return f},set:function(t){f=t}},ticks:{get:function(){return p},set:function(t){p=t}},noData:{get:function(){return g},set:function(t){g=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},orient:{get:function(){return a},set:function(t){a=t,o="right"==a||"bottom"==a}}}),r.utils.inheritOptions(t,e),r.utils.initOptions(t),t},r.models.candlestickBar=function(){"use strict";function t(_){return _.each(function(t){e=i.select(this);var _=r.utils.availableWidth(u,e,l),C=r.utils.availableHeight(c,e,l);r.utils.initSVG(e);var A=_/t[0].values.length*.45;d.domain(n||i.extent(t[0].values.map(p).concat(b))),w?d.range(o||[.5*_/t[0].values.length,_*(t[0].values.length-.5)/t[0].values.length]):d.range(o||[5+A/2,_-A/2-5]),f.domain(a||[i.min(t[0].values.map(x).concat(k)),i.max(t[0].values.map(y).concat(k))]).range(s||[C,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var E=i.select(this).selectAll("g.nv-wrap.nv-candlestickBar").data([t[0].values]),T=E.enter().append("g").attr("class","nvd3 nv-wrap nv-candlestickBar"),F=T.append("defs"),D=T.append("g"),z=E.select("g");D.append("g").attr("class","nv-ticks"),E.attr("transform","translate("+l.left+","+l.top+")"),e.on("click",function(t,e){S.chartClick({data:t,index:e,pos:i.event,id:h})}),F.append("clipPath").attr("id","nv-chart-clip-path-"+h).append("rect"),E.select("#nv-chart-clip-path-"+h+" rect").attr("width",_).attr("height",C),z.attr("clip-path",M?"url(#nv-chart-clip-path-"+h+")":"");var N=E.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});N.exit().remove();var L=N.enter().append("g");N.attr("class",function(t,e,n){return(v(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e});L.append("line").attr("class","nv-candlestick-lines").attr("transform",function(t,e){return"translate("+d(p(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return f(y(t,e))}).attr("x2",0).attr("y2",function(t,e){return f(x(t,e))}),L.append("rect").attr("class","nv-candlestick-rects nv-bars").attr("transform",function(t,e){return"translate("+(d(p(t,e))-A/2)+","+(f(g(t,e))-(v(t,e)>m(t,e)?f(m(t,e))-f(v(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(t,e){var n=v(t,e),i=m(t,e);return n>i?f(i)-f(n):f(n)-f(i)});N.select(".nv-candlestick-lines").transition().attr("transform",function(t,e){return"translate("+d(p(t,e))+",0)"}).attr("x1",0).attr("y1",function(t,e){return f(y(t,e))}).attr("x2",0).attr("y2",function(t,e){return f(x(t,e))}),N.select(".nv-candlestick-rects").transition().attr("transform",function(t,e){return"translate("+(d(p(t,e))-A/2)+","+(f(g(t,e))-(v(t,e)>m(t,e)?f(m(t,e))-f(v(t,e)):0))+")"}).attr("x",0).attr("y",0).attr("width",A).attr("height",function(t,e){var n=v(t,e),i=m(t,e);return n>i?f(i)-f(n):f(n)-f(i)})}),t}var e,n,a,o,s,l={top:0,right:0,bottom:0,left:0},u=null,c=null,h=Math.floor(1e4*Math.random()),d=i.scale.linear(),f=i.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=function(t){return t.open},m=function(t){return t.close},y=function(t){return t.high},x=function(t){return t.low},b=[],k=[],w=!1,M=!0,_=r.utils.defaultColor(),C=!1,S=i.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return t.highlightPoint=function(n,i){t.clearHighlights(),e.select(".nv-candlestickBar .nv-tick-0-"+n).classed("hover",i)},t.clearHighlights=function(){e.select(".nv-candlestickBar .nv-tick.hover").classed("hover",!1)},t.dispatch=S,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return u},set:function(t){u=t}},height:{get:function(){return c},set:function(t){c=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return a},set:function(t){a=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return s},set:function(t){s=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return k},set:function(t){k=t}},padData:{get:function(){return w},set:function(t){w=t}},clipEdge:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return h},set:function(t){h=t}},interactive:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},open:{get:function(){return v()},set:function(t){v=t}},close:{get:function(){return m()},set:function(t){m=t}},high:{get:function(){return y},set:function(t){y=t}},low:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return l},set:function(t){l.top=void 0!=t.top?t.top:l.top,l.right=void 0!=t.right?t.right:l.right,l.bottom=void 0!=t.bottom?t.bottom:l.bottom,l.left=void 0!=t.left?t.left:l.left}},color:{get:function(){return _},set:function(t){_=r.utils.getColor(t)}}}),r.utils.initOptions(t),t},r.models.cumulativeLineChart=function(){"use strict";function t(d){return L.reset(),L.models(o),y&&L.models(s),x&&L.models(l),d.each(function(d){function A(e,n){i.select(t.container).style("cursor","ew-resize")}function D(t,e){N.x=i.event.x,N.i=Math.round(z.invert(N.x)),I()}function L(e,n){i.select(t.container).style("cursor","auto"),C.index=N.i,T.stateChange(C)}function I(){et.data([N]);var e=t.duration();t.duration(0),t.update(),t.duration(e)}var O=i.select(this);r.utils.initSVG(O),O.classed("nv-chart-"+_,!0);var R=r.utils.availableWidth(g,O,f),j=r.utils.availableHeight(v,O,f);if(t.update=function(){0===F?O.call(t):O.transition().duration(F).call(t)},t.container=this,C.setter(P(d),t.update).getter(W(d)).update(),C.disabled=d.map(function(t){return!!t.disabled}),!S){var H;S={};for(H in C)C[H]instanceof Array?S[H]=C[H].slice(0):S[H]=C[H]}var B=i.behavior.drag().on("dragstart",A).on("drag",D).on("dragend",L);if(!(d&&d.length&&d.filter(function(t){return t.values.length}).length))return r.utils.noData(t,O),t;if(O.selectAll(".nv-noData").remove(),n=o.xScale(),a=o.yScale(),M)o.yDomain(null);else{var G=d.filter(function(t){return!t.disabled}).map(function(t,e){var n=i.extent(t.values,o.y());return n[0]<-.95&&(n[0]=-.95),[(n[0]-n[1])/(1+n[1]),(n[1]-n[0])/(1+n[0])]}),q=[i.min(G,function(t){return t[0]}),i.max(G,function(t){return t[1]})];o.yDomain(q)}z.domain([0,d[0].values.length-1]).range([0,R]).clamp(!0);var d=e(N.i,d),Y=w?"none":"all",V=O.selectAll("g.nv-wrap.nv-cumulativeLine").data([d]),U=V.enter().append("g").attr("class","nvd3 nv-wrap nv-cumulativeLine").append("g"),X=V.select("g");if(U.append("g").attr("class","nv-interactive"),U.append("g").attr("class","nv-x nv-axis").style("pointer-events","none"),U.append("g").attr("class","nv-y nv-axis"),U.append("g").attr("class","nv-background"),U.append("g").attr("class","nv-linesWrap").style("pointer-events",Y),U.append("g").attr("class","nv-avgLinesWrap").style("pointer-events","none"),U.append("g").attr("class","nv-legendWrap"),U.append("g").attr("class","nv-controlsWrap"),m?(u.width(R),X.select(".nv-legendWrap").datum(d).call(u),u.height()>f.top&&(f.top=u.height(),j=r.utils.availableHeight(v,O,f)),X.select(".nv-legendWrap").attr("transform","translate(0,"+-f.top+")")):X.select(".nv-legendWrap").selectAll("*").remove(),k){var Z=[{key:"Re-scale y-axis",disabled:!M}];c.width(140).color(["#444","#444","#444"]).rightAlign(!1).margin({top:5,right:0,bottom:5,left:20}),X.select(".nv-controlsWrap").datum(Z).attr("transform","translate(0,"+-f.top+")").call(c)}else X.select(".nv-controlsWrap").selectAll("*").remove();V.attr("transform","translate("+f.left+","+f.top+")"),b&&X.select(".nv-y.nv-axis").attr("transform","translate("+R+",0)");var $=d.filter(function(t){return t.tempDisabled});V.select(".tempDisabled").remove(),$.length&&V.append("text").attr("class","tempDisabled").attr("x",R/2).attr("y","-.71em").style("text-anchor","end").text($.map(function(t){return t.key}).join(", ")+" values cannot be calculated for this time period."),w&&(h.width(R).height(j).margin({left:f.left,top:f.top}).svgContainer(O).xScale(n),V.select(".nv-interactive").call(h)),U.select(".nv-background").append("rect"),X.select(".nv-background rect").attr("width",R).attr("height",j),o.y(function(t){return t.display.y}).width(R).height(j).color(d.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!d[e].disabled&&!d[e].tempDisabled}));var J=X.select(".nv-linesWrap").datum(d.filter(function(t){return!t.disabled&&!t.tempDisabled}));J.call(o),d.forEach(function(t,e){t.seriesIndex=e});var Q=d.filter(function(t){return!t.disabled&&!!E(t)}),K=X.select(".nv-avgLinesWrap").selectAll("line").data(Q,function(t){return t.key}),tt=function(t){var e=a(E(t));return e<0?0:e>j?j:e};K.enter().append("line").style("stroke-width",2).style("stroke-dasharray","10,10").style("stroke",function(t,e){return o.color()(t,t.seriesIndex)}).attr("x1",0).attr("x2",R).attr("y1",tt).attr("y2",tt),K.style("stroke-opacity",function(t){var e=a(E(t));return e<0||e>j?0:1}).attr("x1",0).attr("x2",R).attr("y1",tt).attr("y2",tt),K.exit().remove();var et=J.selectAll(".nv-indexLine").data([N]);et.enter().append("rect").attr("class","nv-indexLine").attr("width",3).attr("x",-2).attr("fill","red").attr("fill-opacity",.5).style("pointer-events","all").call(B),et.attr("transform",function(t){return"translate("+z(t.i)+",0)"}).attr("height",j),y&&(s.scale(n)._ticks(r.utils.calcTicksX(R/70,d)).tickSize(-j,0),X.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),X.select(".nv-x.nv-axis").call(s)),x&&(l.scale(a)._ticks(r.utils.calcTicksY(j/36,d)).tickSize(-R,0),X.select(".nv-y.nv-axis").call(l)),X.select(".nv-background rect").on("click",function(){N.x=i.mouse(this)[0],N.i=Math.round(z.invert(N.x)),C.index=N.i,T.stateChange(C),I()}),o.dispatch.on("elementClick",function(t){N.i=t.pointIndex,N.x=z(N.i),C.index=N.i,T.stateChange(C),I()}),c.dispatch.on("legendClick",function(e,n){e.disabled=!e.disabled,M=!e.disabled,C.rescaleY=M,T.stateChange(C),t.update()}),u.dispatch.on("stateChange",function(e){for(var n in e)C[n]=e[n];T.stateChange(C),t.update()}),h.dispatch.on("elementMousemove",function(e){o.clearHighlights();var n,i,a,u=[];if(d.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){i=r.interactiveBisect(s.values,e.pointXValue,t.x()),o.highlightPoint(l,i,!0);var c=s.values[i];"undefined"!=typeof c&&("undefined"==typeof n&&(n=c),"undefined"==typeof a&&(a=t.xScale()(t.x()(c,i))),u.push({key:s.key,value:t.y()(c,i),color:p(s,s.seriesIndex)}))}),u.length>2){var c=t.yScale().invert(e.mouseY),f=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),g=.03*f,v=r.nearestValueIndex(u.map(function(t){return t.value}),c,g);null!==v&&(u[v].highlight=!0)}var m=s.tickFormat()(t.x()(n,i),i);h.tooltip.valueFormatter(function(t,e){return l.tickFormat()(t)}).data({value:m,series:u})(),h.renderGuideLine(a)}),h.dispatch.on("elementMouseout",function(t){o.clearHighlights()}),T.on("changeState",function(e){"undefined"!=typeof e.disabled&&(d.forEach(function(t,n){t.disabled=e.disabled[n]}),C.disabled=e.disabled),"undefined"!=typeof e.index&&(N.i=e.index,N.x=z(N.i),C.index=e.index,et.data([N])),"undefined"!=typeof e.rescaleY&&(M=e.rescaleY),t.update()})}),L.renderEnd("cumulativeLineChart immediate"),t}function e(t,e){return I||(I=o.y()),e.map(function(e,n){if(!e.values)return e;var i=e.values[t];if(null==i)return e;var r=I(i,t);return r<-.95&&!D?(e.tempDisabled=!0,e):(e.tempDisabled=!1,e.values=e.values.map(function(t,e){return t.display={y:(I(t,e)-r)/(1+r)},t}),e)})}var n,a,o=r.models.line(),s=r.models.axis(),l=r.models.axis(),u=r.models.legend(),c=r.models.legend(),h=r.interactiveGuideline(),d=r.models.tooltip(),f={top:30,right:30,bottom:50,left:60},p=r.utils.defaultColor(),g=null,v=null,m=!0,y=!0,x=!0,b=!1,k=!0,w=!1,M=!0,_=o.id(),C=r.utils.state(),S=null,A=null,E=function(t){return t.average},T=i.dispatch("stateChange","changeState","renderEnd"),F=250,D=!1;C.index=0,C.rescaleY=M,s.orient("bottom").tickPadding(7),l.orient(b?"right":"left"),d.valueFormatter(function(t,e){return l.tickFormat()(t,e)}).headerFormatter(function(t,e){return s.tickFormat()(t,e)}),c.updateState(!1);var z=i.scale.linear(),N={i:0,x:0},L=r.utils.renderWatch(T,F),W=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),index:N.i,rescaleY:M}}},P=function(t){return function(e){void 0!==e.index&&(N.i=e.index),void 0!==e.rescaleY&&(M=e.rescaleY),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};o.dispatch.on("elementMouseover.tooltip",function(e){var n={x:t.x()(e.point),y:t.y()(e.point),color:e.point.color};e.point=n,d.data(e).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(t){d.hidden(!0)});var I=null;return t.dispatch=T,t.lines=o,t.legend=u,t.controls=c,t.xAxis=s,t.yAxis=l,t.interactiveLayer=h,t.state=C,t.tooltip=d,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return g},set:function(t){g=t}},height:{get:function(){return v},set:function(t){v=t}},rescaleY:{get:function(){return M},set:function(t){M=t}},showControls:{get:function(){return k},set:function(t){k=t}},showLegend:{get:function(){return m},set:function(t){m=t}},average:{get:function(){return E},set:function(t){E=t}},defaultState:{get:function(){return S},set:function(t){S=t}},noData:{get:function(){return A},set:function(t){A=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},noErrorCheck:{get:function(){return D},set:function(t){D=t}},margin:{get:function(){return f},set:function(t){f.top=void 0!==t.top?t.top:f.top,f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t),u.color(p)}},useInteractiveGuideline:{get:function(){return w},set:function(e){w=e,e===!0&&(t.interactive(!1),t.useVoronoi(!1))}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,l.orient(t?"right":"left")}},duration:{get:function(){return F},set:function(t){F=t,o.duration(F),s.duration(F),l.duration(F),L.reset(F)}}}),r.utils.inheritOptions(t,o),r.utils.initOptions(t),t},r.models.discreteBar=function(){"use strict";function t(f){return C.reset(),f.each(function(t){var f=h-c.left-c.right,_=d-c.top-c.bottom;e=i.select(this),r.utils.initSVG(e),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var S=n&&a?[]:t.map(function(t){return t.values.map(function(t,e){return{x:v(t,e),y:m(t,e),y0:t.y0}})});p.domain(n||i.merge(S).map(function(t){return t.x})).rangeBands(o||[0,f],.1),g.domain(a||i.extent(i.merge(S).map(function(t){return t.y}).concat(y))),b?g.range(s||[_-(g.domain()[0]<0?12:0),g.domain()[1]>0?12:0]):g.range(s||[_,0]),l=l||p,u=u||g.copy().range([g(0),g(0)]);var A=e.selectAll("g.nv-wrap.nv-discretebar").data([t]),E=A.enter().append("g").attr("class","nvd3 nv-wrap nv-discretebar"),T=E.append("g");A.select("g");T.append("g").attr("class","nv-groups"),A.attr("transform","translate("+c.left+","+c.top+")");
var F=A.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});F.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),F.exit().watchTransition(C,"discreteBar: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),F.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}),F.watchTransition(C,"discreteBar: groups").style("stroke-opacity",1).style("fill-opacity",.75);var D=F.selectAll("g.nv-bar").data(function(t){return t.values});D.exit().remove();var z=D.enter().append("g").attr("transform",function(t,e,n){return"translate("+(p(v(t,e))+.05*p.rangeBand())+", "+g(0)+")"}).on("mouseover",function(t,e){i.select(this).classed("hover",!0),w.elementMouseover({data:t,index:e,color:i.select(this).style("fill")})}).on("mouseout",function(t,e){i.select(this).classed("hover",!1),w.elementMouseout({data:t,index:e,color:i.select(this).style("fill")})}).on("mousemove",function(t,e){w.elementMousemove({data:t,index:e,color:i.select(this).style("fill")})}).on("click",function(t,e){var n=this;w.elementClick({data:t,index:e,color:i.select(this).style("fill"),event:i.event,element:n}),i.event.stopPropagation()}).on("dblclick",function(t,e){w.elementDblClick({data:t,index:e,color:i.select(this).style("fill")}),i.event.stopPropagation()});z.append("rect").attr("height",0).attr("width",.9*p.rangeBand()/t.length),b?(z.append("text").attr("text-anchor","middle"),D.select("text").text(function(t,e){return k(m(t,e))}).watchTransition(C,"discreteBar: bars text").attr("x",.9*p.rangeBand()/2).attr("y",function(t,e){return m(t,e)<0?g(m(t,e))-g(0)+12:-4})):D.selectAll("text").remove(),D.attr("class",function(t,e){return m(t,e)<0?"nv-bar negative":"nv-bar positive"}).style("fill",function(t,e){return t.color||x(t,e)}).style("stroke",function(t,e){return t.color||x(t,e)}).select("rect").attr("class",M).watchTransition(C,"discreteBar: bars rect").attr("width",.9*p.rangeBand()/t.length),D.watchTransition(C,"discreteBar: bars").attr("transform",function(t,e){var n=p(v(t,e))+.05*p.rangeBand(),i=m(t,e)<0?g(0):g(0)-g(m(t,e))<1?g(0)-1:g(m(t,e));return"translate("+n+", "+i+")"}).select("rect").attr("height",function(t,e){return Math.max(Math.abs(g(m(t,e))-g(0)),1)}),l=p.copy(),u=g.copy()}),C.renderEnd("discreteBar immediate"),t}var e,n,a,o,s,l,u,c={top:0,right:0,bottom:0,left:0},h=960,d=500,f=Math.floor(1e4*Math.random()),p=i.scale.ordinal(),g=i.scale.linear(),v=function(t){return t.x},m=function(t){return t.y},y=[0],x=r.utils.defaultColor(),b=!1,k=i.format(",.2f"),w=i.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),M="discreteBar",_=250,C=r.utils.renderWatch(w,_);return t.dispatch=w,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},forceY:{get:function(){return y},set:function(t){y=t}},showValues:{get:function(){return b},set:function(t){b=t}},x:{get:function(){return v},set:function(t){v=t}},y:{get:function(){return m},set:function(t){m=t}},xScale:{get:function(){return p},set:function(t){p=t}},yScale:{get:function(){return g},set:function(t){g=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return a},set:function(t){a=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return s},set:function(t){s=t}},valueFormat:{get:function(){return k},set:function(t){k=t}},id:{get:function(){return f},set:function(t){f=t}},rectClass:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},color:{get:function(){return x},set:function(t){x=r.utils.getColor(t)}},duration:{get:function(){return _},set:function(t){_=t,C.reset(_)}}}),r.utils.initOptions(t),t},r.models.discreteBarChart=function(){"use strict";function t(u){return _.reset(),_.models(a),g&&_.models(o),v&&_.models(s),u.each(function(u){var f=i.select(this);r.utils.initSVG(f);var k=r.utils.availableWidth(h,f,c),_=r.utils.availableHeight(d,f,c);if(t.update=function(){w.beforeUpdate(),f.transition().duration(M).call(t)},t.container=this,!(u&&u.length&&u.filter(function(t){return t.values.length}).length))return r.utils.noData(t,f),t;f.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale().clamp(!0);var C=f.selectAll("g.nv-wrap.nv-discreteBarWithAxes").data([u]),S=C.enter().append("g").attr("class","nvd3 nv-wrap nv-discreteBarWithAxes").append("g"),A=S.append("defs"),E=C.select("g");S.append("g").attr("class","nv-x nv-axis"),S.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),S.append("g").attr("class","nv-barsWrap"),S.append("g").attr("class","nv-legendWrap"),E.attr("transform","translate("+c.left+","+c.top+")"),p?(l.width(k),E.select(".nv-legendWrap").datum(u).call(l),l.height()>c.top&&(c.top=l.height(),_=r.utils.availableHeight(d,f,c)),C.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")):E.select(".nv-legendWrap").selectAll("*").remove(),m&&E.select(".nv-y.nv-axis").attr("transform","translate("+k+",0)"),a.width(k).height(_);var T=E.select(".nv-barsWrap").datum(u.filter(function(t){return!t.disabled}));if(T.transition().call(a),A.append("clipPath").attr("id","nv-x-label-clip-"+a.id()).append("rect"),E.select("#nv-x-label-clip-"+a.id()+" rect").attr("width",e.rangeBand()*(y?2:1)).attr("height",16).attr("x",-e.rangeBand()/(y?1:2)),g){o.scale(e)._ticks(r.utils.calcTicksX(k/100,u)).tickSize(-_,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+(n.range()[0]+(a.showValues()&&n.domain()[0]<0?16:0))+")"),E.select(".nv-x.nv-axis").call(o);var F=E.select(".nv-x.nv-axis").selectAll("g");y&&F.selectAll("text").attr("transform",function(t,e,n){return"translate(0,"+(n%2==0?"5":"17")+")"}),b&&F.selectAll(".tick text").attr("transform","rotate("+b+" 0,0)").style("text-anchor",b>0?"start":"end"),x&&E.selectAll(".tick text").call(r.utils.wrapTicks,t.xAxis.rangeBand())}v&&(s.scale(n)._ticks(r.utils.calcTicksY(_/36,u)).tickSize(-k,0),E.select(".nv-y.nv-axis").call(s)),E.select(".nv-zeroLine line").attr("x1",0).attr("x2",m?-k:k).attr("y1",n(0)).attr("y2",n(0))}),_.renderEnd("discreteBar chart immediate"),t}var e,n,a=r.models.discreteBar(),o=r.models.axis(),s=r.models.axis(),l=r.models.legend(),u=r.models.tooltip(),c={top:15,right:10,bottom:50,left:60},h=null,d=null,f=r.utils.getColor(),p=!1,g=!0,v=!0,m=!1,y=!1,x=!1,b=0,k=null,w=i.dispatch("beforeUpdate","renderEnd"),M=250;o.orient("bottom").showMaxMin(!1).tickFormat(function(t){return t}),s.orient(m?"right":"left").tickFormat(i.format(",.1f")),u.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return s.tickFormat()(t,e)}).keyFormatter(function(t,e){return o.tickFormat()(t,e)});var _=r.utils.renderWatch(w,M);return a.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:t.x()(e.data),value:t.y()(e.data),color:e.color},u.data(e).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(t){u()}),t.dispatch=w,t.discretebar=a,t.legend=l,t.xAxis=o,t.yAxis=s,t.tooltip=u,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},showLegend:{get:function(){return p},set:function(t){p=t}},staggerLabels:{get:function(){return y},set:function(t){y=t}},rotateLabels:{get:function(){return b},set:function(t){b=t}},wrapLabels:{get:function(){return x},set:function(t){x=!!t}},showXAxis:{get:function(){return g},set:function(t){g=t}},showYAxis:{get:function(){return v},set:function(t){v=t}},noData:{get:function(){return k},set:function(t){k=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return M},set:function(t){M=t,_.reset(M),a.duration(M),o.duration(M),s.duration(M)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),a.color(f),l.color(f)}},rightAlignYAxis:{get:function(){return m},set:function(t){m=t,s.orient(t?"right":"left")}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.distribution=function(){"use strict";function t(h){return f.reset(),h.each(function(t){var h=(a-("x"===s?n.left+n.right:n.top+n.bottom),"x"==s?"y":"x"),d=i.select(this);r.utils.initSVG(d),e=e||c;var p=d.selectAll("g.nv-distribution").data([t]),g=p.enter().append("g").attr("class","nvd3 nv-distribution"),v=(g.append("g"),p.select("g"));p.attr("transform","translate("+n.left+","+n.top+")");var m=v.selectAll("g.nv-dist").data(function(t){return t},function(t){return t.key});m.enter().append("g"),m.attr("class",function(t,e){return"nv-dist nv-series-"+e}).style("stroke",function(t,e){return u(t,e)});var y=m.selectAll("line.nv-dist"+s).data(function(t){return t.values});y.enter().append("line").attr(s+"1",function(t,n){return e(l(t,n))}).attr(s+"2",function(t,n){return e(l(t,n))}),f.transition(m.exit().selectAll("line.nv-dist"+s),"dist exit").attr(s+"1",function(t,e){return c(l(t,e))}).attr(s+"2",function(t,e){return c(l(t,e))}).style("stroke-opacity",0).remove(),y.attr("class",function(t,e){return"nv-dist"+s+" nv-dist"+s+"-"+e}).attr(h+"1",0).attr(h+"2",o),f.transition(y,"dist").attr(s+"1",function(t,e){return c(l(t,e))}).attr(s+"2",function(t,e){return c(l(t,e))}),e=c.copy()}),f.renderEnd("distribution immediate"),t}var e,n={top:0,right:0,bottom:0,left:0},a=400,o=8,s="x",l=function(t){return t[s]},u=r.utils.defaultColor(),c=i.scale.linear(),h=250,d=i.dispatch("renderEnd"),f=r.utils.renderWatch(d,h);return t.options=r.utils.optionsFunc.bind(t),t.dispatch=d,t.margin=function(e){return arguments.length?(n.top="undefined"!=typeof e.top?e.top:n.top,n.right="undefined"!=typeof e.right?e.right:n.right,n.bottom="undefined"!=typeof e.bottom?e.bottom:n.bottom,n.left="undefined"!=typeof e.left?e.left:n.left,t):n},t.width=function(e){return arguments.length?(a=e,t):a},t.axis=function(e){return arguments.length?(s=e,t):s},t.size=function(e){return arguments.length?(o=e,t):o},t.getData=function(e){return arguments.length?(l=i.functor(e),t):l},t.scale=function(e){return arguments.length?(c=e,t):c},t.color=function(e){return arguments.length?(u=r.utils.getColor(e),t):u},t.duration=function(e){return arguments.length?(h=e,f.reset(h),t):h},t},r.models.focus=function(t){"use strict";function e(b){return x.reset(),x.models(t),f&&x.models(o),p&&x.models(s),b.each(function(x){function b(t){var e=+("e"==t),n=e?1:-1,i=C/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}function k(){l.empty()||l.extent(v),F.data([l.empty()?n.domain():v]).each(function(t,e){var r=n(t[0])-n.range()[0],a=_-n(t[1]);i.select(this).select(".left").attr("width",r<0?0:r),i.select(this).select(".right").attr("x",n(t[1])).attr("width",a<0?0:a)})}function w(){v=l.empty()?null:l.extent();var t=l.empty()?n.domain():l.extent();Math.abs(t[0]-t[1])<=1||(y.brush({extent:t,brush:l}),k(),y.onBrush(t))}var M=i.select(this);r.utils.initSVG(M);var _=r.utils.availableWidth(h,M,u),C=d-u.top-u.bottom;e.update=function(){0===m?M.call(e):M.transition().duration(m).call(e)},e.container=this,n=t.xScale(),a=t.yScale();var S=M.selectAll("g.nv-focus").data([x]),A=S.enter().append("g").attr("class","nvd3 nv-focus").append("g"),E=S.select("g");S.attr("transform","translate("+u.left+","+u.top+")"),A.append("g").attr("class","nv-background").append("rect"),A.append("g").attr("class","nv-x nv-axis"),A.append("g").attr("class","nv-y nv-axis"),A.append("g").attr("class","nv-contentWrap"),A.append("g").attr("class","nv-brushBackground"),A.append("g").attr("class","nv-x nv-brush"),g&&E.select(".nv-y.nv-axis").attr("transform","translate("+_+",0)"),E.select(".nv-background rect").attr("width",_).attr("height",C),t.width(_).height(C).color(x.map(function(t,e){return t.color||c(t,e)}).filter(function(t,e){return!x[e].disabled}));var T=E.select(".nv-contentWrap").datum(x.filter(function(t){return!t.disabled}));i.transition(T).call(t),l.x(n).on("brush",function(){w()}),v&&l.extent(v);var F=E.select(".nv-brushBackground").selectAll("g").data([v||l.extent()]),D=F.enter().append("g");D.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",C),D.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",C);var z=E.select(".nv-x.nv-brush").call(l);z.selectAll("rect").attr("height",C),z.selectAll(".resize").append("path").attr("d",b),w(),E.select(".nv-background rect").attr("width",_).attr("height",C),f&&(o.scale(n)._ticks(r.utils.calcTicksX(_/100,x)).tickSize(-C,0),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),i.transition(E.select(".nv-x.nv-axis")).call(o)),p&&(s.scale(a)._ticks(r.utils.calcTicksY(C/36,x)).tickSize(-_,0),i.transition(E.select(".nv-y.nv-axis")).call(s)),E.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")")}),x.renderEnd("focus immediate"),e}var n,a,t=t||r.models.line(),o=r.models.axis(),s=r.models.axis(),l=i.svg.brush(),u={top:10,right:0,bottom:30,left:0},c=r.utils.defaultColor(),h=null,d=70,f=!0,p=!1,g=!1,v=null,m=250,y=i.dispatch("brush","onBrush","renderEnd");t.interactive(!1),t.pointActive(function(t){return!1});var x=r.utils.renderWatch(y,m);return e.dispatch=y,e.content=t,e.brush=l,e.xAxis=o,e.yAxis=s,e.options=r.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},showXAxis:{get:function(){return f},set:function(t){f=t}},showYAxis:{get:function(){return p},set:function(t){p=t}},brushExtent:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return u},set:function(t){u.top=void 0!==t.top?t.top:u.top,u.right=void 0!==t.right?t.right:u.right,u.bottom=void 0!==t.bottom?t.bottom:u.bottom,u.left=void 0!==t.left?t.left:u.left}},duration:{get:function(){return m},set:function(e){m=e,x.reset(m),t.duration(m),o.duration(m),s.duration(m)}},color:{get:function(){return c},set:function(e){c=r.utils.getColor(e),t.color(c)}},interpolate:{get:function(){return t.interpolate()},set:function(e){t.interpolate(e)}},xTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t)}},yTickFormat:{get:function(){return s.tickFormat()},set:function(t){s.tickFormat(t)}},x:{get:function(){return t.x()},set:function(e){t.x(e)}},y:{get:function(){return t.y()},set:function(e){t.y(e)}},rightAlignYAxis:{get:function(){return g},set:function(t){g=t,s.orient(g?"right":"left")}}}),r.utils.inheritOptions(e,t),r.utils.initOptions(e),e},r.models.forceDirectedGraph=function(){"use strict";function t(s){return k.reset(),s.each(function(s){o=i.select(this),r.utils.initSVG(o);var c=r.utils.availableWidth(n,o,e),k=r.utils.availableHeight(a,o,e);if(o.attr("width",c).attr("height",k),!(s&&s.links&&s.nodes))return r.utils.noData(t,o),t;o.selectAll(".nv-noData").remove(),o.selectAll("*").remove();var w=new Set;s.nodes.forEach(function(t){var e=Object.keys(t);e.forEach(function(t){w.add(t)})});var M=i.layout.force().nodes(s.nodes).links(s.links).size([c,k]).linkStrength(h).friction(d).linkDistance(f).charge(p).gravity(g).theta(v).alpha(m).start(),_=o.selectAll(".link").data(s.links).enter().append("line").attr("class","nv-force-link").style("stroke-width",function(t){return Math.sqrt(t.value)}),C=o.selectAll(".node").data(s.nodes).enter().append("g").attr("class","nv-force-node").call(M.drag);C.append("circle").attr("r",y).style("fill",function(t){return l(t)}).on("mouseover",function(t){o.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.py),o.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.px);var e=l(t);t.series=[],w.forEach(function(n){t.series.push({color:e,key:n,value:t[n]})}),u.data(t).hidden(!1)}).on("mouseout",function(t){u.hidden(!0)}),u.headerFormatter(function(t){return"Node"}),b(_),x(C),M.on("tick",function(){_.attr("x1",function(t){return t.source.x}).attr("y1",function(t){return t.source.y}).attr("x2",function(t){return t.target.x}).attr("y2",function(t){return t.target.y}),C.attr("transform",function(t){return"translate("+t.x+", "+t.y+")"})})}),t}var e={top:2,right:0,bottom:2,left:0},n=400,a=32,o=null,s=i.dispatch("renderEnd"),l=r.utils.getColor(["#000"]),u=r.models.tooltip(),c=null,h=.1,d=.9,f=30,p=-120,g=.1,v=.8,m=.1,y=5,x=function(t){},b=function(t){},k=r.utils.renderWatch(s);return t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return a},set:function(t){a=t}},linkStrength:{get:function(){return h},set:function(t){h=t}},friction:{get:function(){return d},set:function(t){d=t}},linkDist:{get:function(){return f},set:function(t){f=t}},charge:{get:function(){return p},set:function(t){p=t}},gravity:{get:function(){return g},set:function(t){g=t}},theta:{get:function(){return v},set:function(t){v=t}},alpha:{get:function(){return m},set:function(t){m=t}},radius:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return getX},set:function(t){getX=i.functor(t)}},y:{get:function(){return getY},set:function(t){getY=i.functor(t)}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t)}},noData:{get:function(){return c},set:function(t){c=t}},nodeExtras:{get:function(){return x},set:function(t){x=t}},linkExtras:{get:function(){return b},set:function(t){b=t}}}),t.dispatch=s,t.tooltip=u,r.utils.initOptions(t),t},r.models.furiousLegend=function(){"use strict";function t(y){function x(t,e){return"furious"!=m?"#000":g?t.disengaged?l(t,e):"#fff":g?void 0:t.disabled?l(t,e):"#fff"}function b(t,e){return g&&"furious"==m?t.disengaged?"#fff":l(t,e):t.disabled?"#fff":l(t,e)}return y.each(function(t){var y=n-e.left-e.right,k=i.select(this);r.utils.initSVG(k);var w=k.selectAll("g.nv-legend").data([t]),M=(w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),w.select("g"));w.attr("transform","translate("+e.left+","+e.top+")");var _,C=M.selectAll(".nv-series").data(function(t){return"furious"!=m?t:t.filter(function(t){return!!g||!t.disengaged})}),S=C.enter().append("g").attr("class","nv-series");if("classic"==m)S.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),_=C.select("circle");else if("furious"==m){S.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),_=C.select("rect"),S.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var A=C.select(".nv-check-box");A.each(function(t,e){i.select(this).selectAll("path").attr("stroke",x(t,e))})}S.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var E=C.select("text.nv-legend-text");C.on("mouseover",function(t,e){v.legendMouseover(t,e)}).on("mouseout",function(t,e){v.legendMouseout(t,e)}).on("click",function(t,e){v.legendClick(t,e);var n=C.data();if(f){if("classic"==m)p?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==m)if(g)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!g){t.disabled=!t.disabled,t.userDisabled=t.disabled;var i=n.filter(function(t){return!t.disengaged});i.every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}v.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=m||!g)&&(v.legendDblclick(t,e),f)){var n=C.data();n.forEach(function(t){t.disabled=!0,"furious"==m&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==m&&(t.userDisabled=t.disabled),v.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),C.classed("nv-disabled",function(t){return t.userDisabled}),C.exit().remove(),E.attr("fill",x).text(function(t){return s(o(t))});var T;switch(m){case"furious":T=23;break;case"classic":T=20}if(c){var F=[];C.each(function(t,e){var n;if(s(o(t))&&s(o(t)).length>u){var a=s(o(t)).substring(0,u);n=i.select(this).select("text").text(a+"..."),i.select(this).append("svg:title").text(s(o(t)))}else n=i.select(this).select("text");var l;try{if(l=n.node().getComputedTextLength(),l<=0)throw Error()}catch(c){l=r.utils.calcApproxTextWidth(n)}F.push(l+h)});for(var D=0,z=0,N=[];z<y&&D<F.length;)N[D]=F[D],z+=F[D++];for(0===D&&(D=1);z>y&&D>1;){N=[],D--;for(var L=0;L<F.length;L++)F[L]>(N[L%D]||0)&&(N[L%D]=F[L]);z=N.reduce(function(t,e,n,i){return t+e})}for(var W=[],P=0,I=0;P<D;P++)W[P]=I,I+=N[P];C.attr("transform",function(t,e){return"translate("+W[e%D]+","+(5+Math.floor(e/D)*T)+")"}),d?M.attr("transform","translate("+(n-e.right-z)+","+e.top+")"):M.attr("transform","translate(0,"+e.top+")"),a=e.top+e.bottom+Math.ceil(F.length/D)*T}else{var O,R=5,j=5,H=0;C.attr("transform",function(t,r){var a=i.select(this).select("text").node().getComputedTextLength()+h;return O=j,n<e.left+e.right+O+a&&(j=O=5,R+=T),j+=a,j>H&&(H=j),"translate("+O+","+R+")"}),M.attr("transform","translate("+(n-e.right-H)+","+e.top+")"),a=e.top+e.bottom+R+15}"furious"==m&&_.attr("width",function(t,e){return E[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),_.style("fill",b).style("stroke",function(t,e){return t.color||l(t,e)})}),t}var e={top:5,right:0,bottom:5,left:0},n=400,a=20,o=function(t){return t.key},s=function(t){return t},l=r.utils.getColor(),u=20,c=!0,h=28,d=!0,f=!0,p=!1,g=!1,v=i.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),m="classic";return t.dispatch=v,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return a},set:function(t){a=t}},key:{get:function(){return o},set:function(t){o=t}},keyFormatter:{get:function(){return s},set:function(t){s=t}},align:{get:function(){return c},set:function(t){c=t}},rightAlign:{get:function(){return d},set:function(t){d=t}},maxKeyLength:{get:function(){return u},set:function(t){u=t}},padding:{get:function(){return h},set:function(t){h=t}},updateState:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return p},set:function(t){p=t}},expanded:{get:function(){return g},set:function(t){g=t}},vers:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t)}}}),r.utils.initOptions(t),t},r.models.historicalBar=function(){"use strict";function t(_){return _.each(function(t){M.reset(),h=i.select(this);var _=r.utils.availableWidth(l,h,s),C=r.utils.availableHeight(u,h,s);r.utils.initSVG(h),d.domain(e||i.extent(t[0].values.map(p).concat(v))),y?d.range(a||[.5*_/t[0].values.length,_*(t[0].values.length-.5)/t[0].values.length]):d.range(a||[0,_]),f.domain(n||i.extent(t[0].values.map(g).concat(m))).range(o||[C,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var S=h.selectAll("g.nv-wrap.nv-historicalBar-"+c).data([t[0].values]),A=S.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBar-"+c),E=A.append("defs"),T=A.append("g"),F=S.select("g");T.append("g").attr("class","nv-bars"),S.attr("transform","translate("+s.left+","+s.top+")"),h.on("click",function(t,e){k.chartClick({data:t,index:e,pos:i.event,id:c})}),E.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),S.select("#nv-chart-clip-path-"+c+" rect").attr("width",_).attr("height",C),F.attr("clip-path",x?"url(#nv-chart-clip-path-"+c+")":"");var D=S.select(".nv-bars").selectAll(".nv-bar").data(function(t){return t},function(t,e){return p(t,e)});D.exit().remove(),D.enter().append("rect").attr("x",0).attr("y",function(t,e){return r.utils.NaNtoZero(f(Math.max(0,g(t,e))))}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.abs(f(g(t,e))-f(0)))}).attr("transform",function(e,n){return"translate("+(d(p(e,n))-_/t[0].values.length*.45)+",0)"}).on("mouseover",function(t,e){w&&(i.select(this).classed("hover",!0),k.elementMouseover({data:t,index:e,color:i.select(this).style("fill")}))}).on("mouseout",function(t,e){w&&(i.select(this).classed("hover",!1),k.elementMouseout({data:t,index:e,color:i.select(this).style("fill")}))}).on("mousemove",function(t,e){w&&k.elementMousemove({data:t,index:e,color:i.select(this).style("fill")})}).on("click",function(t,e){w&&(k.elementClick({data:t,index:e,color:i.select(this).style("fill")}),i.event.stopPropagation())}).on("dblclick",function(t,e){w&&(k.elementDblClick({data:t,index:e,color:i.select(this).style("fill")}),i.event.stopPropagation())}),D.attr("fill",function(t,e){return b(t,e)}).attr("class",function(t,e,n){return(g(t,e)<0?"nv-bar negative":"nv-bar positive")+" nv-bar-"+n+"-"+e}).watchTransition(M,"bars").attr("transform",function(e,n){return"translate("+(d(p(e,n))-_/t[0].values.length*.45)+",0)"}).attr("width",_/t[0].values.length*.9),D.watchTransition(M,"bars").attr("y",function(t,e){var n=g(t,e)<0?f(0):f(0)-f(g(t,e))<1?f(0)-1:f(g(t,e));return r.utils.NaNtoZero(n)}).attr("height",function(t,e){return r.utils.NaNtoZero(Math.max(Math.abs(f(g(t,e))-f(0)),1))})}),M.renderEnd("historicalBar immediate"),t}var e,n,a,o,s={top:0,right:0,bottom:0,left:0},l=null,u=null,c=Math.floor(1e4*Math.random()),h=null,d=i.scale.linear(),f=i.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=[],m=[0],y=!1,x=!0,b=r.utils.defaultColor(),k=i.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),w=!0,M=r.utils.renderWatch(k,0);return t.highlightPoint=function(t,e){h.select(".nv-bars .nv-bar-0-"+t).classed("hover",e)},t.clearHighlights=function(){h.select(".nv-bars .nv-bar.hover").classed("hover",!1)},t.dispatch=k,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},forceX:{get:function(){return v},set:function(t){v=t}},forceY:{get:function(){return m},set:function(t){m=t}},padData:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},clipEdge:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return w},set:function(t){w=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return b},set:function(t){b=r.utils.getColor(t)}}}),r.utils.initOptions(t),t},r.models.historicalBarChart=function(t){"use strict";function e(t){return t.each(function(h){S.reset(),S.models(o),m&&S.models(s),y&&S.models(l);var M=i.select(this);r.utils.initSVG(M);var A=r.utils.availableWidth(p,M,d),E=r.utils.availableHeight(g,M,d);if(e.update=function(){M.transition().duration(C).call(e)},e.container=this,k.disabled=h.map(function(t){return!!t.disabled}),!w){var T;w={};for(T in k)k[T]instanceof Array?w[T]=k[T].slice(0):w[T]=k[T]}if(!(h&&h.length&&h.filter(function(t){return t.values.length}).length))return r.utils.noData(e,M),e;M.selectAll(".nv-noData").remove(),n=o.xScale(),a=o.yScale();var F=M.selectAll("g.nv-wrap.nv-historicalBarChart").data([h]),D=F.enter().append("g").attr("class","nvd3 nv-wrap nv-historicalBarChart").append("g"),z=F.select("g");D.append("g").attr("class","nv-x nv-axis"),D.append("g").attr("class","nv-y nv-axis"),D.append("g").attr("class","nv-barsWrap"),D.append("g").attr("class","nv-legendWrap"),D.append("g").attr("class","nv-interactive"),v?(u.width(A),z.select(".nv-legendWrap").datum(h).call(u),u.height()>d.top&&(d.top=u.height(),E=r.utils.availableHeight(g,M,d)),F.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")")):z.select(".nv-legendWrap").selectAll("*").remove(),F.attr("transform","translate("+d.left+","+d.top+")"),x&&z.select(".nv-y.nv-axis").attr("transform","translate("+A+",0)"),b&&(c.width(A).height(E).margin({left:d.left,top:d.top}).svgContainer(M).xScale(n),F.select(".nv-interactive").call(c)),o.width(A).height(E).color(h.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!h[e].disabled}));var N=z.select(".nv-barsWrap").datum(h.filter(function(t){return!t.disabled}));N.transition().call(o),m&&(s.scale(n)._ticks(r.utils.calcTicksX(A/100,h)).tickSize(-E,0),z.select(".nv-x.nv-axis").attr("transform","translate(0,"+a.range()[0]+")"),z.select(".nv-x.nv-axis").transition().call(s)),y&&(l.scale(a)._ticks(r.utils.calcTicksY(E/36,h)).tickSize(-A,0),z.select(".nv-y.nv-axis").transition().call(l)),c.dispatch.on("elementMousemove",function(t){o.clearHighlights();var n,i,a,u=[];h.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(s,l){i=r.interactiveBisect(s.values,t.pointXValue,e.x()),o.highlightPoint(i,!0);var c=s.values[i];void 0!==c&&(void 0===n&&(n=c),void 0===a&&(a=e.xScale()(e.x()(c,i))),u.push({key:s.key,value:e.y()(c,i),color:f(s,s.seriesIndex),data:s.values[i]}))});var d=s.tickFormat()(e.x()(n,i));c.tooltip.valueFormatter(function(t,e){return l.tickFormat()(t)}).data({value:d,index:i,series:u})(),c.renderGuideLine(a)}),c.dispatch.on("elementMouseout",function(t){_.tooltipHide(),o.clearHighlights()}),u.dispatch.on("legendClick",function(n,i){n.disabled=!n.disabled,h.filter(function(t){return!t.disabled}).length||h.map(function(t){return t.disabled=!1,F.selectAll(".nv-series").classed("disabled",!1),t}),k.disabled=h.map(function(t){return!!t.disabled}),_.stateChange(k),t.transition().call(e)}),u.dispatch.on("legendDblclick",function(t){h.forEach(function(t){t.disabled=!0}),t.disabled=!1,k.disabled=h.map(function(t){return!!t.disabled}),_.stateChange(k),e.update()}),_.on("changeState",function(t){"undefined"!=typeof t.disabled&&(h.forEach(function(e,n){e.disabled=t.disabled[n]}),k.disabled=t.disabled),e.update()})}),S.renderEnd("historicalBarChart immediate"),e}var n,a,o=t||r.models.historicalBar(),s=r.models.axis(),l=r.models.axis(),u=r.models.legend(),c=r.interactiveGuideline(),h=r.models.tooltip(),d={top:30,right:90,bottom:50,left:90},f=r.utils.defaultColor(),p=null,g=null,v=!1,m=!0,y=!0,x=!1,b=!1,k={},w=null,M=null,_=i.dispatch("tooltipHide","stateChange","changeState","renderEnd"),C=250;
s.orient("bottom").tickPadding(7),l.orient(x?"right":"left"),h.duration(0).headerEnabled(!1).valueFormatter(function(t,e){return l.tickFormat()(t,e)}).headerFormatter(function(t,e){return s.tickFormat()(t,e)});var S=r.utils.renderWatch(_,0);return o.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:e.x()(t.data),value:e.y()(t.data),color:t.color},h.data(t).hidden(!1)}),o.dispatch.on("elementMouseout.tooltip",function(t){h.hidden(!0)}),o.dispatch.on("elementMousemove.tooltip",function(t){h()}),e.dispatch=_,e.bars=o,e.legend=u,e.xAxis=s,e.yAxis=l,e.interactiveLayer=c,e.tooltip=h,e.options=r.utils.optionsFunc.bind(e),e._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},showLegend:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return m},set:function(t){m=t}},showYAxis:{get:function(){return y},set:function(t){y=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),u.color(f),o.color(f)}},duration:{get:function(){return C},set:function(t){C=t,S.reset(C),l.duration(C),s.duration(C)}},rightAlignYAxis:{get:function(){return x},set:function(t){x=t,l.orient(t?"right":"left")}},useInteractiveGuideline:{get:function(){return b},set:function(t){b=t,t===!0&&e.interactive(!1)}}}),r.utils.inheritOptions(e,o),r.utils.initOptions(e),e},r.models.ohlcBarChart=function(){var t=r.models.historicalBarChart(r.models.ohlcBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,i=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+i+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},r.models.candlestickBarChart=function(){var t=r.models.historicalBarChart(r.models.candlestickBar());return t.useInteractiveGuideline(!0),t.interactiveLayer.tooltip.contentGenerator(function(e){var n=e.series[0].data,i=n.open<n.close?"2ca02c":"d62728";return'<h3 style="color: #'+i+'">'+e.value+"</h3><table><tr><td>open:</td><td>"+t.yAxis.tickFormat()(n.open)+"</td></tr><tr><td>close:</td><td>"+t.yAxis.tickFormat()(n.close)+"</td></tr><tr><td>high</td><td>"+t.yAxis.tickFormat()(n.high)+"</td></tr><tr><td>low:</td><td>"+t.yAxis.tickFormat()(n.low)+"</td></tr></table>"}),t},r.models.legend=function(){"use strict";function t(y){function x(t,e){return"furious"!=m?"#000":g?t.disengaged?"#000":"#fff":g?void 0:(t.color||(t.color=l(t,e)),t.disabled?t.color:"#fff")}function b(t,e){return g&&"furious"==m&&t.disengaged?"#eee":t.color||l(t,e)}function k(t,e){return g&&"furious"==m?1:t.disabled?0:1}return y.each(function(t){var l=n-e.left-e.right,y=i.select(this);r.utils.initSVG(y);var w=y.selectAll("g.nv-legend").data([t]),M=w.enter().append("g").attr("class","nvd3 nv-legend").append("g"),_=w.select("g");w.attr("transform","translate("+e.left+","+e.top+")");var C,S,A=_.selectAll(".nv-series").data(function(t){return"furious"!=m?t:t.filter(function(t){return!!g||!t.disengaged})}),E=A.enter().append("g").attr("class","nv-series");switch(m){case"furious":S=23;break;case"classic":S=20}if("classic"==m)E.append("circle").style("stroke-width",2).attr("class","nv-legend-symbol").attr("r",5),C=A.select(".nv-legend-symbol");else if("furious"==m){E.append("rect").style("stroke-width",2).attr("class","nv-legend-symbol").attr("rx",3).attr("ry",3),C=A.select(".nv-legend-symbol"),E.append("g").attr("class","nv-check-box").property("innerHTML",'<path d="M0.5,5 L22.5,5 L22.5,26.5 L0.5,26.5 L0.5,5 Z" class="nv-box"></path><path d="M5.5,12.8618467 L11.9185089,19.2803556 L31,0.198864511" class="nv-check"></path>').attr("transform","translate(-10,-8)scale(0.5)");var T=A.select(".nv-check-box");T.each(function(t,e){i.select(this).selectAll("path").attr("stroke",x(t,e))})}E.append("text").attr("text-anchor","start").attr("class","nv-legend-text").attr("dy",".32em").attr("dx","8");var F=A.select("text.nv-legend-text");A.on("mouseover",function(t,e){v.legendMouseover(t,e)}).on("mouseout",function(t,e){v.legendMouseout(t,e)}).on("click",function(t,e){v.legendClick(t,e);var n=A.data();if(f){if("classic"==m)p?(n.forEach(function(t){t.disabled=!0}),t.disabled=!1):(t.disabled=!t.disabled,n.every(function(t){return t.disabled})&&n.forEach(function(t){t.disabled=!1}));else if("furious"==m)if(g)t.disengaged=!t.disengaged,t.userDisabled=void 0==t.userDisabled?!!t.disabled:t.userDisabled,t.disabled=t.disengaged||t.userDisabled;else if(!g){t.disabled=!t.disabled,t.userDisabled=t.disabled;var i=n.filter(function(t){return!t.disengaged});i.every(function(t){return t.userDisabled})&&n.forEach(function(t){t.disabled=t.userDisabled=!1})}v.stateChange({disabled:n.map(function(t){return!!t.disabled}),disengaged:n.map(function(t){return!!t.disengaged})})}}).on("dblclick",function(t,e){if(("furious"!=m||!g)&&(v.legendDblclick(t,e),f)){var n=A.data();n.forEach(function(t){t.disabled=!0,"furious"==m&&(t.userDisabled=t.disabled)}),t.disabled=!1,"furious"==m&&(t.userDisabled=t.disabled),v.stateChange({disabled:n.map(function(t){return!!t.disabled})})}}),A.classed("nv-disabled",function(t){return t.userDisabled}),A.exit().remove(),F.attr("fill",x).text(function(t){return s(o(t))});var D=0;if(c){var z=[];A.each(function(t,e){var n;if(s(o(t))&&s(o(t)).length>u){var a=s(o(t)).substring(0,u);n=i.select(this).select("text").text(a+"..."),i.select(this).append("svg:title").text(s(o(t)))}else n=i.select(this).select("text");var l;try{if(l=n.node().getComputedTextLength(),l<=0)throw Error()}catch(c){l=r.utils.calcApproxTextWidth(n)}z.push(l+h)});var N=0,L=[];for(D=0;D<l&&N<z.length;)L[N]=z[N],D+=z[N++];for(0===N&&(N=1);D>l&&N>1;){L=[],N--;for(var W=0;W<z.length;W++)z[W]>(L[W%N]||0)&&(L[W%N]=z[W]);D=L.reduce(function(t,e,n,i){return t+e})}for(var P=[],I=0,O=0;I<N;I++)P[I]=O,O+=L[I];A.attr("transform",function(t,e){return"translate("+P[e%N]+","+(5+Math.floor(e/N)*S)+")"}),d?_.attr("transform","translate("+(n-e.right-D)+","+e.top+")"):_.attr("transform","translate(0,"+e.top+")"),a=e.top+e.bottom+Math.ceil(z.length/N)*S}else{var R,j=5,H=5,B=0;A.attr("transform",function(t,r){var a=i.select(this).select("text").node().getComputedTextLength()+h;return R=H,n<e.left+e.right+R+a&&(H=R=5,j+=S),H+=a,H>B&&(B=H),D<R+B&&(D=R+B),"translate("+R+","+j+")"}),_.attr("transform","translate("+(n-e.right-B)+","+e.top+")"),a=e.top+e.bottom+j+15}if("furious"==m){C.attr("width",function(t,e){return F[0][e].getComputedTextLength()+27}).attr("height",18).attr("y",-9).attr("x",-15),M.insert("rect",":first-child").attr("class","nv-legend-bg").attr("fill","#eee").attr("opacity",0);var G=_.select(".nv-legend-bg");G.transition().duration(300).attr("x",-S).attr("width",D+S-12).attr("height",a+10).attr("y",-e.top-10).attr("opacity",g?1:0)}C.style("fill",b).style("fill-opacity",k).style("stroke",b)}),t}var e={top:5,right:0,bottom:5,left:0},n=400,a=20,o=function(t){return t.key},s=function(t){return t},l=r.utils.getColor(),u=20,c=!0,h=32,d=!0,f=!0,p=!1,g=!1,v=i.dispatch("legendClick","legendDblclick","legendMouseover","legendMouseout","stateChange"),m="classic";return t.dispatch=v,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return a},set:function(t){a=t}},key:{get:function(){return o},set:function(t){o=t}},keyFormatter:{get:function(){return s},set:function(t){s=t}},align:{get:function(){return c},set:function(t){c=t}},maxKeyLength:{get:function(){return u},set:function(t){u=t}},rightAlign:{get:function(){return d},set:function(t){d=t}},padding:{get:function(){return h},set:function(t){h=t}},updateState:{get:function(){return f},set:function(t){f=t}},radioButtonMode:{get:function(){return p},set:function(t){p=t}},expanded:{get:function(){return g},set:function(t){g=t}},vers:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return e},set:function(t){e.top=void 0!==t.top?t.top:e.top,e.right=void 0!==t.right?t.right:e.right,e.bottom=void 0!==t.bottom?t.bottom:e.bottom,e.left=void 0!==t.left?t.left:e.left}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t)}}}),r.utils.initOptions(t),t},r.models.line=function(){"use strict";function t(y){return w.reset(),w.models(a),y.each(function(t){u=i.select(this);var y=r.utils.availableWidth(s,u,o),x=r.utils.availableHeight(l,u,o);r.utils.initSVG(u),e=a.xScale(),n=a.yScale(),b=b||e,k=k||n;var M=u.selectAll("g.nv-wrap.nv-line").data([t]),_=M.enter().append("g").attr("class","nvd3 nv-wrap nv-line"),C=_.append("defs"),S=_.append("g"),A=M.select("g");S.append("g").attr("class","nv-groups"),S.append("g").attr("class","nv-scatterWrap"),M.attr("transform","translate("+o.left+","+o.top+")"),a.width(y).height(x);var E=M.select(".nv-scatterWrap");E.call(a),C.append("clipPath").attr("id","nv-edge-clip-"+a.id()).append("rect"),M.select("#nv-edge-clip-"+a.id()+" rect").attr("width",y).attr("height",x>0?x:0),A.attr("clip-path",v?"url(#nv-edge-clip-"+a.id()+")":""),E.attr("clip-path",v?"url(#nv-edge-clip-"+a.id()+")":"");var T=M.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});T.enter().append("g").style("stroke-opacity",1e-6).style("stroke-width",function(t){return t.strokeWidth||c}).style("fill-opacity",1e-6),T.exit().remove(),T.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return h(t,e)}).style("stroke",function(t,e){return h(t,e)}),T.watchTransition(w,"line: groups").style("stroke-opacity",1).style("fill-opacity",function(t){return t.fillOpacity||.5});var F=T.selectAll("path.nv-area").data(function(t){return g(t)?[t]:[]});F.enter().append("path").attr("class","nv-area").attr("d",function(t){return i.svg.area().interpolate(m).defined(p).x(function(t,e){return r.utils.NaNtoZero(b(d(t,e)))}).y0(function(t,e){return r.utils.NaNtoZero(k(f(t,e)))}).y1(function(t,e){return k(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])}),T.exit().selectAll("path.nv-area").remove(),F.watchTransition(w,"line: areaPaths").attr("d",function(t){return i.svg.area().interpolate(m).defined(p).x(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}).y0(function(t,e){return r.utils.NaNtoZero(n(f(t,e)))}).y1(function(t,e){return n(n.domain()[0]<=0?n.domain()[1]>=0?0:n.domain()[1]:n.domain()[0])}).apply(this,[t.values])});var D=T.selectAll("path.nv-line").data(function(t){return[t.values]});D.enter().append("path").attr("class","nv-line").attr("d",i.svg.line().interpolate(m).defined(p).x(function(t,e){return r.utils.NaNtoZero(b(d(t,e)))}).y(function(t,e){return r.utils.NaNtoZero(k(f(t,e)))})),D.watchTransition(w,"line: linePaths").attr("d",i.svg.line().interpolate(m).defined(p).x(function(t,n){return r.utils.NaNtoZero(e(d(t,n)))}).y(function(t,e){return r.utils.NaNtoZero(n(f(t,e)))})),b=e.copy(),k=n.copy()}),w.renderEnd("line immediate"),t}var e,n,a=r.models.scatter(),o={top:0,right:0,bottom:0,left:0},s=960,l=500,u=null,c=1.5,h=r.utils.defaultColor(),d=function(t){return t.x},f=function(t){return t.y},p=function(t,e){return!isNaN(f(t,e))&&null!==f(t,e)},g=function(t){return t.area},v=!1,m="linear",y=250,x=i.dispatch("elementClick","elementMouseover","elementMouseout","renderEnd");a.pointSize(16).pointDomain([16,256]);var b,k,w=r.utils.renderWatch(x,y);return t.dispatch=x,t.scatter=a,a.dispatch.on("elementClick",function(){x.elementClick.apply(this,arguments)}),a.dispatch.on("elementMouseover",function(){x.elementMouseover.apply(this,arguments)}),a.dispatch.on("elementMouseout",function(){x.elementMouseout.apply(this,arguments)}),t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},defined:{get:function(){return p},set:function(t){p=t}},interpolate:{get:function(){return m},set:function(t){m=t}},clipEdge:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},duration:{get:function(){return y},set:function(t){y=t,w.reset(y),a.duration(y)}},isArea:{get:function(){return g},set:function(t){g=i.functor(t)}},x:{get:function(){return d},set:function(t){d=t,a.x(t)}},y:{get:function(){return f},set:function(t){f=t,a.y(t)}},color:{get:function(){return h},set:function(t){h=r.utils.getColor(t),a.color(h)}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.lineChart=function(){"use strict";function t(c){return E.reset(),E.models(a),y&&E.models(o),x&&E.models(s),c.each(function(c){function C(){y&&O.select(".nv-focus .nv-x.nv-axis").transition().duration(A).call(o)}function E(){x&&O.select(".nv-focus .nv-y.nv-axis").transition().duration(A).call(s)}function D(t){var e=O.select(".nv-focus .nv-linesWrap").datum(c.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return a.x()(e,n)>=t[0]&&a.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}}));e.transition().duration(A).call(a),C(),E()}var z=i.select(this);r.utils.initSVG(z);var N=r.utils.availableWidth(p,z,d),L=r.utils.availableHeight(g,z,d)-(w?h.height():0);if(t.update=function(){0===A?z.call(t):z.transition().duration(A).call(t)},t.container=this,M.setter(F(c),t.update).getter(T(c)).update(),M.disabled=c.map(function(t){return!!t.disabled}),!_){var W;_={};for(W in M)M[W]instanceof Array?_[W]=M[W].slice(0):_[W]=M[W]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return r.utils.noData(t,z),t;z.selectAll(".nv-noData").remove(),h.dispatch.on("onBrush",function(t){D(t)}),e=a.xScale(),n=a.yScale();var P=z.selectAll("g.nv-wrap.nv-lineChart").data([c]),I=P.enter().append("g").attr("class","nvd3 nv-wrap nv-lineChart").append("g"),O=P.select("g");I.append("g").attr("class","nv-legendWrap");var R=I.append("g").attr("class","nv-focus");R.append("g").attr("class","nv-background").append("rect"),R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-linesWrap"),R.append("g").attr("class","nv-interactive");I.append("g").attr("class","nv-focusWrap");v?(l.width(N),O.select(".nv-legendWrap").datum(c).call(l),"bottom"===m?P.select(".nv-legendWrap").attr("transform","translate(0,"+L+")"):"top"===m&&(l.height()>d.top&&(d.top=l.height(),L=r.utils.availableHeight(g,z,d)-(w?h.height():0)),P.select(".nv-legendWrap").attr("transform","translate(0,"+-d.top+")"))):O.select(".nv-legendWrap").selectAll("*").remove(),P.attr("transform","translate("+d.left+","+d.top+")"),b&&O.select(".nv-y.nv-axis").attr("transform","translate("+N+",0)"),k&&(u.width(N).height(L).margin({left:d.left,top:d.top}).svgContainer(z).xScale(e),P.select(".nv-interactive").call(u)),O.select(".nv-focus .nv-background rect").attr("width",N).attr("height",L),a.width(N).height(L).color(c.map(function(t,e){return t.color||f(t,e)}).filter(function(t,e){return!c[e].disabled}));var j=O.select(".nv-linesWrap").datum(c.filter(function(t){return!t.disabled}));if(y&&o.scale(e)._ticks(r.utils.calcTicksX(N/100,c)).tickSize(-L,0),x&&s.scale(n)._ticks(r.utils.calcTicksY(L/36,c)).tickSize(-N,0),O.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+L+")"),w){h.width(N),O.select(".nv-focusWrap").attr("transform","translate(0,"+(L+d.bottom+h.margin().top)+")").datum(c.filter(function(t){return!t.disabled})).call(h);var H=h.brush.empty()?h.xDomain():h.brush.extent();null!==H&&D(H)}else j.call(a),C(),E();l.dispatch.on("stateChange",function(e){for(var n in e)M[n]=e[n];S.stateChange(M),t.update()}),u.dispatch.on("elementMousemove",function(n){a.clearHighlights();var i,o,l,d=[];if(c.filter(function(t,e){return t.seriesIndex=e,!t.disabled&&!t.disableTooltip}).forEach(function(s,u){var c=w?h.brush.empty()?h.xScale().domain():h.brush.extent():e.domain(),p=s.values.filter(function(t,e){return a.x()(t,e)>=c[0]&&a.x()(t,e)<=c[1]});o=r.interactiveBisect(p,n.pointXValue,a.x());var g=p[o],v=t.y()(g,o);null!==v&&a.highlightPoint(s.seriesIndex,o,!0),void 0!==g&&(void 0===i&&(i=g),void 0===l&&(l=t.xScale()(t.x()(g,o))),d.push({key:s.key,value:v,color:f(s,s.seriesIndex),data:g}))}),d.length>2){var p=t.yScale().invert(n.mouseY),g=Math.abs(t.yScale().domain()[0]-t.yScale().domain()[1]),v=.03*g,m=r.nearestValueIndex(d.map(function(t){return t.value}),p,v);null!==m&&(d[m].highlight=!0)}var y=function(t,e){return null==t?"N/A":s.tickFormat()(t)};u.tooltip.valueFormatter(u.tooltip.valueFormatter()||y).data({value:t.x()(i,o),index:o,series:d})(),u.renderGuideLine(l)}),u.dispatch.on("elementClick",function(e){var n,i=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(a){var o=r.interactiveBisect(a.values,e.pointXValue,t.x()),s=a.values[o];if("undefined"!=typeof s){"undefined"==typeof n&&(n=t.xScale()(t.x()(s,o)));var l=t.yScale()(t.y()(s,o));i.push({point:s,pointIndex:o,pos:[n,l],seriesIndex:a.seriesIndex,series:a})}}),a.dispatch.elementClick(i)}),u.dispatch.on("elementMouseout",function(t){a.clearHighlights()}),S.on("changeState",function(e){"undefined"!=typeof e.disabled&&c.length===e.disabled.length&&(c.forEach(function(t,n){t.disabled=e.disabled[n]}),M.disabled=e.disabled),t.update()})}),E.renderEnd("lineChart immediate"),t}var e,n,a=r.models.line(),o=r.models.axis(),s=r.models.axis(),l=r.models.legend(),u=r.interactiveGuideline(),c=r.models.tooltip(),h=r.models.focus(r.models.line()),d={top:30,right:20,bottom:50,left:60},f=r.utils.defaultColor(),p=null,g=null,v=!0,m="top",y=!0,x=!0,b=!1,k=!1,w=!1,M=r.utils.state(),_=null,C=null,S=i.dispatch("tooltipShow","tooltipHide","stateChange","changeState","renderEnd"),A=250;o.orient("bottom").tickPadding(7),s.orient(b?"right":"left"),a.clipEdge(!0).duration(0),c.valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)}),u.tooltip.valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)});var E=r.utils.renderWatch(S,A),T=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},F=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return a.dispatch.on("elementMouseover.tooltip",function(t){t.series.disableTooltip||c.data(t).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),t.dispatch=S,t.lines=a,t.legend=l,t.focus=h,t.xAxis=o,t.x2Axis=h.xAxis,t.yAxis=s,t.y2Axis=h.yAxis,t.interactiveLayer=u,t.tooltip=c,t.state=M,t.dispatch=S,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},showLegend:{get:function(){return v},set:function(t){v=t}},legendPosition:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return C},set:function(t){C=t}},focusEnable:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return h.height()},set:function(t){h.height(t)}},focusShowAxisX:{get:function(){return h.showXAxis()},set:function(t){h.showXAxis(t)}},focusShowAxisY:{get:function(){return h.showYAxis()},set:function(t){h.showYAxis(t)}},brushExtent:{get:function(){return h.brushExtent()},set:function(t){h.brushExtent(t)}},focusMargin:{get:function(){return h.margin},set:function(t){h.margin.top=void 0!==t.top?t.top:h.margin.top,h.margin.right=void 0!==t.right?t.right:h.margin.right,h.margin.bottom=void 0!==t.bottom?t.bottom:h.margin.bottom,h.margin.left=void 0!==t.left?t.left:h.margin.left}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return A},set:function(t){A=t,E.reset(A),a.duration(A),h.duration(A),o.duration(A),s.duration(A)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t),l.color(f),a.color(f),h.color(f)}},interpolate:{get:function(){return a.interpolate()},set:function(t){a.interpolate(t),h.interpolate(t)}},xTickFormat:{get:function(){return o.tickFormat()},set:function(t){o.tickFormat(t),h.xTickFormat(t)}},yTickFormat:{get:function(){return s.tickFormat()},set:function(t){s.tickFormat(t),h.yTickFormat(t)}},x:{get:function(){return a.x()},set:function(t){a.x(t),h.x(t)}},y:{get:function(){return a.y()},set:function(t){a.y(t),h.y(t)}},rightAlignYAxis:{get:function(){return b},set:function(t){b=t,s.orient(b?"right":"left")}},useInteractiveGuideline:{get:function(){return k},set:function(t){k=t,k&&(a.interactive(!1),a.useVoronoi(!1))}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.lineWithFocusChart=function(){return r.models.lineChart().margin({bottom:30}).focusEnable(!0)},r.models.linePlusBarChart=function(){"use strict";function t(w){return w.each(function(w){function P(t){var e=+("e"==t),n=e?1:-1,i=Q/3;return"M"+.5*n+","+i+"A6,6 0 0 "+e+" "+6.5*n+","+(i+6)+"V"+(2*i-6)+"A6,6 0 0 "+e+" "+.5*n+","+2*i+"ZM"+2.5*n+","+(i+8)+"V"+(2*i-8)+"M"+4.5*n+","+(i+8)+"V"+(2*i-8)}function q(){k.empty()||k.extent(W),ft.data([k.empty()?a.domain():W]).each(function(t,e){var n=a(t[0])-a.range()[0],r=a.range()[1]-a(t[1]);i.select(this).select(".left").attr("width",n<0?0:n),i.select(this).select(".right").attr("x",a(t[1])).attr("width",r<0?0:r)})}function Y(){W=k.empty()?null:k.extent(),e=k.empty()?a.domain():k.extent(),I.brush({extent:e,brush:k}),q(),d.width($).height(J).color(w.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!w[e].disabled&&w[e].bar})),c.width($).height(J).color(w.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!w[e].disabled&&!w[e].bar}));var t=ot.select(".nv-focus .nv-barsWrap").datum(tt.length?tt.map(function(t,n){return{key:t.key,values:t.values.filter(function(t,n){return d.x()(t,n)>=e[0]&&d.x()(t,n)<=e[1]})}}):[{values:[]}]),i=ot.select(".nv-focus .nv-linesWrap").datum(X(et)?[{values:[]}]:et.filter(function(t){return!t.disabled}).map(function(t,n){return{area:t.area,fillOpacity:t.fillOpacity,strokeWidth:t.strokeWidth,key:t.key,values:t.values.filter(function(t,n){return c.x()(t,n)>=e[0]&&c.x()(t,n)<=e[1]})}}));n=tt.length&&!G?d.xScale():c.xScale(),p.scale(n)._ticks(r.utils.calcTicksX($/100,w)).tickSize(-J,0),p.domain([Math.ceil(e[0]),Math.floor(e[1])]),ot.select(".nv-x.nv-axis").transition().duration(O).call(p),t.transition().duration(O).call(d),i.transition().duration(O).call(c),ot.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+o.range()[0]+")"),v.scale(o)._ticks(r.utils.calcTicksY(J/36,w)).tickSize(-$,0),m.scale(s)._ticks(r.utils.calcTicksY(J/36,w)),G?m.tickSize(et.length?0:-$,0):m.tickSize(tt.length?0:-$,0);var l=tt.length?1:0,u=et.length&&!X(et)?1:0,h=G?u:l,f=G?l:u;ot.select(".nv-focus .nv-y1.nv-axis").style("opacity",h),ot.select(".nv-focus .nv-y2.nv-axis").style("opacity",f).attr("transform","translate("+n.range()[1]+",0)"),ot.select(".nv-focus .nv-y1.nv-axis").transition().duration(O).call(v),ot.select(".nv-focus .nv-y2.nv-axis").transition().duration(O).call(m)}var Z=i.select(this);r.utils.initSVG(Z);var $=r.utils.availableWidth(C,Z,M),J=r.utils.availableHeight(S,Z,M)-(D?L:0),Q=L-_.top-_.bottom;if(t.update=function(){Z.transition().duration(O).call(t)},t.container=this,R.setter(U(w),t.update).getter(V(w)).update(),R.disabled=w.map(function(t){return!!t.disabled}),!j){var K;j={};for(K in R)R[K]instanceof Array?j[K]=R[K].slice(0):j[K]=R[K]}if(!(w&&w.length&&w.filter(function(t){return t.values.length}).length))return r.utils.noData(t,Z),t;Z.selectAll(".nv-noData").remove();var tt=w.filter(function(t){return!t.disabled&&t.bar}),et=w.filter(function(t){return!t.bar});n=tt.length&&!G?d.xScale():c.xScale(),a=g.scale(),o=G?c.yScale():d.yScale(),s=G?d.yScale():c.yScale(),l=G?h.yScale():f.yScale(),u=G?f.yScale():h.yScale();var nt=w.filter(function(t){return!t.disabled&&(G?!t.bar:t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:A(t,e),y:E(t,e)}})}),it=w.filter(function(t){return!t.disabled&&(G?t.bar:!t.bar)}).map(function(t){return t.values.map(function(t,e){return{x:A(t,e),y:E(t,e)}})});n.range([0,$]),a.domain(i.extent(i.merge(nt.concat(it)),function(t){return t.x})).range([0,$]);var rt=Z.selectAll("g.nv-wrap.nv-linePlusBar").data([w]),at=rt.enter().append("g").attr("class","nvd3 nv-wrap nv-linePlusBar").append("g"),ot=rt.select("g");at.append("g").attr("class","nv-legendWrap");var st=at.append("g").attr("class","nv-focus");st.append("g").attr("class","nv-x nv-axis"),st.append("g").attr("class","nv-y1 nv-axis"),st.append("g").attr("class","nv-y2 nv-axis"),st.append("g").attr("class","nv-barsWrap"),st.append("g").attr("class","nv-linesWrap");var lt=at.append("g").attr("class","nv-context");if(lt.append("g").attr("class","nv-x nv-axis"),lt.append("g").attr("class","nv-y1 nv-axis"),lt.append("g").attr("class","nv-y2 nv-axis"),lt.append("g").attr("class","nv-barsWrap"),lt.append("g").attr("class","nv-linesWrap"),lt.append("g").attr("class","nv-brushBackground"),lt.append("g").attr("class","nv-x nv-brush"),F){var ut=b.align()?$/2:$,ct=b.align()?ut:0;b.width(ut),ot.select(".nv-legendWrap").datum(w.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,G?t.key=t.originalKey+(t.bar?B:H):t.key=t.originalKey+(t.bar?H:B),t})).call(b),b.height()>M.top&&(M.top=b.height(),J=r.utils.availableHeight(S,Z,M)-L),ot.select(".nv-legendWrap").attr("transform","translate("+ct+","+-M.top+")")}else ot.select(".nv-legendWrap").selectAll("*").remove();rt.attr("transform","translate("+M.left+","+M.top+")"),ot.select(".nv-context").style("display",D?"initial":"none"),f.width($).height(Q).color(w.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!w[e].disabled&&w[e].bar})),h.width($).height(Q).color(w.map(function(t,e){return t.color||T(t,e)}).filter(function(t,e){return!w[e].disabled&&!w[e].bar}));var ht=ot.select(".nv-context .nv-barsWrap").datum(tt.length?tt:[{values:[]}]),dt=ot.select(".nv-context .nv-linesWrap").datum(X(et)?[{values:[]}]:et.filter(function(t){return!t.disabled}));ot.select(".nv-context").attr("transform","translate(0,"+(J+M.bottom+_.top)+")"),ht.transition().call(f),dt.transition().call(h),N&&(g._ticks(r.utils.calcTicksX($/100,w)).tickSize(-Q,0),ot.select(".nv-context .nv-x.nv-axis").attr("transform","translate(0,"+l.range()[0]+")"),ot.select(".nv-context .nv-x.nv-axis").transition().call(g)),z&&(y.scale(l)._ticks(Q/36).tickSize(-$,0),x.scale(u)._ticks(Q/36).tickSize(tt.length?0:-$,0),ot.select(".nv-context .nv-y3.nv-axis").style("opacity",tt.length?1:0).attr("transform","translate(0,"+a.range()[0]+")"),ot.select(".nv-context .nv-y2.nv-axis").style("opacity",et.length?1:0).attr("transform","translate("+a.range()[1]+",0)"),ot.select(".nv-context .nv-y1.nv-axis").transition().call(y),ot.select(".nv-context .nv-y2.nv-axis").transition().call(x)),k.x(a).on("brush",Y),W&&k.extent(W);var ft=ot.select(".nv-brushBackground").selectAll("g").data([W||k.extent()]),pt=ft.enter().append("g");pt.append("rect").attr("class","left").attr("x",0).attr("y",0).attr("height",Q),pt.append("rect").attr("class","right").attr("x",0).attr("y",0).attr("height",Q);var gt=ot.select(".nv-x.nv-brush").call(k);gt.selectAll("rect").attr("height",Q),gt.selectAll(".resize").append("path").attr("d",P),b.dispatch.on("stateChange",function(e){for(var n in e)R[n]=e[n];I.stateChange(R),t.update()}),I.on("changeState",function(e){"undefined"!=typeof e.disabled&&(w.forEach(function(t,n){t.disabled=e.disabled[n]}),R.disabled=e.disabled),t.update()}),Y()}),t}var e,n,a,o,s,l,u,c=r.models.line(),h=r.models.line(),d=r.models.historicalBar(),f=r.models.historicalBar(),p=r.models.axis(),g=r.models.axis(),v=r.models.axis(),m=r.models.axis(),y=r.models.axis(),x=r.models.axis(),b=r.models.legend(),k=i.svg.brush(),w=r.models.tooltip(),M={top:30,right:30,bottom:30,left:60},_={top:0,right:30,bottom:20,left:60},C=null,S=null,A=function(t){return t.x},E=function(t){return t.y},T=r.utils.defaultColor(),F=!0,D=!0,z=!1,N=!0,L=50,W=null,P=null,I=i.dispatch("brush","stateChange","changeState"),O=0,R=r.utils.state(),j=null,H=" (left axis)",B=" (right axis)",G=!1;c.clipEdge(!0),h.interactive(!1),h.pointActive(function(t){return!1}),p.orient("bottom").tickPadding(5),v.orient("left"),m.orient("right"),g.orient("bottom").tickPadding(5),y.orient("left"),x.orient("right"),w.headerEnabled(!0).headerFormatter(function(t,e){return p.tickFormat()(t,e)});var q=function(){return G?{main:m,focus:x}:{main:v,focus:y}},Y=function(){return G?{main:v,focus:y}:{main:m,focus:x}},V=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},U=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},X=function(t){return t.every(function(t){return t.disabled})};return c.dispatch.on("elementMouseover.tooltip",function(t){w.duration(100).valueFormatter(function(t,e){return Y().main.tickFormat()(t,e)}).data(t).hidden(!1)}),c.dispatch.on("elementMouseout.tooltip",function(t){w.hidden(!0)}),d.dispatch.on("elementMouseover.tooltip",function(e){e.value=t.x()(e.data),e.series={value:t.y()(e.data),color:e.color},w.duration(0).valueFormatter(function(t,e){return q().main.tickFormat()(t,e)}).data(e).hidden(!1)}),d.dispatch.on("elementMouseout.tooltip",function(t){w.hidden(!0)}),d.dispatch.on("elementMousemove.tooltip",function(t){w()}),t.dispatch=I,t.legend=b,t.lines=c,t.lines2=h,t.bars=d,t.bars2=f,t.xAxis=p,t.x2Axis=g,t.y1Axis=v,t.y2Axis=m,t.y3Axis=y,t.y4Axis=x,t.tooltip=w,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return C},set:function(t){C=t}},height:{get:function(){return S},set:function(t){S=t}},showLegend:{get:function(){return F},set:function(t){F=t}},brushExtent:{get:function(){return W},set:function(t){W=t}},noData:{get:function(){return P},set:function(t){P=t}},focusEnable:{get:function(){return D},set:function(t){D=t}},focusHeight:{get:function(){return L},set:function(t){L=t}},focusShowAxisX:{get:function(){return N},set:function(t){N=t}},focusShowAxisY:{get:function(){return z},set:function(t){z=t}},legendLeftAxisHint:{get:function(){return H},set:function(t){H=t}},legendRightAxisHint:{get:function(){return B},set:function(t){B=t}},margin:{get:function(){return M},set:function(t){M.top=void 0!==t.top?t.top:M.top,M.right=void 0!==t.right?t.right:M.right,M.bottom=void 0!==t.bottom?t.bottom:M.bottom,M.left=void 0!==t.left?t.left:M.left}},focusMargin:{get:function(){return _},set:function(t){_.top=void 0!==t.top?t.top:_.top,_.right=void 0!==t.right?t.right:_.right,_.bottom=void 0!==t.bottom?t.bottom:_.bottom,_.left=void 0!==t.left?t.left:_.left}},duration:{get:function(){return O},set:function(t){O=t}},color:{get:function(){return T},set:function(t){T=r.utils.getColor(t),b.color(T)}},x:{get:function(){return A},set:function(t){A=t,c.x(t),h.x(t),d.x(t),f.x(t)}},y:{get:function(){return E},set:function(t){E=t,c.y(t),h.y(t),d.y(t),f.y(t)}},switchYAxisOrder:{get:function(){return G},set:function(t){if(G!==t){var e=v;
v=m,m=e;var n=y;y=x,x=n}G=t,v.orient("left"),m.orient("right"),y.orient("left"),x.orient("right")}}}),r.utils.inheritOptions(t,c),r.utils.initOptions(t),t},r.models.multiBar=function(){"use strict";function t(z){return F.reset(),z.each(function(t){var z=h-c.left-c.right,N=d-c.top-c.bottom;v=i.select(this),r.utils.initSVG(v);var L=0;if(_&&t.length&&(_=[{values:t[0].values.map(function(t){return{x:t.x,y:0,series:t.series,size:.01}})}]),k){var W=i.layout.stack().offset(w).values(function(t){return t.values}).y(y)(!t.length&&_?_:t);W.forEach(function(e,n){e.nonStackable?(t[n].nonStackableSeries=L++,W[n]=t[n]):n>0&&W[n-1].nonStackable&&W[n].values.map(function(t,e){t.y0-=W[n-1].values[e].y,t.y1=t.y0+t.y})}),t=W}t.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),k&&t.length>0&&t[0].values.map(function(e,n){var i=0,r=0;t.map(function(e,a){if(!t[a].nonStackable){var o=e.values[n];o.size=Math.abs(o.y),o.y<0?(o.y1=r,r-=o.size):(o.y1=o.size+i,i+=o.size)}})});var P=n&&a?[]:t.map(function(t,e){return t.values.map(function(t,n){return{x:m(t,n),y:y(t,n),y0:t.y0,y1:t.y1,idx:e}})});f.domain(n||i.merge(P).map(function(t){return t.x})).rangeBands(o||[0,z],A),p.domain(a||i.extent(i.merge(P).map(function(e){var n=e.y;return k&&!t[e.idx].nonStackable&&(n=e.y>0?e.y1:e.y1+e.y),n}).concat(x))).range(s||[N,0]),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]-.01*f.domain()[0],f.domain()[1]+.01*f.domain()[1]]):f.domain([-1,1])),p.domain()[0]===p.domain()[1]&&(p.domain()[0]?p.domain([p.domain()[0]+.01*p.domain()[0],p.domain()[1]-.01*p.domain()[1]]):p.domain([-1,1])),l=l||f,u=u||p;var I=v.selectAll("g.nv-wrap.nv-multibar").data([t]),O=I.enter().append("g").attr("class","nvd3 nv-wrap nv-multibar"),R=O.append("defs"),j=O.append("g"),H=I.select("g");j.append("g").attr("class","nv-groups"),I.attr("transform","translate("+c.left+","+c.top+")"),R.append("clipPath").attr("id","nv-edge-clip-"+g).append("rect"),I.select("#nv-edge-clip-"+g+" rect").attr("width",z).attr("height",N),H.attr("clip-path",b?"url(#nv-edge-clip-"+g+")":"");var B=I.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});B.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6);var G=F.transition(B.exit().selectAll("rect.nv-bar"),"multibarExit",Math.min(100,S)).attr("y",function(e,n,i){var r=u(0)||0;return k&&t[e.series]&&!t[e.series].nonStackable&&(r=u(e.y0)),r}).attr("height",0).remove();G.delay&&G.delay(function(t,e){var n=e*(S/(D+1))-e;return n}),B.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return M(t,e)}).style("stroke",function(t,e){return M(t,e)}),B.style("stroke-opacity",1).style("fill-opacity",E);var q=B.selectAll("rect.nv-bar").data(function(e){return _&&!t.length?_.values:e.values});q.exit().remove();q.enter().append("rect").attr("class",function(t,e){return y(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("x",function(e,n,i){return k&&!t[i].nonStackable?0:i*f.rangeBand()/t.length}).attr("y",function(e,n,i){return u(k&&!t[i].nonStackable?e.y0:0)||0}).attr("height",0).attr("width",function(e,n,i){return f.rangeBand()/(k&&!t[i].nonStackable?1:t.length)}).attr("transform",function(t,e){return"translate("+f(m(t,e))+",0)"});q.style("fill",function(t,e,n){return M(t,n,e)}).style("stroke",function(t,e,n){return M(t,n,e)}).on("mouseover",function(t,e){i.select(this).classed("hover",!0),T.elementMouseover({data:t,index:e,color:i.select(this).style("fill")})}).on("mouseout",function(t,e){i.select(this).classed("hover",!1),T.elementMouseout({data:t,index:e,color:i.select(this).style("fill")})}).on("mousemove",function(t,e){T.elementMousemove({data:t,index:e,color:i.select(this).style("fill")})}).on("click",function(t,e){var n=this;T.elementClick({data:t,index:e,color:i.select(this).style("fill"),event:i.event,element:n}),i.event.stopPropagation()}).on("dblclick",function(t,e){T.elementDblClick({data:t,index:e,color:i.select(this).style("fill")}),i.event.stopPropagation()}),q.attr("class",function(t,e){return y(t,e)<0?"nv-bar negative":"nv-bar positive"}).attr("transform",function(t,e){return"translate("+f(m(t,e))+",0)"}),C&&(e||(e=t.map(function(){return!0})),q.style("fill",function(t,n,r){return i.rgb(C(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return i.rgb(C(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}));var Y=q.watchTransition(F,"multibar",Math.min(250,S)).delay(function(e,n){return n*S/t[0].values.length});k?Y.attr("y",function(e,n,i){var r=0;return r=t[i].nonStackable?y(e,n)<0?p(0):p(0)-p(y(e,n))<-1?p(0)-1:p(y(e,n))||0:p(e.y1)}).attr("height",function(e,n,i){return t[i].nonStackable?Math.max(Math.abs(p(y(e,n))-p(0)),0)||0:Math.max(Math.abs(p(e.y+e.y0)-p(e.y0)),0)}).attr("x",function(e,n,i){var r=0;return t[i].nonStackable&&(r=e.series*f.rangeBand()/t.length,t.length!==L&&(r=t[i].nonStackableSeries*f.rangeBand()/(2*L))),r}).attr("width",function(e,n,i){if(t[i].nonStackable){var r=f.rangeBand()/L;return t.length!==L&&(r=f.rangeBand()/(2*L)),r}return f.rangeBand()}):Y.attr("x",function(e,n){return e.series*f.rangeBand()/t.length}).attr("width",f.rangeBand()/t.length).attr("y",function(t,e){return y(t,e)<0?p(0):p(0)-p(y(t,e))<1?p(0)-1:p(y(t,e))||0}).attr("height",function(t,e){return Math.max(Math.abs(p(y(t,e))-p(0)),1)||0}),l=f.copy(),u=p.copy(),t[0]&&t[0].values&&(D=t[0].values.length)}),F.renderEnd("multibar immediate"),t}var e,n,a,o,s,l,u,c={top:0,right:0,bottom:0,left:0},h=960,d=500,f=i.scale.ordinal(),p=i.scale.linear(),g=Math.floor(1e4*Math.random()),v=null,m=function(t){return t.x},y=function(t){return t.y},x=[0],b=!0,k=!1,w="zero",M=r.utils.defaultColor(),_=!1,C=null,S=500,A=.1,E=.75,T=i.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),F=r.utils.renderWatch(T,S),D=0;return t.dispatch=T,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return m},set:function(t){m=t}},y:{get:function(){return y},set:function(t){y=t}},xScale:{get:function(){return f},set:function(t){f=t}},yScale:{get:function(){return p},set:function(t){p=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return a},set:function(t){a=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return s},set:function(t){s=t}},forceY:{get:function(){return x},set:function(t){x=t}},stacked:{get:function(){return k},set:function(t){k=t}},stackOffset:{get:function(){return w},set:function(t){w=t}},clipEdge:{get:function(){return b},set:function(t){b=t}},disabled:{get:function(){return e},set:function(t){e=t}},id:{get:function(){return g},set:function(t){g=t}},hideable:{get:function(){return _},set:function(t){_=t}},groupSpacing:{get:function(){return A},set:function(t){A=t}},fillOpacity:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return S},set:function(t){S=t,F.reset(S)}},color:{get:function(){return M},set:function(t){M=r.utils.getColor(t)}},barColor:{get:function(){return C},set:function(t){C=t?r.utils.getColor(t):null}}}),r.utils.initOptions(t),t},r.models.multiBarChart=function(){"use strict";function t(E){return N.reset(),N.models(a),x&&N.models(o),b&&N.models(s),E.each(function(E){var N=i.select(this);r.utils.initSVG(N);var I=r.utils.availableWidth(f,N,d),O=r.utils.availableHeight(p,N,d);if(t.update=function(){0===D?N.call(t):N.transition().duration(D).call(t)},t.container=this,S.setter(P(E),t.update).getter(W(E)).update(),S.disabled=E.map(function(t){return!!t.disabled}),!A){var R;A={};for(R in S)S[R]instanceof Array?A[R]=S[R].slice(0):A[R]=S[R]}if(!(E&&E.length&&E.filter(function(t){return t.values.length}).length))return r.utils.noData(t,N),t;N.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var j=N.selectAll("g.nv-wrap.nv-multiBarWithLegend").data([E]),H=j.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarWithLegend").append("g"),B=j.select("g");if(H.append("g").attr("class","nv-x nv-axis"),H.append("g").attr("class","nv-y nv-axis"),H.append("g").attr("class","nv-barsWrap"),H.append("g").attr("class","nv-legendWrap"),H.append("g").attr("class","nv-controlsWrap"),H.append("g").attr("class","nv-interactive"),y?(u.width(I-F()),B.select(".nv-legendWrap").datum(E).call(u),u.height()>d.top&&(d.top=u.height(),O=r.utils.availableHeight(p,N,d)),B.select(".nv-legendWrap").attr("transform","translate("+F()+","+-d.top+")")):B.select(".nv-legendWrap").selectAll("*").remove(),v){var G=[{key:m.grouped||"Grouped",disabled:a.stacked()},{key:m.stacked||"Stacked",disabled:!a.stacked()}];c.width(F()).color(["#444","#444","#444"]),B.select(".nv-controlsWrap").datum(G).attr("transform","translate(0,"+-d.top+")").call(c)}else B.select(".nv-controlsWrap").selectAll("*").remove();j.attr("transform","translate("+d.left+","+d.top+")"),k&&B.select(".nv-y.nv-axis").attr("transform","translate("+I+",0)"),a.disabled(E.map(function(t){return t.disabled})).width(I).height(O).color(E.map(function(t,e){return t.color||g(t,e)}).filter(function(t,e){return!E[e].disabled}));var q=B.select(".nv-barsWrap").datum(E.filter(function(t){return!t.disabled}));if(q.call(a),x){o.scale(e)._ticks(r.utils.calcTicksX(I/100,E)).tickSize(-O,0),B.select(".nv-x.nv-axis").attr("transform","translate(0,"+n.range()[0]+")"),B.select(".nv-x.nv-axis").call(o);var Y=B.select(".nv-x.nv-axis > g").selectAll("g");if(Y.selectAll("line, text").style("opacity",1),M){var V=function(t,e){return"translate("+t+","+e+")"},U=5,X=17;Y.selectAll("text").attr("transform",function(t,e,n){return V(0,n%2==0?U:X)});var Z=i.selectAll(".nv-x.nv-axis .nv-wrap g g text")[0].length;B.selectAll(".nv-x.nv-axis .nv-axisMaxMin text").attr("transform",function(t,e){return V(0,0===e||Z%2!==0?X:U)})}_&&B.selectAll(".tick text").call(r.utils.wrapTicks,t.xAxis.rangeBand()),w&&Y.filter(function(t,e){return e%Math.ceil(E[0].values.length/(I/100))!==0}).selectAll("text, line").style("opacity",0),C&&Y.selectAll(".tick text").attr("transform","rotate("+C+" 0,0)").style("text-anchor",C>0?"start":"end"),B.select(".nv-x.nv-axis").selectAll("g.nv-axisMaxMin text").style("opacity",1)}b&&(s.scale(n)._ticks(r.utils.calcTicksY(O/36,E)).tickSize(-I,0),B.select(".nv-y.nv-axis").call(s)),z&&(l.width(I).height(O).margin({left:d.left,top:d.top}).svgContainer(N).xScale(e),j.select(".nv-interactive").call(l)),u.dispatch.on("stateChange",function(e){for(var n in e)S[n]=e[n];T.stateChange(S),t.update()}),c.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(G=G.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":case m.grouped:a.stacked(!1);break;case"Stacked":case m.stacked:a.stacked(!0)}S.stacked=a.stacked(),T.stateChange(S),t.update()}}),T.on("changeState",function(e){"undefined"!=typeof e.disabled&&(E.forEach(function(t,n){t.disabled=e.disabled[n]}),S.disabled=e.disabled),"undefined"!=typeof e.stacked&&(a.stacked(e.stacked),S.stacked=e.stacked,L=e.stacked),t.update()}),z?(l.dispatch.on("elementMousemove",function(n){if(void 0!=n.pointXValue){var i,r,a,o,s=[];E.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,u){r=e.domain().indexOf(n.pointXValue);var c=l.values[r];void 0!==c&&(o=c.x,void 0===i&&(i=c),void 0===a&&(a=n.mouseX),s.push({key:l.key,value:t.y()(c,r),color:g(l,l.seriesIndex),data:l.values[r]}))}),l.tooltip.data({value:o,index:r,series:s})(),l.renderGuideLine(a)}}),l.dispatch.on("elementMouseout",function(t){l.tooltip.hidden(!0)})):(a.dispatch.on("elementMouseover.tooltip",function(e){e.value=t.x()(e.data),e.series={key:e.data.key,value:t.y()(e.data),color:e.color},h.data(e).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){h.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(t){h()}))}),N.renderEnd("multibarchart immediate"),t}var e,n,a=r.models.multiBar(),o=r.models.axis(),s=r.models.axis(),l=r.interactiveGuideline(),u=r.models.legend(),c=r.models.legend(),h=r.models.tooltip(),d={top:30,right:20,bottom:50,left:60},f=null,p=null,g=r.utils.defaultColor(),v=!0,m={},y=!0,x=!0,b=!0,k=!1,w=!0,M=!1,_=!1,C=0,S=r.utils.state(),A=null,E=null,T=i.dispatch("stateChange","changeState","renderEnd"),F=function(){return v?180:0},D=250,z=!1;S.stacked=!1,a.stacked(!1),o.orient("bottom").tickPadding(7).showMaxMin(!1).tickFormat(function(t){return t}),s.orient(k?"right":"left").tickFormat(i.format(",.1f")),h.duration(0).valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)}),c.updateState(!1);var N=r.utils.renderWatch(T),L=!1,W=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:L}}},P=function(t){return function(e){void 0!==e.stacked&&(L=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return t.dispatch=T,t.multibar=a,t.legend=u,t.controls=c,t.xAxis=o,t.yAxis=s,t.state=S,t.tooltip=h,t.interactiveLayer=l,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return f},set:function(t){f=t}},height:{get:function(){return p},set:function(t){p=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showControls:{get:function(){return v},set:function(t){v=t}},controlLabels:{get:function(){return m},set:function(t){m=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return E},set:function(t){E=t}},reduceXTicks:{get:function(){return w},set:function(t){w=t}},rotateLabels:{get:function(){return C},set:function(t){C=t}},staggerLabels:{get:function(){return M},set:function(t){M=t}},wrapLabels:{get:function(){return _},set:function(t){_=!!t}},margin:{get:function(){return d},set:function(t){d.top=void 0!==t.top?t.top:d.top,d.right=void 0!==t.right?t.right:d.right,d.bottom=void 0!==t.bottom?t.bottom:d.bottom,d.left=void 0!==t.left?t.left:d.left}},duration:{get:function(){return D},set:function(t){D=t,a.duration(D),o.duration(D),s.duration(D),N.reset(D)}},color:{get:function(){return g},set:function(t){g=r.utils.getColor(t),u.color(g)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,s.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return z},set:function(t){z=t}},barColor:{get:function(){return a.barColor},set:function(t){a.barColor(t),u.color(function(t,e){return i.rgb("#ccc").darker(1.5*e).toString()})}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.multiBarHorizontal=function(){"use strict";function t(f){return z.reset(),f.each(function(t){var f=h-c.left-c.right,F=d-c.top-c.bottom;p=i.select(this),r.utils.initSVG(p),M&&(t=i.layout.stack().offset("zero").values(function(t){return t.values}).y(y)(t)),t.forEach(function(t,e){t.values.forEach(function(n){n.series=e,n.key=t.key})}),M&&t[0].values.map(function(e,n){var i=0,r=0;t.map(function(t){var e=t.values[n];e.size=Math.abs(e.y),e.y<0?(e.y1=r-e.size,r-=e.size):(e.y1=i,i+=e.size)})});var N=n&&a?[]:t.map(function(t){return t.values.map(function(t,e){return{x:m(t,e),y:y(t,e),y0:t.y0,y1:t.y1}})});g.domain(n||i.merge(N).map(function(t){return t.x})).rangeBands(o||[0,F],A),v.domain(a||i.extent(i.merge(N).map(function(t){return M?t.y>0?t.y1+t.y:t.y1:t.y}).concat(b))),_&&!M?v.range(s||[v.domain()[0]<0?S:0,f-(v.domain()[1]>0?S:0)]):v.range(s||[0,f]),l=l||g,u=u||i.scale.linear().domain(v.domain()).range([v(0),v(0)]);var L=i.select(this).selectAll("g.nv-wrap.nv-multibarHorizontal").data([t]),W=L.enter().append("g").attr("class","nvd3 nv-wrap nv-multibarHorizontal"),P=(W.append("defs"),W.append("g"));L.select("g");P.append("g").attr("class","nv-groups"),L.attr("transform","translate("+c.left+","+c.top+")");var I=L.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t,e){return e});I.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),I.exit().watchTransition(z,"multibarhorizontal: exit groups").style("stroke-opacity",1e-6).style("fill-opacity",1e-6).remove(),I.attr("class",function(t,e){return"nv-group nv-series-"+e}).classed("hover",function(t){return t.hover}).style("fill",function(t,e){return k(t,e)}).style("stroke",function(t,e){return k(t,e)}),I.watchTransition(z,"multibarhorizontal: groups").style("stroke-opacity",1).style("fill-opacity",E);var O=I.selectAll("g.nv-bar").data(function(t){return t.values});O.exit().remove();var R=O.enter().append("g").attr("transform",function(e,n,i){return"translate("+u(M?e.y0:0)+","+(M?0:i*g.rangeBand()/t.length+g(m(e,n)))+")"});R.append("rect").attr("width",0).attr("height",g.rangeBand()/(M?1:t.length)),O.on("mouseover",function(t,e){i.select(this).classed("hover",!0),D.elementMouseover({data:t,index:e,color:i.select(this).style("fill")})}).on("mouseout",function(t,e){i.select(this).classed("hover",!1),D.elementMouseout({data:t,index:e,color:i.select(this).style("fill")})}).on("mouseout",function(t,e){D.elementMouseout({data:t,index:e,color:i.select(this).style("fill")})}).on("mousemove",function(t,e){D.elementMousemove({data:t,index:e,color:i.select(this).style("fill")})}).on("click",function(t,e){var n=this;D.elementClick({data:t,index:e,color:i.select(this).style("fill"),event:i.event,element:n}),i.event.stopPropagation()}).on("dblclick",function(t,e){D.elementDblClick({data:t,index:e,color:i.select(this).style("fill")}),i.event.stopPropagation()}),x(t[0],0)&&(R.append("polyline"),O.select("polyline").attr("fill","none").attr("points",function(e,n){var i=x(e,n),r=.8*g.rangeBand()/(2*(M?1:t.length));i=i.length?i:[-Math.abs(i),Math.abs(i)],i=i.map(function(t){return v(t)-v(0)});var a=[[i[0],-r],[i[0],r],[i[0],0],[i[1],0],[i[1],-r],[i[1],r]];return a.map(function(t){return t.join(",")}).join(" ")}).attr("transform",function(e,n){var i=g.rangeBand()/(2*(M?1:t.length));return"translate("+(y(e,n)<0?0:v(y(e,n))-v(0))+", "+i+")"})),R.append("text"),_&&!M?(O.select("text").attr("text-anchor",function(t,e){return y(t,e)<0?"end":"start"}).attr("y",g.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){var n=T(y(t,e)),i=x(t,e);return void 0===i?n:i.length?n+"+"+T(Math.abs(i[1]))+"-"+T(Math.abs(i[0])):n+""+T(Math.abs(i))}),O.watchTransition(z,"multibarhorizontal: bars").select("text").attr("x",function(t,e){return y(t,e)<0?-4:v(y(t,e))-v(0)+4})):O.selectAll("text").text(""),C&&!M?(R.append("text").classed("nv-bar-label",!0),O.select("text.nv-bar-label").attr("text-anchor",function(t,e){return y(t,e)<0?"start":"end"}).attr("y",g.rangeBand()/(2*t.length)).attr("dy",".32em").text(function(t,e){return m(t,e)}),O.watchTransition(z,"multibarhorizontal: bars").select("text.nv-bar-label").attr("x",function(t,e){return y(t,e)<0?v(0)-v(y(t,e))+4:-4})):O.selectAll("text.nv-bar-label").text(""),O.attr("class",function(t,e){return y(t,e)<0?"nv-bar negative":"nv-bar positive"}),w&&(e||(e=t.map(function(){return!0})),O.style("fill",function(t,n,r){return i.rgb(w(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()}).style("stroke",function(t,n,r){return i.rgb(w(t,n)).darker(e.map(function(t,e){return e}).filter(function(t,n){return!e[n]})[r]).toString()})),M?O.watchTransition(z,"multibarhorizontal: bars").attr("transform",function(t,e){return"translate("+v(t.y1)+","+g(m(t,e))+")"}).select("rect").attr("width",function(t,e){return Math.abs(v(y(t,e)+t.y0)-v(t.y0))||0}).attr("height",g.rangeBand()):O.watchTransition(z,"multibarhorizontal: bars").attr("transform",function(e,n){return"translate("+v(y(e,n)<0?y(e,n):0)+","+(e.series*g.rangeBand()/t.length+g(m(e,n)))+")"}).select("rect").attr("height",g.rangeBand()/t.length).attr("width",function(t,e){return Math.max(Math.abs(v(y(t,e))-v(0)),1)||0}),l=g.copy(),u=v.copy()}),z.renderEnd("multibarHorizontal immediate"),t}var e,n,a,o,s,l,u,c={top:0,right:0,bottom:0,left:0},h=960,d=500,f=Math.floor(1e4*Math.random()),p=null,g=i.scale.ordinal(),v=i.scale.linear(),m=function(t){return t.x},y=function(t){return t.y},x=function(t){return t.yErr},b=[0],k=r.utils.defaultColor(),w=null,M=!1,_=!1,C=!1,S=60,A=.1,E=.75,T=i.format(",.2f"),F=250,D=i.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),z=r.utils.renderWatch(D,F);return t.dispatch=D,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},x:{get:function(){return m},set:function(t){m=t}},y:{get:function(){return y},set:function(t){y=t}},yErr:{get:function(){return x},set:function(t){x=t}},xScale:{get:function(){return g},set:function(t){g=t}},yScale:{get:function(){return v},set:function(t){v=t}},xDomain:{get:function(){return n},set:function(t){n=t}},yDomain:{get:function(){return a},set:function(t){a=t}},xRange:{get:function(){return o},set:function(t){o=t}},yRange:{get:function(){return s},set:function(t){s=t}},forceY:{get:function(){return b},set:function(t){b=t}},stacked:{get:function(){return M},set:function(t){M=t}},showValues:{get:function(){return _},set:function(t){_=t}},disabled:{get:function(){return e},set:function(t){e=t}},id:{get:function(){return f},set:function(t){f=t}},valueFormat:{get:function(){return T},set:function(t){T=t}},valuePadding:{get:function(){return S},set:function(t){S=t}},groupSpacing:{get:function(){return A},set:function(t){A=t}},fillOpacity:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return F},set:function(t){F=t,z.reset(F)}},color:{get:function(){return k},set:function(t){k=r.utils.getColor(t)}},barColor:{get:function(){return w},set:function(t){w=t?r.utils.getColor(t):null}}}),r.utils.initOptions(t),t},r.models.multiBarHorizontalChart=function(){"use strict";function t(c){return T.reset(),T.models(a),y&&T.models(o),x&&T.models(s),c.each(function(c){var M=i.select(this);r.utils.initSVG(M);var T=r.utils.availableWidth(d,M,h),F=r.utils.availableHeight(f,M,h);if(t.update=function(){M.transition().duration(S).call(t)},t.container=this,b=a.stacked(),k.setter(E(c),t.update).getter(A(c)).update(),k.disabled=c.map(function(t){return!!t.disabled}),!w){var D;w={};for(D in k)k[D]instanceof Array?w[D]=k[D].slice(0):w[D]=k[D]}if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return r.utils.noData(t,M),t;M.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale().clamp(!0);var z=M.selectAll("g.nv-wrap.nv-multiBarHorizontalChart").data([c]),N=z.enter().append("g").attr("class","nvd3 nv-wrap nv-multiBarHorizontalChart").append("g"),L=z.select("g");if(N.append("g").attr("class","nv-x nv-axis"),N.append("g").attr("class","nv-y nv-axis").append("g").attr("class","nv-zeroLine").append("line"),N.append("g").attr("class","nv-barsWrap"),N.append("g").attr("class","nv-legendWrap"),N.append("g").attr("class","nv-controlsWrap"),m?(l.width(T-C()),L.select(".nv-legendWrap").datum(c).call(l),l.height()>h.top&&(h.top=l.height(),F=r.utils.availableHeight(f,M,h)),L.select(".nv-legendWrap").attr("transform","translate("+C()+","+-h.top+")")):L.select(".nv-legendWrap").selectAll("*").remove(),g){var W=[{key:v.grouped||"Grouped",disabled:a.stacked()},{key:v.stacked||"Stacked",disabled:!a.stacked()}];u.width(C()).color(["#444","#444","#444"]),L.select(".nv-controlsWrap").datum(W).attr("transform","translate(0,"+-h.top+")").call(u)}else L.select(".nv-controlsWrap").selectAll("*").remove();z.attr("transform","translate("+h.left+","+h.top+")"),a.disabled(c.map(function(t){return t.disabled})).width(T).height(F).color(c.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!c[e].disabled}));var P=L.select(".nv-barsWrap").datum(c.filter(function(t){return!t.disabled}));if(P.transition().call(a),y){o.scale(e)._ticks(r.utils.calcTicksY(F/24,c)).tickSize(-T,0),L.select(".nv-x.nv-axis").call(o);var I=L.select(".nv-x.nv-axis").selectAll("g");I.selectAll("line, text")}x&&(s.scale(n)._ticks(r.utils.calcTicksX(T/100,c)).tickSize(-F,0),L.select(".nv-y.nv-axis").attr("transform","translate(0,"+F+")"),L.select(".nv-y.nv-axis").call(s)),L.select(".nv-zeroLine line").attr("x1",n(0)).attr("x2",n(0)).attr("y1",0).attr("y2",-F),l.dispatch.on("stateChange",function(e){for(var n in e)k[n]=e[n];_.stateChange(k),t.update()}),u.dispatch.on("legendClick",function(e,n){if(e.disabled){switch(W=W.map(function(t){return t.disabled=!0,t}),e.disabled=!1,e.key){case"Grouped":case v.grouped:a.stacked(!1);break;case"Stacked":case v.stacked:a.stacked(!0)}k.stacked=a.stacked(),_.stateChange(k),b=a.stacked(),t.update()}}),_.on("changeState",function(e){"undefined"!=typeof e.disabled&&(c.forEach(function(t,n){t.disabled=e.disabled[n]}),k.disabled=e.disabled),"undefined"!=typeof e.stacked&&(a.stacked(e.stacked),k.stacked=e.stacked,b=e.stacked),t.update()})}),T.renderEnd("multibar horizontal chart immediate"),t}var e,n,a=r.models.multiBarHorizontal(),o=r.models.axis(),s=r.models.axis(),l=r.models.legend().height(30),u=r.models.legend().height(30),c=r.models.tooltip(),h={top:30,right:20,bottom:50,left:60},d=null,f=null,p=r.utils.defaultColor(),g=!0,v={},m=!0,y=!0,x=!0,b=!1,k=r.utils.state(),w=null,M=null,_=i.dispatch("stateChange","changeState","renderEnd"),C=function(){return g?180:0},S=250;k.stacked=!1,a.stacked(b),o.orient("left").tickPadding(5).showMaxMin(!1).tickFormat(function(t){return t}),s.orient("bottom").tickFormat(i.format(",.1f")),c.duration(0).valueFormatter(function(t,e){return s.tickFormat()(t,e)}).headerFormatter(function(t,e){return o.tickFormat()(t,e)}),u.updateState(!1);var A=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),stacked:b}}},E=function(t){return function(e){void 0!==e.stacked&&(b=e.stacked),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},T=r.utils.renderWatch(_,S);return a.dispatch.on("elementMouseover.tooltip",function(e){e.value=t.x()(e.data),e.series={key:e.data.key,value:t.y()(e.data),color:e.color},c.data(e).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){c.hidden(!0)}),a.dispatch.on("elementMousemove.tooltip",function(t){c()}),t.dispatch=_,t.multibar=a,t.legend=l,t.controls=u,t.xAxis=o,t.yAxis=s,t.state=k,t.tooltip=c,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return d},set:function(t){d=t}},height:{get:function(){return f},set:function(t){f=t}},showLegend:{get:function(){return m},set:function(t){m=t}},showControls:{get:function(){return g},set:function(t){g=t}},controlLabels:{get:function(){return v},set:function(t){v=t}},showXAxis:{get:function(){return y},set:function(t){y=t}},showYAxis:{get:function(){return x},set:function(t){x=t}},defaultState:{get:function(){return w},set:function(t){w=t}},noData:{get:function(){return M},set:function(t){M=t}},margin:{get:function(){return h},set:function(t){h.top=void 0!==t.top?t.top:h.top,h.right=void 0!==t.right?t.right:h.right,h.bottom=void 0!==t.bottom?t.bottom:h.bottom,h.left=void 0!==t.left?t.left:h.left}},duration:{get:function(){return S},set:function(t){S=t,T.reset(S),a.duration(S),o.duration(S),s.duration(S)}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t),l.color(p)}},barColor:{get:function(){return a.barColor},set:function(t){a.barColor(t),l.color(function(t,e){return i.rgb("#ccc").darker(1.5*e).toString()})}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.multiChart=function(){"use strict";function t(c){return c.each(function(c){function p(t){var e=2===c[t.seriesIndex].yAxis?D:F;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},N.duration(0).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function L(t){var e=2===c[t.seriesIndex].yAxis?D:F;t.value=t.point.x,t.series={value:t.point.y,color:t.point.color,key:t.series.key},N.duration(100).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function P(t){var e=2===c[t.seriesIndex].yAxis?D:F;t.point.x=A.x()(t.point),t.point.y=A.y()(t.point),N.duration(0).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function I(t){var e=2===c[t.data.series].yAxis?D:F;t.value=C.x()(t.data),t.series={value:C.y()(t.data),color:t.color,key:t.data.key},N.duration(0).headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(function(t,n){return e.tickFormat()(t,n)}).data(t).hidden(!1)}function O(){for(var t=0,e=W.length;t<e;t++){var n=W[t];try{n.clearHighlights()}catch(i){}}}function R(t,e,n){for(var i=0,r=W.length;i<r;i++){var a=W[i];try{a.highlightPoint(t,e,n)}catch(o){}}}var j=i.select(this);r.utils.initSVG(j),t.update=function(){j.transition().call(t)},t.container=this;var H=r.utils.availableWidth(s,j,a),B=r.utils.availableHeight(l,j,a),G=c.filter(function(t){return"line"==t.type&&1==t.yAxis}),q=c.filter(function(t){return"line"==t.type&&2==t.yAxis}),Y=c.filter(function(t){return"scatter"==t.type&&1==t.yAxis}),V=c.filter(function(t){return"scatter"==t.type&&2==t.yAxis}),U=c.filter(function(t){return"bar"==t.type&&1==t.yAxis}),X=c.filter(function(t){return"bar"==t.type&&2==t.yAxis}),Z=c.filter(function(t){return"area"==t.type&&1==t.yAxis}),$=c.filter(function(t){return"area"==t.type&&2==t.yAxis});if(!(c&&c.length&&c.filter(function(t){return t.values.length}).length))return r.utils.noData(t,j),t;j.selectAll(".nv-noData").remove();var J=c.filter(function(t){return!t.disabled&&1==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:h(t),y:d(t)}})}),Q=c.filter(function(t){return!t.disabled&&2==t.yAxis}).map(function(t){return t.values.map(function(t,e){return{x:h(t),y:d(t)}})});y.domain(i.extent(i.merge(J.concat(Q)),function(t){return t.x})).range([0,H]);var K=j.selectAll("g.wrap.multiChart").data([c]),tt=K.enter().append("g").attr("class","wrap nvd3 multiChart").append("g");tt.append("g").attr("class","nv-x nv-axis"),tt.append("g").attr("class","nv-y1 nv-axis"),tt.append("g").attr("class","nv-y2 nv-axis"),tt.append("g").attr("class","stack1Wrap"),tt.append("g").attr("class","stack2Wrap"),tt.append("g").attr("class","bars1Wrap"),tt.append("g").attr("class","bars2Wrap"),tt.append("g").attr("class","scatters1Wrap"),tt.append("g").attr("class","scatters2Wrap"),tt.append("g").attr("class","lines1Wrap"),tt.append("g").attr("class","lines2Wrap"),tt.append("g").attr("class","legendWrap"),tt.append("g").attr("class","nv-interactive");var et=K.select("g"),nt=c.map(function(t,e){return c[e].color||o(t,e)});if(u){var it=z.align()?H/2:H,rt=z.align()?it:0;z.width(it),z.color(nt),et.select(".legendWrap").datum(c.map(function(t){return t.originalKey=void 0===t.originalKey?t.key:t.originalKey,t.key=t.originalKey+(1==t.yAxis?"":m),t})).call(z),z.height()>a.top&&(a.top=z.height(),B=r.utils.availableHeight(l,j,a)),et.select(".legendWrap").attr("transform","translate("+rt+","+-a.top+")")}else et.select(".legendWrap").selectAll("*").remove();k.width(H).height(B).interpolate(f).color(nt.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"line"==c[e].type})),w.width(H).height(B).interpolate(f).color(nt.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"line"==c[e].type;
})),M.width(H).height(B).color(nt.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"scatter"==c[e].type})),_.width(H).height(B).color(nt.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"scatter"==c[e].type})),C.width(H).height(B).color(nt.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"bar"==c[e].type})),S.width(H).height(B).color(nt.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"bar"==c[e].type})),A.width(H).height(B).interpolate(f).color(nt.filter(function(t,e){return!c[e].disabled&&1==c[e].yAxis&&"area"==c[e].type})),E.width(H).height(B).interpolate(f).color(nt.filter(function(t,e){return!c[e].disabled&&2==c[e].yAxis&&"area"==c[e].type})),et.attr("transform","translate("+a.left+","+a.top+")");var at=et.select(".lines1Wrap").datum(G.filter(function(t){return!t.disabled})),ot=et.select(".scatters1Wrap").datum(Y.filter(function(t){return!t.disabled})),st=et.select(".bars1Wrap").datum(U.filter(function(t){return!t.disabled})),lt=et.select(".stack1Wrap").datum(Z.filter(function(t){return!t.disabled})),ut=et.select(".lines2Wrap").datum(q.filter(function(t){return!t.disabled})),ct=et.select(".scatters2Wrap").datum(V.filter(function(t){return!t.disabled})),ht=et.select(".bars2Wrap").datum(X.filter(function(t){return!t.disabled})),dt=et.select(".stack2Wrap").datum($.filter(function(t){return!t.disabled})),ft=Z.length?Z.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[],pt=$.length?$.map(function(t){return t.values}).reduce(function(t,e){return t.map(function(t,n){return{x:t.x,y:t.y+e[n].y}})}).concat([{x:0,y:0}]):[];x.domain(e||i.extent(i.merge(J).concat(ft),function(t){return t.y})).range([0,B]),b.domain(n||i.extent(i.merge(Q).concat(pt),function(t){return t.y})).range([0,B]),k.yDomain(x.domain()),M.yDomain(x.domain()),C.yDomain(x.domain()),A.yDomain(x.domain()),w.yDomain(b.domain()),_.yDomain(b.domain()),S.yDomain(b.domain()),E.yDomain(b.domain()),Z.length&&i.transition(lt).call(A),$.length&&i.transition(dt).call(E),U.length&&i.transition(st).call(C),X.length&&i.transition(ht).call(S),G.length&&i.transition(at).call(k),q.length&&i.transition(ut).call(w),Y.length&&i.transition(ot).call(M),V.length&&i.transition(ct).call(_),T._ticks(r.utils.calcTicksX(H/100,c)).tickSize(-B,0),et.select(".nv-x.nv-axis").attr("transform","translate(0,"+B+")"),i.transition(et.select(".nv-x.nv-axis")).call(T),F._ticks(r.utils.calcTicksY(B/36,c)).tickSize(-H,0),i.transition(et.select(".nv-y1.nv-axis")).call(F),D._ticks(r.utils.calcTicksY(B/36,c)).tickSize(-H,0),i.transition(et.select(".nv-y2.nv-axis")).call(D),et.select(".nv-y1.nv-axis").classed("nv-disabled",!J.length).attr("transform","translate("+y.range()[0]+",0)"),et.select(".nv-y2.nv-axis").classed("nv-disabled",!Q.length).attr("transform","translate("+y.range()[1]+",0)"),z.dispatch.on("stateChange",function(e){t.update()}),v&&(g.width(H).height(B).margin({left:a.left,top:a.top}).svgContainer(j).xScale(y),K.select(".nv-interactive").call(g)),v?(g.dispatch.on("elementMousemove",function(e){O();var n,i,a,s=[];c.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(l,u){var c=y.domain(),h=l.values.filter(function(e,n){return t.x()(e,n)>=c[0]&&t.x()(e,n)<=c[1]});i=r.interactiveBisect(h,e.pointXValue,t.x());var d=h[i],f=t.y()(d,i);null!==f&&R(u,i,!0),void 0!==d&&(void 0===n&&(n=d),void 0===a&&(a=y(t.x()(d,i))),s.push({key:l.key,value:f,color:o(l,l.seriesIndex),data:d,yAxis:2==l.yAxis?D:F}))});var l=function(t,e){var n=s[e].yAxis;return null==t?"N/A":n.tickFormat()(t)};g.tooltip.headerFormatter(function(t,e){return T.tickFormat()(t,e)}).valueFormatter(g.tooltip.valueFormatter()||l).data({value:t.x()(n,i),index:i,series:s})(),g.renderGuideLine(a)}),g.dispatch.on("elementMouseout",function(t){O()})):(k.dispatch.on("elementMouseover.tooltip",p),w.dispatch.on("elementMouseover.tooltip",p),k.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),w.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),M.dispatch.on("elementMouseover.tooltip",L),_.dispatch.on("elementMouseover.tooltip",L),M.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),_.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),A.dispatch.on("elementMouseover.tooltip",P),E.dispatch.on("elementMouseover.tooltip",P),A.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),E.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),C.dispatch.on("elementMouseover.tooltip",I),S.dispatch.on("elementMouseover.tooltip",I),C.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),S.dispatch.on("elementMouseout.tooltip",function(t){N.hidden(!0)}),C.dispatch.on("elementMousemove.tooltip",function(t){N()}),S.dispatch.on("elementMousemove.tooltip",function(t){N()}))}),t}var e,n,a={top:30,right:20,bottom:50,left:60},o=r.utils.defaultColor(),s=null,l=null,u=!0,c=null,h=function(t){return t.x},d=function(t){return t.y},f="linear",p=!0,g=r.interactiveGuideline(),v=!1,m=" (right axis)",y=i.scale.linear(),x=i.scale.linear(),b=i.scale.linear(),k=r.models.line().yScale(x),w=r.models.line().yScale(b),M=r.models.scatter().yScale(x),_=r.models.scatter().yScale(b),C=r.models.multiBar().stacked(!1).yScale(x),S=r.models.multiBar().stacked(!1).yScale(b),A=r.models.stackedArea().yScale(x),E=r.models.stackedArea().yScale(b),T=r.models.axis().scale(y).orient("bottom").tickPadding(5),F=r.models.axis().scale(x).orient("left"),D=r.models.axis().scale(b).orient("right"),z=r.models.legend().height(30),N=r.models.tooltip(),L=i.dispatch(),W=[k,w,M,_,C,S,A,E];return t.dispatch=L,t.legend=z,t.lines1=k,t.lines2=w,t.scatters1=M,t.scatters2=_,t.bars1=C,t.bars2=S,t.stack1=A,t.stack2=E,t.xAxis=T,t.yAxis1=F,t.yAxis2=D,t.tooltip=N,t.interactiveLayer=g,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return u},set:function(t){u=t}},yDomain1:{get:function(){return e},set:function(t){e=t}},yDomain2:{get:function(){return n},set:function(t){n=t}},noData:{get:function(){return c},set:function(t){c=t}},interpolate:{get:function(){return f},set:function(t){f=t}},legendRightAxisHint:{get:function(){return m},set:function(t){m=t}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return o},set:function(t){o=r.utils.getColor(t)}},x:{get:function(){return h},set:function(t){h=t,k.x(t),w.x(t),M.x(t),_.x(t),C.x(t),S.x(t),A.x(t),E.x(t)}},y:{get:function(){return d},set:function(t){d=t,k.y(t),w.y(t),M.y(t),_.y(t),A.y(t),E.y(t),C.y(t),S.y(t)}},useVoronoi:{get:function(){return p},set:function(t){p=t,k.useVoronoi(t),w.useVoronoi(t),A.useVoronoi(t),E.useVoronoi(t)}},useInteractiveGuideline:{get:function(){return v},set:function(t){v=t,v&&(k.interactive(!1),k.useVoronoi(!1),w.interactive(!1),w.useVoronoi(!1),A.interactive(!1),A.useVoronoi(!1),E.interactive(!1),E.useVoronoi(!1),M.interactive(!1),_.interactive(!1))}}}),r.utils.initOptions(t),t},r.models.ohlcBar=function(){"use strict";function t(C){return C.each(function(t){h=i.select(this);var C=r.utils.availableWidth(l,h,s),A=r.utils.availableHeight(u,h,s);r.utils.initSVG(h);var E=C/t[0].values.length*.9;d.domain(e||i.extent(t[0].values.map(p).concat(b))),w?d.range(a||[.5*C/t[0].values.length,C*(t[0].values.length-.5)/t[0].values.length]):d.range(a||[5+E/2,C-E/2-5]),f.domain(n||[i.min(t[0].values.map(x).concat(k)),i.max(t[0].values.map(y).concat(k))]).range(o||[A,0]),d.domain()[0]===d.domain()[1]&&(d.domain()[0]?d.domain([d.domain()[0]-.01*d.domain()[0],d.domain()[1]+.01*d.domain()[1]]):d.domain([-1,1])),f.domain()[0]===f.domain()[1]&&(f.domain()[0]?f.domain([f.domain()[0]+.01*f.domain()[0],f.domain()[1]-.01*f.domain()[1]]):f.domain([-1,1]));var T=i.select(this).selectAll("g.nv-wrap.nv-ohlcBar").data([t[0].values]),F=T.enter().append("g").attr("class","nvd3 nv-wrap nv-ohlcBar"),D=F.append("defs"),z=F.append("g"),N=T.select("g");z.append("g").attr("class","nv-ticks"),T.attr("transform","translate("+s.left+","+s.top+")"),h.on("click",function(t,e){S.chartClick({data:t,index:e,pos:i.event,id:c})}),D.append("clipPath").attr("id","nv-chart-clip-path-"+c).append("rect"),T.select("#nv-chart-clip-path-"+c+" rect").attr("width",C).attr("height",A),N.attr("clip-path",M?"url(#nv-chart-clip-path-"+c+")":"");var L=T.select(".nv-ticks").selectAll(".nv-tick").data(function(t){return t});L.exit().remove(),L.enter().append("path").attr("class",function(t,e,n){return(v(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}).attr("d",function(t,e){return"m0,0l0,"+(f(v(t,e))-f(y(t,e)))+"l"+-E/2+",0l"+E/2+",0l0,"+(f(x(t,e))-f(v(t,e)))+"l0,"+(f(m(t,e))-f(x(t,e)))+"l"+E/2+",0l"+-E/2+",0z"}).attr("transform",function(t,e){return"translate("+d(p(t,e))+","+f(y(t,e))+")"}).attr("fill",function(t,e){return _[0]}).attr("stroke",function(t,e){return _[0]}).attr("x",0).attr("y",function(t,e){return f(Math.max(0,g(t,e)))}).attr("height",function(t,e){return Math.abs(f(g(t,e))-f(0))}),L.attr("class",function(t,e,n){return(v(t,e)>m(t,e)?"nv-tick negative":"nv-tick positive")+" nv-tick-"+n+"-"+e}),i.transition(L).attr("transform",function(t,e){return"translate("+d(p(t,e))+","+f(y(t,e))+")"}).attr("d",function(e,n){var i=C/t[0].values.length*.9;return"m0,0l0,"+(f(v(e,n))-f(y(e,n)))+"l"+-i/2+",0l"+i/2+",0l0,"+(f(x(e,n))-f(v(e,n)))+"l0,"+(f(m(e,n))-f(x(e,n)))+"l"+i/2+",0l"+-i/2+",0z"})}),t}var e,n,a,o,s={top:0,right:0,bottom:0,left:0},l=null,u=null,c=Math.floor(1e4*Math.random()),h=null,d=i.scale.linear(),f=i.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=function(t){return t.open},m=function(t){return t.close},y=function(t){return t.high},x=function(t){return t.low},b=[],k=[],w=!1,M=!0,_=r.utils.defaultColor(),C=!1,S=i.dispatch("stateChange","changeState","renderEnd","chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove");return t.highlightPoint=function(e,n){t.clearHighlights(),h.select(".nv-ohlcBar .nv-tick-0-"+e).classed("hover",n)},t.clearHighlights=function(){h.select(".nv-ohlcBar .nv-tick.hover").classed("hover",!1)},t.dispatch=S,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},forceX:{get:function(){return b},set:function(t){b=t}},forceY:{get:function(){return k},set:function(t){k=t}},padData:{get:function(){return w},set:function(t){w=t}},clipEdge:{get:function(){return M},set:function(t){M=t}},id:{get:function(){return c},set:function(t){c=t}},interactive:{get:function(){return C},set:function(t){C=t}},x:{get:function(){return p},set:function(t){p=t}},y:{get:function(){return g},set:function(t){g=t}},open:{get:function(){return v()},set:function(t){v=t}},close:{get:function(){return m()},set:function(t){m=t}},high:{get:function(){return y},set:function(t){y=t}},low:{get:function(){return x},set:function(t){x=t}},margin:{get:function(){return s},set:function(t){s.top=void 0!=t.top?t.top:s.top,s.right=void 0!=t.right?t.right:s.right,s.bottom=void 0!=t.bottom?t.bottom:s.bottom,s.left=void 0!=t.left?t.left:s.left}},color:{get:function(){return _},set:function(t){_=r.utils.getColor(t)}}}),r.utils.initOptions(t),t},r.models.parallelCoordinates=function(){"use strict";function t(E){return A.reset(),E.each(function(t){function A(t){return _(g.map(function(e){if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key]))||H){var n=d[e.key].domain(),r=d[e.key].range(),a=n[0]-(n[1]-n[0])/9;if(w.indexOf(e.key)<0){var o=i.scale.linear().domain([a,n[1]]).range([c-12,r[1]]);d[e.key].brush.y(o),w.push(e.key)}if(isNaN(t.values[e.key])||isNaN(parseFloat(t.values[e.key])))return[h(e.key),d[e.key](a)]}return void 0!==U&&(w.length>0||H?(U.style("display","inline"),X.style("display","inline")):(U.style("display","none"),X.style("display","none"))),[h(e.key),d[e.key](t.values[e.key])]}))}function E(t){x.forEach(function(e){var n=d[e.dimension].brush.y().domain();e.hasOnlyNaN&&(e.extent[1]=(d[e.dimension].domain()[1]-n[0])*(e.extent[1]-e.extent[0])/(j[e.dimension]-e.extent[0])+n[0]),e.hasNaN&&(e.extent[0]=n[0]),t&&d[e.dimension].brush.extent(e.extent)}),a.select(".nv-brushBackground").each(function(t){i.select(this).call(d[t.key].brush)}).selectAll("rect").attr("x",-8).attr("width",16),z()}function T(){m===!1&&(m=!0,E(!0))}function F(){K=v.filter(function(t){return!d[t].brush.empty()}),tt=K.map(function(t){return d[t].brush.extent()}),x=[],K.forEach(function(t,e){x[e]={dimension:t,extent:tt[e],hasNaN:!1,hasOnlyNaN:!1}}),b=[],e.style("display",function(t){var e=K.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||tt[n][0]!=d[e].brush.y().domain()[0])||tt[n][0]<=t.values[e]&&t.values[e]<=tt[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&b.push(t),e?null:"none"}),z(),S.brush({filters:x,active:b})}function D(){var t=K.length>0;x.forEach(function(t){t.extent[0]===d[t.dimension].brush.y().domain()[0]&&w.indexOf(t.dimension)>=0&&(t.hasNaN=!0),t.extent[1]<d[t.dimension].domain()[0]&&(t.hasOnlyNaN=!0)}),S.brushEnd(b,t)}function z(){a.select(".nv-axis").each(function(t,e){var n=x.filter(function(e){return e.dimension==t.key});B[t.key]=d[t.key].domain(),0!=n.length&&m&&(B[t.key]=[],n[0].extent[1]>d[t.key].domain()[0]&&(B[t.key]=[n[0].extent[1]]),n[0].extent[0]>=d[t.key].domain()[0]&&B[t.key].push(n[0].extent[0])),i.select(this).call(C.scale(d[t.key]).tickFormat(t.format).tickValues(B[t.key]))})}function N(t){k[t.key]=this.parentNode.__origin__=h(t.key),n.attr("visibility","hidden")}function L(t){k[t.key]=Math.min(u,Math.max(0,this.parentNode.__origin__+=i.event.x)),e.attr("d",A),g.sort(function(t,e){return P(t.key)-P(e.key)}),g.forEach(function(t,e){return t.currentPosition=e}),h.domain(g.map(function(t){return t.key})),a.attr("transform",function(t){return"translate("+P(t.key)+")"})}function W(t,r){delete this.parentNode.__origin__,delete k[t.key],i.select(this.parentNode).attr("transform","translate("+h(t.key)+")"),e.attr("d",A),n.attr("d",A).attr("visibility",null),S.dimensionsOrder(g)}function P(t){var e=k[t];return null==e?h(t):e}var I=i.select(this);if(u=r.utils.availableWidth(s,I,o),c=r.utils.availableHeight(l,I,o),r.utils.initSVG(I),void 0===t[0].values){var O=[];t.forEach(function(t){var e={},n=Object.keys(t);n.forEach(function(n){"name"!==n&&(e[n]=t[n])}),O.push({key:t.name,values:e})}),t=O}var R=t.map(function(t){return t.values});0===b.length&&(b=t),v=p.sort(function(t,e){return t.currentPosition-e.currentPosition}).map(function(t){return t.key}),g=p.filter(function(t){return!t.disabled}),h.rangePoints([0,u],1).domain(g.map(function(t){return t.key}));var j={},H=!1,B=[];v.forEach(function(t){var e=i.extent(R,function(e){return+e[t]}),n=e[0],r=e[1],a=!1;(isNaN(n)||isNaN(r))&&(a=!0,n=0,r=0),n===r&&(n-=1,r+=1);var o=x.filter(function(e){return e.dimension==t});0!==o.length&&(a?(n=d[t].domain()[0],r=d[t].domain()[1]):!o[0].hasOnlyNaN&&m?(n=n>o[0].extent[0]?o[0].extent[0]:n,r=r<o[0].extent[1]?o[0].extent[1]:r):o[0].hasNaN&&(r=r<o[0].extent[1]?o[0].extent[1]:r,j[t]=d[t].domain()[1],H=!0)),d[t]=i.scale.linear().domain([n,r]).range([.9*(c-12),0]),w=[],d[t].brush=i.svg.brush().y(d[t]).on("brushstart",T).on("brush",F).on("brushend",D)});var G=I.selectAll("g.nv-wrap.nv-parallelCoordinates").data([t]),q=G.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinates"),Y=q.append("g"),V=G.select("g");Y.append("g").attr("class","nv-parallelCoordinates background"),Y.append("g").attr("class","nv-parallelCoordinates foreground"),Y.append("g").attr("class","nv-parallelCoordinates missingValuesline"),G.attr("transform","translate("+o.left+","+o.top+")"),_.interpolate("cardinal").tension(M),C.orient("left");var U,X,Z=i.behavior.drag().on("dragstart",N).on("drag",L).on("dragend",W),$=h.range()[1]-h.range()[0];if(!isNaN($)){var J=[0+$/2,c-12,u-$/2,c-12];U=G.select(".missingValuesline").selectAll("line").data([J]),U.enter().append("line"),U.exit().remove(),U.attr("x1",function(t){return t[0]}).attr("y1",function(t){return t[1]}).attr("x2",function(t){return t[2]}).attr("y2",function(t){return t[3]}),X=G.select(".missingValuesline").selectAll("text").data([f]),X.append("text").data([f]),X.enter().append("text"),X.exit().remove(),X.attr("y",c).attr("x",u-92-$/2).text(function(t){return t})}n=G.select(".background").selectAll("path").data(t),n.enter().append("path"),n.exit().remove(),n.attr("d",A),e=G.select(".foreground").selectAll("path").data(t),e.enter().append("path"),e.exit().remove(),e.attr("d",A).style("stroke-width",function(t,e){return isNaN(t.strokeWidth)&&(t.strokeWidth=1),t.strokeWidth}).attr("stroke",function(t,e){return t.color||y(t,e)}),e.on("mouseover",function(t,e){i.select(this).classed("hover",!0).style("stroke-width",t.strokeWidth+2+"px").style("stroke-opacity",1),S.elementMouseover({label:t.name,color:t.color||y(t,e),values:t.values,dimensions:g})}),e.on("mouseout",function(t,e){i.select(this).classed("hover",!1).style("stroke-width",t.strokeWidth+"px").style("stroke-opacity",.7),S.elementMouseout({label:t.name,index:e})}),e.on("mousemove",function(t,e){S.elementMousemove()}),e.on("click",function(t){S.elementClick({id:t.id})}),a=V.selectAll(".dimension").data(g);var Q=a.enter().append("g").attr("class","nv-parallelCoordinates dimension");a.attr("transform",function(t){return"translate("+h(t.key)+",0)"}),Q.append("g").attr("class","nv-axis"),Q.append("text").attr("class","nv-label").style("cursor","move").attr("dy","-1em").attr("text-anchor","middle").on("mouseover",function(t,e){S.elementMouseover({label:t.tooltip||t.key,color:t.color})}).on("mouseout",function(t,e){S.elementMouseout({label:t.tooltip})}).on("mousemove",function(t,e){S.elementMousemove()}).call(Z),Q.append("g").attr("class","nv-brushBackground"),a.exit().remove(),a.select(".nv-label").text(function(t){return t.key}),E(m);var K=v.filter(function(t){return!d[t].brush.empty()}),tt=K.map(function(t){return d[t].brush.extent()}),et=b.slice(0);b=[],e.style("display",function(t){var e=K.every(function(e,n){return!(!isNaN(t.values[e])&&!isNaN(parseFloat(t.values[e]))||tt[n][0]!=d[e].brush.y().domain()[0])||tt[n][0]<=t.values[e]&&t.values[e]<=tt[n][1]&&!isNaN(parseFloat(t.values[e]))});return e&&b.push(t),e?null:"none"}),(x.length>0||!r.utils.arrayEquals(b,et))&&S.activeChanged(b)}),t}var e,n,a,o={top:30,right:0,bottom:10,left:0},s=null,l=null,u=null,c=null,h=i.scale.ordinal(),d={},f="undefined values",p=[],g=[],v=[],m=!0,y=r.utils.defaultColor(),x=[],b=[],k=[],w=[],M=1,_=i.svg.line(),C=i.svg.axis(),S=i.dispatch("brushstart","brush","brushEnd","dimensionsOrder","stateChange","elementClick","elementMouseover","elementMouseout","elementMousemove","renderEnd","activeChanged"),A=r.utils.renderWatch(S);return t.dispatch=S,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},dimensionData:{get:function(){return p},set:function(t){p=t}},displayBrush:{get:function(){return m},set:function(t){m=t}},filters:{get:function(){return x},set:function(t){x=t}},active:{get:function(){return b},set:function(t){b=t}},lineTension:{get:function(){return M},set:function(t){M=t}},undefinedValuesLabel:{get:function(){return f},set:function(t){f=t}},dimensions:{get:function(){return p.map(function(t){return t.key})},set:function(t){r.deprecated("dimensions","use dimensionData instead"),0===p.length?t.forEach(function(t){p.push({key:t})}):t.forEach(function(t,e){p[e].key=t})}},dimensionNames:{get:function(){return p.map(function(t){return t.key})},set:function(t){r.deprecated("dimensionNames","use dimensionData instead"),v=[],0===p.length?t.forEach(function(t){p.push({key:t})}):t.forEach(function(t,e){p[e].key=t})}},dimensionFormats:{get:function(){return p.map(function(t){return t.format})},set:function(t){r.deprecated("dimensionFormats","use dimensionData instead"),0===p.length?t.forEach(function(t){p.push({format:t})}):t.forEach(function(t,e){p[e].format=t})}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return y},set:function(t){y=r.utils.getColor(t)}}}),r.utils.initOptions(t),t},r.models.parallelCoordinatesChart=function(){"use strict";function t(a){return y.reset(),y.models(e),a.each(function(a){var c=i.select(this);r.utils.initSVG(c);var g=r.utils.availableWidth(s,c,o),v=r.utils.availableHeight(l,c,o);if(t.update=function(){c.call(t)},t.container=this,h.setter(b(d),t.update).getter(x(d)).update(),h.disabled=d.map(function(t){return!!t.disabled}),d=d.map(function(t){return t.disabled=!!t.disabled,t}),d.forEach(function(t,e){t.originalPosition=isNaN(t.originalPosition)?e:t.originalPosition,t.currentPosition=isNaN(t.currentPosition)?e:t.currentPosition}),!p){var y;p={};for(y in h)h[y]instanceof Array?p[y]=h[y].slice(0):p[y]=h[y]}if(!a||!a.length)return r.utils.noData(t,c),t;c.selectAll(".nv-noData").remove();var k=c.selectAll("g.nv-wrap.nv-parallelCoordinatesChart").data([a]),w=k.enter().append("g").attr("class","nvd3 nv-wrap nv-parallelCoordinatesChart").append("g"),M=k.select("g");w.append("g").attr("class","nv-parallelCoordinatesWrap"),w.append("g").attr("class","nv-legendWrap"),M.select("rect").attr("width",g).attr("height",v>0?v:0),u?(n.width(g).color(function(t){return"rgb(188,190,192)"}),M.select(".nv-legendWrap").datum(d.sort(function(t,e){return t.originalPosition-e.originalPosition})).call(n),n.height()>o.top&&(o.top=n.height(),v=r.utils.availableHeight(l,c,o)),k.select(".nv-legendWrap").attr("transform","translate( 0 ,"+-o.top+")")):M.select(".nv-legendWrap").selectAll("*").remove(),k.attr("transform","translate("+o.left+","+o.top+")"),e.width(g).height(v).dimensionData(d).displayBrush(f);var _=M.select(".nv-parallelCoordinatesWrap ").datum(a);_.transition().call(e),e.dispatch.on("brushEnd",function(t,e){e?(f=!0,m.brushEnd(t)):f=!1}),n.dispatch.on("stateChange",function(e){for(var n in e)h[n]=e[n];m.stateChange(h),t.update()}),e.dispatch.on("dimensionsOrder",function(t){d.sort(function(t,e){return t.currentPosition-e.currentPosition});var e=!1;d.forEach(function(t,n){t.currentPosition=n,t.currentPosition!==t.originalPosition&&(e=!0)}),m.dimensionsOrder(d,e)}),m.on("changeState",function(e){"undefined"!=typeof e.disabled&&(d.forEach(function(t,n){t.disabled=e.disabled[n]}),h.disabled=e.disabled),t.update()})}),y.renderEnd("parraleleCoordinateChart immediate"),t}var e=r.models.parallelCoordinates(),n=r.models.legend(),a=r.models.tooltip(),o=(r.models.tooltip(),{top:0,right:0,bottom:0,left:0}),s=null,l=null,u=!0,c=r.utils.defaultColor(),h=r.utils.state(),d=[],f=!0,p=null,g=null,v="undefined",m=i.dispatch("dimensionsOrder","brushEnd","stateChange","changeState","renderEnd"),y=r.utils.renderWatch(m),x=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return a.contentGenerator(function(t){var e='<table><thead><tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td><strong>'+t.key+"</strong></td></tr></thead>";return 0!==t.series.length&&(e+='<tbody><tr><td height ="10px"></td></tr>',t.series.forEach(function(t){e=e+'<tr><td class="legend-color-guide"><div style="background-color:'+t.color+'"></div></td><td class="key">'+t.key+'</td><td class="value">'+t.value+"</td></tr>"}),e+="</tbody>"),e+="</table>"}),e.dispatch.on("elementMouseover.tooltip",function(t){var e={key:t.label,color:t.color,series:[]};t.values&&(Object.keys(t.values).forEach(function(n){var i=t.dimensions.filter(function(t){return t.key===n})[0];if(i){var r;r=isNaN(t.values[n])||isNaN(parseFloat(t.values[n]))?v:i.format(t.values[n]),e.series.push({idx:i.currentPosition,key:n,value:r,color:i.color})}}),e.series.sort(function(t,e){return t.idx-e.idx})),a.data(e).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){a.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(){a()}),t.dispatch=m,t.parallelCoordinates=e,t.legend=n,t.tooltip=a,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},showLegend:{get:function(){return u},set:function(t){u=t}},defaultState:{get:function(){return p},set:function(t){p=t}},dimensionData:{get:function(){return d},set:function(t){d=t}},displayBrush:{get:function(){return f},set:function(t){f=t}},noData:{get:function(){return g},set:function(t){g=t}},nanValue:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}},color:{get:function(){return c},set:function(t){c=r.utils.getColor(t),n.color(c),e.color(c)}}}),r.utils.inheritOptions(t,e),r.utils.initOptions(t),t},r.models.pie=function(){"use strict";function t(z){return D.reset(),z.each(function(t){function z(t,e){t.endAngle=isNaN(t.endAngle)?0:t.endAngle,t.startAngle=isNaN(t.startAngle)?0:t.startAngle,v||(t.innerRadius=0);var n=i.interpolate(this._current,t);return this._current=n(0),function(t){return T[e](n(t))}}var N=n-e.left-e.right,L=a-e.top-e.bottom,W=Math.min(N,L)/2,P=[],I=[];if(u=i.select(this),0===A.length)for(var O=W-W/5,R=C*W,j=0;j<t[0].length;j++)P.push(O),I.push(R);else y?(P=A.map(function(t){return(t.outer-t.outer/5)*W}),I=A.map(function(t){return(t.inner-t.inner/5)*W}),C=i.min(A.map(function(t){return t.inner-t.inner/5}))):(P=A.map(function(t){return t.outer*W}),I=A.map(function(t){return t.inner*W}),C=i.min(A.map(function(t){return t.inner})));r.utils.initSVG(u);var H=u.selectAll(".nv-wrap.nv-pie").data(t),B=H.enter().append("g").attr("class","nvd3 nv-wrap nv-pie nv-chart-"+l),G=B.append("g"),q=H.select("g"),Y=G.append("g").attr("class","nv-pie");G.append("g").attr("class","nv-pieLabels"),H.attr("transform","translate("+e.left+","+e.top+")"),q.select(".nv-pie").attr("transform","translate("+N/2+","+L/2+")"),q.select(".nv-pieLabels").attr("transform","translate("+N/2+","+L/2+")"),u.on("click",function(t,e){E.chartClick({data:t,index:e,pos:i.event,id:l})}),T=[],F=[];for(var j=0;j<t[0].length;j++){var V=i.svg.arc().outerRadius(P[j]),U=i.svg.arc().outerRadius(P[j]+5);k!==!1&&(V.startAngle(k),U.startAngle(k)),M!==!1&&(V.endAngle(M),U.endAngle(M)),v&&(V.innerRadius(I[j]),U.innerRadius(I[j])),V.cornerRadius&&_&&(V.cornerRadius(_),U.cornerRadius(_)),T.push(V),F.push(U)}var X=i.layout.pie().sort(null).value(function(t){return t.disabled?0:s(t)});X.padAngle&&w&&X.padAngle(w),v&&m&&(Y.append("text").attr("class","nv-pie-title"),H.select(".nv-pie-title").style("text-anchor","middle").text(function(t){return m}).style("font-size",Math.min(N,L)*C*2/(m.length+2)+"px").attr("dy","0.35em").attr("transform",function(t,e){return"translate(0, "+x+")"}));var Z=H.select(".nv-pie").selectAll(".nv-slice").data(X),$=H.select(".nv-pieLabels").selectAll(".nv-label").data(X);Z.exit().remove(),$.exit().remove();var J=Z.enter().append("g");J.attr("class","nv-slice"),J.on("mouseover",function(t,e){i.select(this).classed("hover",!0),y&&i.select(this).select("path").transition().duration(70).attr("d",F[e]),E.elementMouseover({data:t.data,index:e,color:i.select(this).style("fill"),percent:(t.endAngle-t.startAngle)/(2*Math.PI)})}),J.on("mouseout",function(t,e){i.select(this).classed("hover",!1),y&&i.select(this).select("path").transition().duration(50).attr("d",T[e]),E.elementMouseout({data:t.data,index:e})}),J.on("mousemove",function(t,e){E.elementMousemove({data:t.data,index:e})}),J.on("click",function(t,e){var n=this;E.elementClick({data:t.data,index:e,color:i.select(this).style("fill"),event:i.event,element:n})}),J.on("dblclick",function(t,e){E.elementDblClick({data:t.data,index:e,color:i.select(this).style("fill")})}),Z.attr("fill",function(t,e){return c(t.data,e)}),Z.attr("stroke",function(t,e){return c(t.data,e)});J.append("path").each(function(t){this._current=t});if(Z.select("path").transition().duration(S).attr("d",function(t,e){return T[e](t)}).attrTween("d",z),d){for(var Q=[],j=0;j<t[0].length;j++)Q.push(T[j]),f?v&&(Q[j]=i.svg.arc().outerRadius(T[j].outerRadius()),k!==!1&&Q[j].startAngle(k),M!==!1&&Q[j].endAngle(M)):v||Q[j].innerRadius(0);$.enter().append("g").classed("nv-label",!0).each(function(t,e){var n=i.select(this);n.attr("transform",function(t,e){if(b){t.outerRadius=P[e]+10,t.innerRadius=P[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Q[e].centroid(t)+") rotate("+n+")"}return t.outerRadius=W+10,t.innerRadius=W+15,"translate("+Q[e].centroid(t)+")"}),n.append("rect").style("stroke","#fff").style("fill","#fff").attr("rx",3).attr("ry",3),n.append("text").style("text-anchor",b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle").style("fill","#000")});var K={},tt=14,et=140,nt=function(t){return Math.floor(t[0]/et)*et+","+Math.floor(t[1]/tt)*tt},it=function(t){return(t.endAngle-t.startAngle)/(2*Math.PI)};$.watchTransition(D,"pie labels").attr("transform",function(t,e){if(b){t.outerRadius=P[e]+10,t.innerRadius=P[e]+15;var n=(t.startAngle+t.endAngle)/2*(180/Math.PI);return(t.startAngle+t.endAngle)/2<Math.PI?n-=90:n+=90,"translate("+Q[e].centroid(t)+") rotate("+n+")"}t.outerRadius=W+10,t.innerRadius=W+15;var i=Q[e].centroid(t),r=it(t);if(t.value&&r>=g){var a=nt(i);K[a]&&(i[1]-=tt),K[nt(i)]=!0}return"translate("+i+")"}),$.select(".nv-label text").style("text-anchor",function(t,e){return b?(t.startAngle+t.endAngle)/2<Math.PI?"start":"end":"middle"}).text(function(t,e){var n=it(t),r="";if(!t.value||n<g)return"";if("function"==typeof p)r=p(t,e,{key:o(t.data),value:s(t.data),percent:h(n)});else switch(p){case"key":r=o(t.data);break;case"value":r=h(s(t.data));break;case"percent":r=i.format("%")(n)}return r})}}),D.renderEnd("pie immediate"),t}var e={top:0,right:0,bottom:0,left:0},n=500,a=500,o=function(t){return t.x},s=function(t){return t.y},l=Math.floor(1e4*Math.random()),u=null,c=r.utils.defaultColor(),h=i.format(",.2f"),d=!0,f=!1,p="key",g=.02,v=!1,m=!1,y=!0,x=0,b=!1,k=!1,w=!1,M=!1,_=0,C=.5,S=250,A=[],E=i.dispatch("chartClick","elementClick","elementDblClick","elementMouseover","elementMouseout","elementMousemove","renderEnd"),T=[],F=[],D=r.utils.renderWatch(E);return t.dispatch=E,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{arcsRadius:{get:function(){return A},set:function(t){A=t}},width:{get:function(){return n},set:function(t){n=t}},height:{get:function(){return a},set:function(t){a=t}},showLabels:{get:function(){return d},set:function(t){d=t}},title:{get:function(){return m},set:function(t){m=t}},titleOffset:{get:function(){return x},set:function(t){x=t}},labelThreshold:{get:function(){return g},set:function(t){g=t}},valueFormat:{get:function(){return h},set:function(t){h=t}},x:{get:function(){return o},set:function(t){o=t}},id:{get:function(){return l},set:function(t){l=t}},endAngle:{get:function(){return M},set:function(t){M=t}},startAngle:{get:function(){return k},set:function(t){k=t}},padAngle:{get:function(){return w},set:function(t){w=t}},cornerRadius:{
get:function(){return _},set:function(t){_=t}},donutRatio:{get:function(){return C},set:function(t){C=t}},labelsOutside:{get:function(){return f},set:function(t){f=t}},labelSunbeamLayout:{get:function(){return b},set:function(t){b=t}},donut:{get:function(){return v},set:function(t){v=t}},growOnHover:{get:function(){return y},set:function(t){y=t}},pieLabelsOutside:{get:function(){return f},set:function(t){f=t,r.deprecated("pieLabelsOutside","use labelsOutside instead")}},donutLabelsOutside:{get:function(){return f},set:function(t){f=t,r.deprecated("donutLabelsOutside","use labelsOutside instead")}},labelFormat:{get:function(){return h},set:function(t){h=t,r.deprecated("labelFormat","use valueFormat instead")}},margin:{get:function(){return e},set:function(t){e.top="undefined"!=typeof t.top?t.top:e.top,e.right="undefined"!=typeof t.right?t.right:e.right,e.bottom="undefined"!=typeof t.bottom?t.bottom:e.bottom,e.left="undefined"!=typeof t.left?t.left:e.left}},duration:{get:function(){return S},set:function(t){S=t,D.reset(S)}},y:{get:function(){return s},set:function(t){s=i.functor(t)}},color:{get:function(){return c},set:function(t){c=r.utils.getColor(t)}},labelType:{get:function(){return p},set:function(t){p=t||"key"}}}),r.utils.initOptions(t),t},r.models.pieChart=function(){"use strict";function t(a){return y.reset(),y.models(e),a.each(function(a){var u=i.select(this);r.utils.initSVG(u);var d=r.utils.availableWidth(s,u,o),g=r.utils.availableHeight(l,u,o);if(t.update=function(){u.transition().call(t)},t.container=this,f.setter(b(a),t.update).getter(x(a)).update(),f.disabled=a.map(function(t){return!!t.disabled}),!p){var v;p={};for(v in f)f[v]instanceof Array?p[v]=f[v].slice(0):p[v]=f[v]}if(!a||!a.length)return r.utils.noData(t,u),t;u.selectAll(".nv-noData").remove();var y=u.selectAll("g.nv-wrap.nv-pieChart").data([a]),k=y.enter().append("g").attr("class","nvd3 nv-wrap nv-pieChart").append("g"),w=y.select("g");if(k.append("g").attr("class","nv-pieWrap"),k.append("g").attr("class","nv-legendWrap"),c){if("top"===h)n.width(d).key(e.x()),y.select(".nv-legendWrap").datum(a).call(n),n.height()>o.top&&(o.top=n.height(),g=r.utils.availableHeight(l,u,o)),y.select(".nv-legendWrap").attr("transform","translate(0,"+-o.top+")");else if("right"===h){var M=r.models.legend().width();d/2<M&&(M=d/2),n.height(g).key(e.x()),n.width(M),d-=n.width(),y.select(".nv-legendWrap").datum(a).call(n).attr("transform","translate("+d+",0)")}}else w.select(".nv-legendWrap").selectAll("*").remove();y.attr("transform","translate("+o.left+","+o.top+")"),e.width(d).height(g);var _=w.select(".nv-pieWrap").datum([a]);i.transition(_).call(e),n.dispatch.on("stateChange",function(e){for(var n in e)f[n]=e[n];m.stateChange(f),t.update()}),m.on("changeState",function(e){"undefined"!=typeof e.disabled&&(a.forEach(function(t,n){t.disabled=e.disabled[n]}),f.disabled=e.disabled),t.update()})}),y.renderEnd("pieChart immediate"),t}var e=r.models.pie(),n=r.models.legend(),a=r.models.tooltip(),o={top:30,right:20,bottom:20,left:20},s=null,l=null,u=!1,c=!0,h="top",d=r.utils.defaultColor(),f=r.utils.state(),p=null,g=null,v=250,m=i.dispatch("stateChange","changeState","renderEnd");a.duration(0).headerEnabled(!1).valueFormatter(function(t,n){return e.valueFormat()(t,n)});var y=r.utils.renderWatch(m),x=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},b=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return e.dispatch.on("elementMouseover.tooltip",function(e){e.series={key:t.x()(e.data),value:t.y()(e.data),color:e.color,percent:e.percent},u||(delete e.percent,delete e.series.percent),a.data(e).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){a.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(t){a()}),t.legend=n,t.dispatch=m,t.pie=e,t.tooltip=a,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},noData:{get:function(){return g},set:function(t){g=t}},showTooltipPercent:{get:function(){return u},set:function(t){u=t}},showLegend:{get:function(){return c},set:function(t){c=t}},legendPosition:{get:function(){return h},set:function(t){h=t}},defaultState:{get:function(){return p},set:function(t){p=t}},color:{get:function(){return d},set:function(t){d=t,n.color(d),e.color(d)}},duration:{get:function(){return v},set:function(t){v=t,y.reset(v),e.duration(v)}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}}}),r.utils.inheritOptions(t,e),r.utils.initOptions(t),t},r.models.scatter=function(){"use strict";function t(t){var e,n;return e=u=u||{},n=t[0].series,e=e[n]=e[n]||{},n=t[1],e=e[n]=e[n]||{}}function e(e){var n,i,r=e[0],a=t(e),o=!1;for(n=1;n<arguments.length;n++)i=arguments[n],a[i]===r[i]&&a.hasOwnProperty(i)||(a[i]=r[i],o=!0);return o}function n(t){return U.reset(),t.each(function(t){function u(){if(V=!1,!S)return!1;if(B===!0){var e=i.merge(t.map(function(t,e){return t.values.map(function(t,n){var i=x(t,n),a=b(t,n);return[r.utils.NaNtoZero(v(i))+1e-4*Math.random(),r.utils.NaNtoZero(m(a))+1e-4*Math.random(),e,n,t]}).filter(function(t,e){return A(t[4],e)})}));if(0==e.length)return!1;e.length<3&&(e.push([v.range()[0]-20,m.range()[0]-20,null,null]),e.push([v.range()[1]+20,m.range()[1]+20,null,null]),e.push([v.range()[0]-20,m.range()[0]+20,null,null]),e.push([v.range()[1]+20,m.range()[1]-20,null,null]));var n=i.geom.polygon([[-10,-10],[-10,d+10],[h+10,d+10],[h+10,-10]]),a=i.geom.voronoi(e).map(function(t,i){return{data:n.clip(t),series:e[i][2],point:e[i][3]}});tt.select(".nv-point-paths").selectAll("path").remove();var o=tt.select(".nv-point-paths").selectAll("path").data(a),s=o.enter().append("svg:path").attr("d",function(t){return t&&t.data&&0!==t.data.length?"M"+t.data.join(",")+"Z":"M 0 0"}).attr("id",function(t,e){return"nv-path-"+e}).attr("clip-path",function(t,e){return"url(#nv-clip-"+p+"-"+e+")"});if(z&&s.style("fill",i.rgb(230,230,230)).style("fill-opacity",.4).style("stroke-opacity",1).style("stroke",i.rgb(200,200,200)),D){tt.select(".nv-point-clips").selectAll("*").remove();var l=tt.select(".nv-point-clips").selectAll("clipPath").data(e);l.enter().append("svg:clipPath").attr("id",function(t,e){return"nv-clip-"+p+"-"+e}).append("svg:circle").attr("cx",function(t){return t[0]}).attr("cy",function(t){return t[1]}).attr("r",N)}var u=function(e,n){if(V)return 0;var i=t[e.series];if(void 0!==i){var r=i.values[e.point];r.color=f(i,e.series),r.x=x(r),r.y=b(r);var a=g.node().getBoundingClientRect(),o=window.pageYOffset||document.documentElement.scrollTop,s=window.pageXOffset||document.documentElement.scrollLeft,l={left:v(x(r,e.point))+a.left+s+c.left+10,top:m(b(r,e.point))+a.top+o+c.top+10};n({point:r,series:i,pos:l,relativePos:[v(x(r,e.point))+c.left,m(b(r,e.point))+c.top],seriesIndex:e.series,pointIndex:e.point})}};o.on("click",function(t){u(t,H.elementClick)}).on("dblclick",function(t){u(t,H.elementDblClick)}).on("mouseover",function(t){u(t,H.elementMouseover)}).on("mouseout",function(t,e){u(t,H.elementMouseout)})}else tt.select(".nv-groups").selectAll(".nv-group").selectAll(".nv-point").on("click",function(e,n){if(V||!t[e.series])return 0;var r=t[e.series],a=r.values[n],o=this;H.elementClick({point:a,series:r,pos:[v(x(a,n))+c.left,m(b(a,n))+c.top],relativePos:[v(x(a,n))+c.left,m(b(a,n))+c.top],seriesIndex:e.series,pointIndex:n,event:i.event,element:o})}).on("dblclick",function(e,n){if(V||!t[e.series])return 0;var i=t[e.series],r=i.values[n];H.elementDblClick({point:r,series:i,pos:[v(x(r,n))+c.left,m(b(r,n))+c.top],relativePos:[v(x(r,n))+c.left,m(b(r,n))+c.top],seriesIndex:e.series,pointIndex:n})}).on("mouseover",function(e,n){if(V||!t[e.series])return 0;var i=t[e.series],r=i.values[n];H.elementMouseover({point:r,series:i,pos:[v(x(r,n))+c.left,m(b(r,n))+c.top],relativePos:[v(x(r,n))+c.left,m(b(r,n))+c.top],seriesIndex:e.series,pointIndex:n,color:f(e,n)})}).on("mouseout",function(e,n){if(V||!t[e.series])return 0;var i=t[e.series],r=i.values[n];H.elementMouseout({point:r,series:i,pos:[v(x(r,n))+c.left,m(b(r,n))+c.top],relativePos:[v(x(r,n))+c.left,m(b(r,n))+c.top],seriesIndex:e.series,pointIndex:n,color:f(e,n)})})}g=i.select(this);var G=r.utils.availableWidth(h,g,c),Z=r.utils.availableHeight(d,g,c);r.utils.initSVG(g),t.forEach(function(t,e){t.values.forEach(function(t){t.series=e})});var $=n.yScale().name===i.scale.log().name,J=L&&W&&O?[]:i.merge(t.map(function(t){return t.values.map(function(t,e){return{x:x(t,e),y:b(t,e),size:k(t,e)}})}));if(v.domain(L||i.extent(J.map(function(t){return t.x}).concat(M))),E&&t[0]?v.range(P||[(G*T+G)/(2*t[0].values.length),G-G*(1+T)/(2*t[0].values.length)]):v.range(P||[0,G]),$){var Q=i.min(J.map(function(t){if(0!==t.y)return t.y}));m.clamp(!0).domain(W||i.extent(J.map(function(t){return 0!==t.y?t.y:.1*Q}).concat(_))).range(I||[Z,0])}else m.domain(W||i.extent(J.map(function(t){return t.y}).concat(_))).range(I||[Z,0]);y.domain(O||i.extent(J.map(function(t){return t.size}).concat(C))).range(R||X),j=v.domain()[0]===v.domain()[1]||m.domain()[0]===m.domain()[1],v.domain()[0]===v.domain()[1]&&(v.domain()[0]?v.domain([v.domain()[0]-.01*v.domain()[0],v.domain()[1]+.01*v.domain()[1]]):v.domain([-1,1])),m.domain()[0]===m.domain()[1]&&(m.domain()[0]?m.domain([m.domain()[0]-.01*m.domain()[0],m.domain()[1]+.01*m.domain()[1]]):m.domain([-1,1])),isNaN(v.domain()[0])&&v.domain([-1,1]),isNaN(m.domain()[0])&&m.domain([-1,1]),a=a||v,o=o||m,s=s||y;var K=v(1)!==a(1)||m(1)!==o(1)||y(1)!==s(1),tt=g.selectAll("g.nv-wrap.nv-scatter").data([t]),et=tt.enter().append("g").attr("class","nvd3 nv-wrap nv-scatter nv-chart-"+p),nt=et.append("defs"),it=et.append("g"),rt=tt.select("g");tt.classed("nv-single-point",j),it.append("g").attr("class","nv-groups"),it.append("g").attr("class","nv-point-paths"),et.append("g").attr("class","nv-point-clips"),tt.attr("transform","translate("+c.left+","+c.top+")"),nt.append("clipPath").attr("id","nv-edge-clip-"+p).append("rect"),tt.select("#nv-edge-clip-"+p+" rect").attr("width",G).attr("height",Z>0?Z:0),rt.attr("clip-path",F?"url(#nv-edge-clip-"+p+")":""),V=!0;var at=tt.select(".nv-groups").selectAll(".nv-group").data(function(t){return t},function(t){return t.key});at.enter().append("g").style("stroke-opacity",1e-6).style("fill-opacity",1e-6),at.exit().remove(),at.attr("class",function(t,e){return(t.classed||"")+" nv-group nv-series-"+e}).classed("nv-noninteractive",!S).classed("hover",function(t){return t.hover}),at.watchTransition(U,"scatter: groups").style("fill",function(t,e){return f(t,e)}).style("stroke",function(t,e){return f(t,e)}).style("stroke-opacity",1).style("fill-opacity",.5);var ot=at.selectAll("path.nv-point").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return A(t[0],e)})});if(ot.enter().append("path").attr("class",function(t){return"nv-point nv-point-"+t[1]}).style("fill",function(t){return t.color}).style("stroke",function(t){return t.color}).attr("transform",function(t){return"translate("+r.utils.NaNtoZero(a(x(t[0],t[1])))+","+r.utils.NaNtoZero(o(b(t[0],t[1])))+")"}).attr("d",r.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),ot.exit().remove(),at.exit().selectAll("path.nv-point").watchTransition(U,"scatter exit").attr("transform",function(t){return"translate("+r.utils.NaNtoZero(v(x(t[0],t[1])))+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),ot.filter(function(t){return K||e(t,"x","y")}).watchTransition(U,"scatter points").attr("transform",function(t){return"translate("+r.utils.NaNtoZero(v(x(t[0],t[1])))+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"}),ot.filter(function(t){return K||e(t,"shape","size")}).watchTransition(U,"scatter points").attr("d",r.utils.symbol().type(function(t){return w(t[0])}).size(function(t){return y(k(t[0],t[1]))})),Y){var st=at.selectAll(".nv-label").data(function(t){return t.values.map(function(t,e){return[t,e]}).filter(function(t,e){return A(t[0],e)})});st.enter().append("text").style("fill",function(t,e){return t.color}).style("stroke-opacity",0).style("fill-opacity",1).attr("transform",function(t){var e=r.utils.NaNtoZero(a(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2;return"translate("+e+","+r.utils.NaNtoZero(o(b(t[0],t[1])))+")"}).text(function(t,e){return t[0].label}),st.exit().remove(),at.exit().selectAll("path.nv-label").watchTransition(U,"scatter exit").attr("transform",function(t){var e=r.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2;return"translate("+e+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"}).remove(),st.each(function(t){i.select(this).classed("nv-label",!0).classed("nv-label-"+t[1],!1).classed("hover",!1)}),st.watchTransition(U,"scatter labels").attr("transform",function(t){var e=r.utils.NaNtoZero(v(x(t[0],t[1])))+Math.sqrt(y(k(t[0],t[1]))/Math.PI)+2;return"translate("+e+","+r.utils.NaNtoZero(m(b(t[0],t[1])))+")"})}q?(clearTimeout(l),l=setTimeout(u,q)):u(),a=v.copy(),o=m.copy(),s=y.copy()}),U.renderEnd("scatter immediate"),n}var a,o,s,l,u,c={top:0,right:0,bottom:0,left:0},h=null,d=null,f=r.utils.defaultColor(),p=Math.floor(1e5*Math.random()),g=null,v=i.scale.linear(),m=i.scale.linear(),y=i.scale.linear(),x=function(t){return t.x},b=function(t){return t.y},k=function(t){return t.size||1},w=function(t){return t.shape||"circle"},M=[],_=[],C=[],S=!0,A=function(t){return!t.notActive},E=!1,T=.1,F=!1,D=!0,z=!1,N=function(){return 25},L=null,W=null,P=null,I=null,O=null,R=null,j=!1,H=i.dispatch("elementClick","elementDblClick","elementMouseover","elementMouseout","renderEnd"),B=!0,G=250,q=300,Y=!1,V=!1,U=r.utils.renderWatch(H,G),X=[16,256];return n.dispatch=H,n.options=r.utils.optionsFunc.bind(n),n._calls=new function(){this.clearHighlights=function(){return r.dom.write(function(){g.selectAll(".nv-point.hover").classed("hover",!1)}),null},this.highlightPoint=function(t,e,n){r.dom.write(function(){g.select(".nv-groups").selectAll(".nv-series-"+t).selectAll(".nv-point-"+e).classed("hover",n)})}},H.on("elementMouseover.point",function(t){S&&n._calls.highlightPoint(t.seriesIndex,t.pointIndex,!0)}),H.on("elementMouseout.point",function(t){S&&n._calls.highlightPoint(t.seriesIndex,t.pointIndex,!1)}),n._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},xScale:{get:function(){return v},set:function(t){v=t}},yScale:{get:function(){return m},set:function(t){m=t}},pointScale:{get:function(){return y},set:function(t){y=t}},xDomain:{get:function(){return L},set:function(t){L=t}},yDomain:{get:function(){return W},set:function(t){W=t}},pointDomain:{get:function(){return O},set:function(t){O=t}},xRange:{get:function(){return P},set:function(t){P=t}},yRange:{get:function(){return I},set:function(t){I=t}},pointRange:{get:function(){return R},set:function(t){R=t}},forceX:{get:function(){return M},set:function(t){M=t}},forceY:{get:function(){return _},set:function(t){_=t}},forcePoint:{get:function(){return C},set:function(t){C=t}},interactive:{get:function(){return S},set:function(t){S=t}},pointActive:{get:function(){return A},set:function(t){A=t}},padDataOuter:{get:function(){return T},set:function(t){T=t}},padData:{get:function(){return E},set:function(t){E=t}},clipEdge:{get:function(){return F},set:function(t){F=t}},clipVoronoi:{get:function(){return D},set:function(t){D=t}},clipRadius:{get:function(){return N},set:function(t){N=t}},showVoronoi:{get:function(){return z},set:function(t){z=t}},id:{get:function(){return p},set:function(t){p=t}},interactiveUpdateDelay:{get:function(){return q},set:function(t){q=t}},showLabels:{get:function(){return Y},set:function(t){Y=t}},x:{get:function(){return x},set:function(t){x=i.functor(t)}},y:{get:function(){return b},set:function(t){b=i.functor(t)}},pointSize:{get:function(){return k},set:function(t){k=i.functor(t)}},pointShape:{get:function(){return w},set:function(t){w=i.functor(t)}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},duration:{get:function(){return G},set:function(t){G=t,U.reset(G)}},color:{get:function(){return f},set:function(t){f=r.utils.getColor(t)}},useVoronoi:{get:function(){return B},set:function(t){B=t,B===!1&&(D=!1)}}}),r.utils.initOptions(n),n},r.models.scatterChart=function(){"use strict";function t(S){return D.reset(),D.models(e),b&&D.models(n),k&&D.models(a),m&&D.models(s),y&&D.models(l),S.each(function(S){f=i.select(this),r.utils.initSVG(f);var L=r.utils.availableWidth(h,f,c),W=r.utils.availableHeight(d,f,c);if(t.update=function(){0===A?f.call(t):f.transition().duration(A).call(t)},t.container=this,M.setter(N(S),t.update).getter(z(S)).update(),M.disabled=S.map(function(t){return!!t.disabled}),!_){var P;_={};for(P in M)M[P]instanceof Array?_[P]=M[P].slice(0):_[P]=M[P]}if(!(S&&S.length&&S.filter(function(t){return t.values.length}).length))return r.utils.noData(t,f),D.renderEnd("scatter immediate"),t;f.selectAll(".nv-noData").remove(),g=e.xScale(),v=e.yScale();var I=f.selectAll("g.nv-wrap.nv-scatterChart").data([S]),O=I.enter().append("g").attr("class","nvd3 nv-wrap nv-scatterChart nv-chart-"+e.id()),R=O.append("g"),j=I.select("g");if(R.append("rect").attr("class","nvd3 nv-background").style("pointer-events","none"),R.append("g").attr("class","nv-x nv-axis"),R.append("g").attr("class","nv-y nv-axis"),R.append("g").attr("class","nv-scatterWrap"),R.append("g").attr("class","nv-regressionLinesWrap"),R.append("g").attr("class","nv-distWrap"),R.append("g").attr("class","nv-legendWrap"),w&&j.select(".nv-y.nv-axis").attr("transform","translate("+L+",0)"),x){var H=L;o.width(H),I.select(".nv-legendWrap").datum(S).call(o),o.height()>c.top&&(c.top=o.height(),W=r.utils.availableHeight(d,f,c)),I.select(".nv-legendWrap").attr("transform","translate(0,"+-c.top+")")}else j.select(".nv-legendWrap").selectAll("*").remove();I.attr("transform","translate("+c.left+","+c.top+")"),e.width(L).height(W).color(S.map(function(t,e){return t.color=t.color||p(t,e),t.color}).filter(function(t,e){return!S[e].disabled})).showLabels(E),I.select(".nv-scatterWrap").datum(S.filter(function(t){return!t.disabled})).call(e),I.select(".nv-regressionLinesWrap").attr("clip-path","url(#nv-edge-clip-"+e.id()+")");var B=I.select(".nv-regressionLinesWrap").selectAll(".nv-regLines").data(function(t){return t});B.enter().append("g").attr("class","nv-regLines");var G=B.selectAll(".nv-regLine").data(function(t){return[t]});G.enter().append("line").attr("class","nv-regLine").style("stroke-opacity",0),G.filter(function(t){return t.intercept&&t.slope}).watchTransition(D,"scatterPlusLineChart: regline").attr("x1",g.range()[0]).attr("x2",g.range()[1]).attr("y1",function(t,e){return v(g.domain()[0]*t.slope+t.intercept)}).attr("y2",function(t,e){return v(g.domain()[1]*t.slope+t.intercept)}).style("stroke",function(t,e,n){return p(t,n)}).style("stroke-opacity",function(t,e){return t.disabled||"undefined"==typeof t.slope||"undefined"==typeof t.intercept?0:1}),b&&(n.scale(g)._ticks(r.utils.calcTicksX(L/100,S)).tickSize(-W,0),j.select(".nv-x.nv-axis").attr("transform","translate(0,"+v.range()[0]+")").call(n)),k&&(a.scale(v)._ticks(r.utils.calcTicksY(W/36,S)).tickSize(-L,0),j.select(".nv-y.nv-axis").call(a)),m&&(s.getData(e.x()).scale(g).width(L).color(S.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!S[e].disabled})),R.select(".nv-distWrap").append("g").attr("class","nv-distributionX"),j.select(".nv-distributionX").attr("transform","translate(0,"+v.range()[0]+")").datum(S.filter(function(t){return!t.disabled})).call(s)),y&&(l.getData(e.y()).scale(v).width(W).color(S.map(function(t,e){return t.color||p(t,e)}).filter(function(t,e){return!S[e].disabled})),R.select(".nv-distWrap").append("g").attr("class","nv-distributionY"),j.select(".nv-distributionY").attr("transform","translate("+(w?L:-l.size())+",0)").datum(S.filter(function(t){return!t.disabled})).call(l)),o.dispatch.on("stateChange",function(e){for(var n in e)M[n]=e[n];C.stateChange(M),t.update()}),C.on("changeState",function(e){"undefined"!=typeof e.disabled&&(S.forEach(function(t,n){t.disabled=e.disabled[n]}),M.disabled=e.disabled),t.update()}),e.dispatch.on("elementMouseout.tooltip",function(t){u.hidden(!0),f.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",0),f.select(".nv-chart-"+e.id()+" .nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",l.size())}),e.dispatch.on("elementMouseover.tooltip",function(t){f.select(".nv-series-"+t.seriesIndex+" .nv-distx-"+t.pointIndex).attr("y1",t.relativePos[1]-W),f.select(".nv-series-"+t.seriesIndex+" .nv-disty-"+t.pointIndex).attr("x2",t.relativePos[0]+s.size()),u.data(t).hidden(!1)}),T=g.copy(),F=v.copy()}),D.renderEnd("scatter with line immediate"),t}var e=r.models.scatter(),n=r.models.axis(),a=r.models.axis(),o=r.models.legend(),s=r.models.distribution(),l=r.models.distribution(),u=r.models.tooltip(),c={top:30,right:20,bottom:50,left:75},h=null,d=null,f=null,p=r.utils.defaultColor(),g=e.xScale(),v=e.yScale(),m=!1,y=!1,x=!0,b=!0,k=!0,w=!1,M=r.utils.state(),_=null,C=i.dispatch("stateChange","changeState","renderEnd"),S=null,A=250,E=!1;e.xScale(g).yScale(v),n.orient("bottom").tickPadding(10),a.orient(w?"right":"left").tickPadding(10),s.axis("x"),l.axis("y"),u.headerFormatter(function(t,e){return n.tickFormat()(t,e)}).valueFormatter(function(t,e){return a.tickFormat()(t,e)});var T,F,D=r.utils.renderWatch(C,A),z=function(t){return function(){return{active:t.map(function(t){return!t.disabled})}}},N=function(t){return function(e){void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}};return t.dispatch=C,t.scatter=e,t.legend=o,t.xAxis=n,t.yAxis=a,t.distX=s,t.distY=l,t.tooltip=u,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return h},set:function(t){h=t}},height:{get:function(){return d},set:function(t){d=t}},container:{get:function(){return f},set:function(t){f=t}},showDistX:{get:function(){return m},set:function(t){m=t}},showDistY:{get:function(){return y},set:function(t){y=t}},showLegend:{get:function(){return x},set:function(t){x=t}},showXAxis:{get:function(){return b},set:function(t){b=t}},showYAxis:{get:function(){return k},set:function(t){k=t}},defaultState:{get:function(){return _},set:function(t){_=t}},noData:{get:function(){return S},set:function(t){S=t}},duration:{get:function(){return A},set:function(t){A=t}},showLabels:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return c},set:function(t){c.top=void 0!==t.top?t.top:c.top,c.right=void 0!==t.right?t.right:c.right,c.bottom=void 0!==t.bottom?t.bottom:c.bottom,c.left=void 0!==t.left?t.left:c.left}},rightAlignYAxis:{get:function(){return w},set:function(t){w=t,a.orient(t?"right":"left")}},color:{get:function(){return p},set:function(t){p=r.utils.getColor(t),o.color(p),s.color(p),l.color(p)}}}),r.utils.inheritOptions(t,e),r.utils.initOptions(t),t},r.models.sparkline=function(){"use strict";function t(h){return b.reset(),h.each(function(t){var h=l-s.left-s.right,x=u-s.top-s.bottom;c=i.select(this),r.utils.initSVG(c),d.domain(e||i.extent(t,p)).range(a||[0,h]),f.domain(n||i.extent(t,g)).range(o||[x,0]);var b=c.selectAll("g.nv-wrap.nv-sparkline").data([t]),k=b.enter().append("g").attr("class","nvd3 nv-wrap nv-sparkline");k.append("g"),b.select("g");b.attr("transform","translate("+s.left+","+s.top+")");var w=b.selectAll("path").data(function(t){return[t]});w.enter().append("path"),w.exit().remove(),w.style("stroke",function(t,e){return t.color||v(t,e)}).attr("d",i.svg.line().x(function(t,e){return d(p(t,e))}).y(function(t,e){return f(g(t,e))}));var M=b.selectAll("circle.nv-point").data(function(t){function e(e){if(e!=-1){var n=t[e];return n.pointIndex=e,n}return null}var n=t.map(function(t,e){return g(t,e)}),i=e(n.lastIndexOf(f.domain()[1])),r=e(n.indexOf(f.domain()[0])),a=e(n.length-1);return[m?r:null,m?i:null,y?a:null].filter(function(t){return null!=t})});M.enter().append("circle"),M.exit().remove(),M.attr("cx",function(t,e){return d(p(t,t.pointIndex))}).attr("cy",function(t,e){return f(g(t,t.pointIndex))}).attr("r",2).attr("class",function(t,e){return p(t,t.pointIndex)==d.domain()[1]?"nv-point nv-currentValue":g(t,t.pointIndex)==f.domain()[0]?"nv-point nv-minValue":"nv-point nv-maxValue"})}),b.renderEnd("sparkline immediate"),t}var e,n,a,o,s={top:2,right:0,bottom:2,left:0},l=400,u=32,c=null,h=!0,d=i.scale.linear(),f=i.scale.linear(),p=function(t){return t.x},g=function(t){return t.y},v=r.utils.getColor(["#000"]),m=!0,y=!0,x=i.dispatch("renderEnd"),b=r.utils.renderWatch(x);return t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return l},set:function(t){l=t}},height:{get:function(){return u},set:function(t){u=t}},xDomain:{get:function(){return e},set:function(t){e=t}},yDomain:{get:function(){return n},set:function(t){n=t}},xRange:{get:function(){return a},set:function(t){a=t}},yRange:{get:function(){return o},set:function(t){o=t}},xScale:{get:function(){return d},set:function(t){d=t}},yScale:{get:function(){return f},set:function(t){f=t}},animate:{get:function(){return h},set:function(t){h=t}},showMinMaxPoints:{get:function(){return m},set:function(t){m=t}},showCurrentPoint:{get:function(){return y},set:function(t){y=t}},x:{get:function(){return p},set:function(t){p=i.functor(t)}},y:{get:function(){return g},set:function(t){g=i.functor(t)}},margin:{get:function(){return s},set:function(t){s.top=void 0!==t.top?t.top:s.top,s.right=void 0!==t.right?t.right:s.right,s.bottom=void 0!==t.bottom?t.bottom:s.bottom,s.left=void 0!==t.left?t.left:s.left}},color:{get:function(){return v},set:function(t){v=r.utils.getColor(t)}}}),t.dispatch=x,r.utils.initOptions(t),t},r.models.sparklinePlus=function(){"use strict";function t(v){return y.reset(),y.models(a),v.each(function(v){function m(){if(!c){var t=S.selectAll(".nv-hoverValue").data(u),n=t.enter().append("g").attr("class","nv-hoverValue").style("stroke-opacity",0).style("fill-opacity",0);t.exit().transition().duration(250).style("stroke-opacity",0).style("fill-opacity",0).remove(),t.attr("transform",function(t){return"translate("+e(a.x()(v[t],t))+",0)"}).transition().duration(250).style("stroke-opacity",1).style("fill-opacity",1),u.length&&(n.append("line").attr("x1",0).attr("y1",-o.top).attr("x2",0).attr("y2",k),n.append("text").attr("class","nv-xValue").attr("x",-6).attr("y",-o.top).attr("text-anchor","end").attr("dy",".9em"),S.select(".nv-hoverValue .nv-xValue").text(h(a.x()(v[u[0]],u[0]))),n.append("text").attr("class","nv-yValue").attr("x",6).attr("y",-o.top).attr("text-anchor","start").attr("dy",".9em"),S.select(".nv-hoverValue .nv-yValue").text(d(a.y()(v[u[0]],u[0]))))}}function y(){function t(t,e){for(var n=Math.abs(a.x()(t[0],0)-e),i=0,r=0;r<t.length;r++)Math.abs(a.x()(t[r],r)-e)<n&&(n=Math.abs(a.x()(t[r],r)-e),i=r);return i}if(!c){var n=i.mouse(this)[0]-o.left;u=[t(v,Math.round(e.invert(n)))],m()}}var x=i.select(this);r.utils.initSVG(x);var b=r.utils.availableWidth(s,x,o),k=r.utils.availableHeight(l,x,o);if(t.update=function(){x.call(t)},t.container=this,!v||!v.length)return r.utils.noData(t,x),t;x.selectAll(".nv-noData").remove();var w=a.y()(v[v.length-1],v.length-1);e=a.xScale(),n=a.yScale();var M=x.selectAll("g.nv-wrap.nv-sparklineplus").data([v]),_=M.enter().append("g").attr("class","nvd3 nv-wrap nv-sparklineplus"),C=_.append("g"),S=M.select("g");C.append("g").attr("class","nv-sparklineWrap"),C.append("g").attr("class","nv-valueWrap"),C.append("g").attr("class","nv-hoverArea"),M.attr("transform","translate("+o.left+","+o.top+")");var A=S.select(".nv-sparklineWrap");if(a.width(b).height(k),A.call(a),f){var E=S.select(".nv-valueWrap"),T=E.selectAll(".nv-currentValue").data([w]);T.enter().append("text").attr("class","nv-currentValue").attr("dx",g?-8:8).attr("dy",".9em").style("text-anchor",g?"end":"start"),T.attr("x",b+(g?o.right:0)).attr("y",p?function(t){return n(t)}:0).style("fill",a.color()(v[v.length-1],v.length-1)).text(d(w))}C.select(".nv-hoverArea").append("rect").on("mousemove",y).on("click",function(){c=!c}).on("mouseout",function(){u=[],m()}),S.select(".nv-hoverArea rect").attr("transform",function(t){return"translate("+-o.left+","+-o.top+")"}).attr("width",b+o.left+o.right).attr("height",k+o.top)}),y.renderEnd("sparklinePlus immediate"),t}var e,n,a=r.models.sparkline(),o={top:15,right:100,bottom:10,left:50},s=null,l=null,u=[],c=!1,h=i.format(",r"),d=i.format(",.2f"),f=!0,p=!0,g=!1,v=null,m=i.dispatch("renderEnd"),y=r.utils.renderWatch(m);return t.dispatch=m,t.sparkline=a,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return s},set:function(t){s=t}},height:{get:function(){return l},set:function(t){l=t}},xTickFormat:{get:function(){return h},set:function(t){h=t}},yTickFormat:{get:function(){return d},set:function(t){d=t}},showLastValue:{get:function(){return f},set:function(t){f=t}},alignValue:{get:function(){return p},set:function(t){p=t}},rightAlignValue:{get:function(){return g},set:function(t){g=t}},noData:{get:function(){return v},set:function(t){v=t}},margin:{get:function(){return o},set:function(t){o.top=void 0!==t.top?t.top:o.top,o.right=void 0!==t.right?t.right:o.right,o.bottom=void 0!==t.bottom?t.bottom:o.bottom,o.left=void 0!==t.left?t.left:o.left}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.stackedArea=function(){"use strict";function t(p){return w.reset(),w.models(x),p.each(function(p){var b=o-a.left-a.right,M=s-a.top-a.bottom;c=i.select(this),r.utils.initSVG(c),e=x.xScale(),n=x.yScale();var _=p;p.forEach(function(t,e){t.seriesIndex=e,t.values=t.values.map(function(t,n){return t.index=n,t.seriesIndex=e,t})});var C=p.filter(function(t){return!t.disabled});p=i.layout.stack().order(v).offset(g).values(function(t){return t.values}).x(h).y(d).out(function(t,e,n){t.display={y:n,y0:e}})(C);var S=c.selectAll("g.nv-wrap.nv-stackedarea").data([p]),A=S.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedarea"),E=A.append("defs"),T=A.append("g"),F=S.select("g");T.append("g").attr("class","nv-areaWrap"),T.append("g").attr("class","nv-scatterWrap"),S.attr("transform","translate("+a.left+","+a.top+")"),0==x.forceY().length&&x.forceY().push(0),x.width(b).height(M).x(h).y(function(t){if(void 0!==t.display)return t.display.y+t.display.y0}).color(p.map(function(t,e){return t.color=t.color||l(t,t.seriesIndex),t.color}));var D=F.select(".nv-scatterWrap").datum(p);D.call(x),E.append("clipPath").attr("id","nv-edge-clip-"+u).append("rect"),S.select("#nv-edge-clip-"+u+" rect").attr("width",b).attr("height",M),F.attr("clip-path",y?"url(#nv-edge-clip-"+u+")":"");var z=i.svg.area().defined(f).x(function(t,n){return e(h(t,n))}).y0(function(t){return n(t.display.y0)}).y1(function(t){return n(t.display.y+t.display.y0)}).interpolate(m),N=i.svg.area().defined(f).x(function(t,n){return e(h(t,n))}).y0(function(t){return n(t.display.y0)}).y1(function(t){return n(t.display.y0)}),L=F.select(".nv-areaWrap").selectAll("path.nv-area").data(function(t){return t});L.enter().append("path").attr("class",function(t,e){return"nv-area nv-area-"+e}).attr("d",function(t,e){return N(t.values,t.seriesIndex)}).on("mouseover",function(t,e){i.select(this).classed("hover",!0),k.areaMouseover({point:t,series:t.key,pos:[i.event.pageX,i.event.pageY],seriesIndex:t.seriesIndex})}).on("mouseout",function(t,e){i.select(this).classed("hover",!1),k.areaMouseout({point:t,series:t.key,pos:[i.event.pageX,i.event.pageY],seriesIndex:t.seriesIndex})}).on("click",function(t,e){i.select(this).classed("hover",!1),k.areaClick({point:t,series:t.key,pos:[i.event.pageX,i.event.pageY],seriesIndex:t.seriesIndex})}),L.exit().remove(),
L.style("fill",function(t,e){return t.color||l(t,t.seriesIndex)}).style("stroke",function(t,e){return t.color||l(t,t.seriesIndex)}),L.watchTransition(w,"stackedArea path").attr("d",function(t,e){return z(t.values,e)}),x.dispatch.on("elementMouseover.area",function(t){F.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!0)}),x.dispatch.on("elementMouseout.area",function(t){F.select(".nv-chart-"+u+" .nv-area-"+t.seriesIndex).classed("hover",!1)}),t.d3_stackedOffset_stackPercent=function(t){var e,n,i,r=t.length,a=t[0].length,o=[];for(n=0;n<a;++n){for(e=0,i=0;e<_.length;e++)i+=d(_[e].values[n]);if(i)for(e=0;e<r;e++)t[e][n][1]/=i;else for(e=0;e<r;e++)t[e][n][1]=0}for(n=0;n<a;++n)o[n]=0;return o}}),w.renderEnd("stackedArea immediate"),t}var e,n,a={top:0,right:0,bottom:0,left:0},o=960,s=500,l=r.utils.defaultColor(),u=Math.floor(1e5*Math.random()),c=null,h=function(t){return t.x},d=function(t){return t.y},f=function(t,e){return!isNaN(d(t,e))&&null!==d(t,e)},p="stack",g="zero",v="default",m="linear",y=!1,x=r.models.scatter(),b=250,k=i.dispatch("areaClick","areaMouseover","areaMouseout","renderEnd","elementClick","elementMouseover","elementMouseout");x.pointSize(2.2).pointDomain([2.2,2.2]);var w=r.utils.renderWatch(k,b);return t.dispatch=k,t.scatter=x,x.dispatch.on("elementClick",function(){k.elementClick.apply(this,arguments)}),x.dispatch.on("elementMouseover",function(){k.elementMouseover.apply(this,arguments)}),x.dispatch.on("elementMouseout",function(){k.elementMouseout.apply(this,arguments)}),t.interpolate=function(e){return arguments.length?(m=e,t):m},t.duration=function(e){return arguments.length?(b=e,w.reset(b),x.duration(b),t):b},t.dispatch=k,t.scatter=x,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return o},set:function(t){o=t}},height:{get:function(){return s},set:function(t){s=t}},defined:{get:function(){return f},set:function(t){f=t}},clipEdge:{get:function(){return y},set:function(t){y=t}},offset:{get:function(){return g},set:function(t){g=t}},order:{get:function(){return v},set:function(t){v=t}},interpolate:{get:function(){return m},set:function(t){m=t}},x:{get:function(){return h},set:function(t){h=i.functor(t)}},y:{get:function(){return d},set:function(t){d=i.functor(t)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left}},color:{get:function(){return l},set:function(t){l=r.utils.getColor(t)}},style:{get:function(){return p},set:function(e){switch(p=e){case"stack":t.offset("zero"),t.order("default");break;case"stream":t.offset("wiggle"),t.order("inside-out");break;case"stream-center":t.offset("silhouette"),t.order("inside-out");break;case"expand":t.offset("expand"),t.order("default");break;case"stack_percent":t.offset(t.d3_stackedOffset_stackPercent),t.order("default")}}},duration:{get:function(){return b},set:function(t){b=t,w.reset(b),x.duration(b)}}}),r.utils.inheritOptions(t,x),r.utils.initOptions(t),t},r.models.stackedAreaChart=function(){"use strict";function t(h){return P.reset(),P.models(a),x&&P.models(o),b&&P.models(s),h.each(function(h){function E(){x&&X.select(".nv-focus .nv-x.nv-axis").attr("transform","translate(0,"+q+")").transition().duration(N).call(o)}function P(){if(b){if("expand"===a.style()||"stack_percent"===a.style()){var t=s.tickFormat();L&&t===j||(L=t),s.tickFormat(j)}else L&&(s.tickFormat(L),L=null);X.select(".nv-focus .nv-y.nv-axis").transition().duration(0).call(s)}}function H(t){var e=X.select(".nv-focus .nv-stackedWrap").datum(h.filter(function(t){return!t.disabled}).map(function(e,n){return{key:e.key,area:e.area,classed:e.classed,values:e.values.filter(function(e,n){return a.x()(e,n)>=t[0]&&a.x()(e,n)<=t[1]}),disableTooltip:e.disableTooltip}}));e.transition().duration(N).call(a),E(),P()}var B=i.select(this);r.utils.initSVG(B);var G=r.utils.availableWidth(p,B,f),q=r.utils.availableHeight(g,B,f)-(w?d.height():0);if(t.update=function(){B.transition().duration(N).call(t)},t.container=this,S.setter(R(h),t.update).getter(O(h)).update(),S.disabled=h.map(function(t){return!!t.disabled}),!A){var Y;A={};for(Y in S)S[Y]instanceof Array?A[Y]=S[Y].slice(0):A[Y]=S[Y]}if(!(h&&h.length&&h.filter(function(t){return t.values.length}).length))return r.utils.noData(t,B),t;B.selectAll(".nv-noData").remove(),e=a.xScale(),n=a.yScale();var V=B.selectAll("g.nv-wrap.nv-stackedAreaChart").data([h]),U=V.enter().append("g").attr("class","nvd3 nv-wrap nv-stackedAreaChart").append("g"),X=V.select("g");U.append("g").attr("class","nv-legendWrap"),U.append("g").attr("class","nv-controlsWrap");var Z=U.append("g").attr("class","nv-focus");Z.append("g").attr("class","nv-background").append("rect"),Z.append("g").attr("class","nv-x nv-axis"),Z.append("g").attr("class","nv-y nv-axis"),Z.append("g").attr("class","nv-stackedWrap"),Z.append("g").attr("class","nv-interactive");U.append("g").attr("class","nv-focusWrap");if(y){var $=m?G-F:G;l.width($),X.select(".nv-legendWrap").datum(h).call(l),l.height()>f.top&&(f.top=l.height(),q=r.utils.availableHeight(g,B,f)-(w?d.height():0)),X.select(".nv-legendWrap").attr("transform","translate("+(G-$)+","+-f.top+")")}else X.select(".nv-legendWrap").selectAll("*").remove();if(m){var J=[{key:z.stacked||"Stacked",metaKey:"Stacked",disabled:"stack"!=a.style(),style:"stack"},{key:z.stream||"Stream",metaKey:"Stream",disabled:"stream"!=a.style(),style:"stream"},{key:z.expanded||"Expanded",metaKey:"Expanded",disabled:"expand"!=a.style(),style:"expand"},{key:z.stack_percent||"Stack %",metaKey:"Stack_Percent",disabled:"stack_percent"!=a.style(),style:"stack_percent"}];F=D.length/3*260,J=J.filter(function(t){return D.indexOf(t.metaKey)!==-1}),u.width(F).color(["#444","#444","#444"]),X.select(".nv-controlsWrap").datum(J).call(u),Math.max(u.height(),l.height())>f.top&&(f.top=Math.max(u.height(),l.height()),q=r.utils.availableHeight(g,B,f)),X.select(".nv-controlsWrap").attr("transform","translate(0,"+-f.top+")")}else X.select(".nv-controlsWrap").selectAll("*").remove();V.attr("transform","translate("+f.left+","+f.top+")"),k&&X.select(".nv-y.nv-axis").attr("transform","translate("+G+",0)"),M&&(c.width(G).height(q).margin({left:f.left,top:f.top}).svgContainer(B).xScale(e),V.select(".nv-interactive").call(c)),X.select(".nv-focus .nv-background rect").attr("width",G).attr("height",q),a.width(G).height(q).color(h.map(function(t,e){return t.color||v(t,e)}).filter(function(t,e){return!h[e].disabled}));var Q=X.select(".nv-focus .nv-stackedWrap").datum(h.filter(function(t){return!t.disabled}));if(x&&o.scale(e)._ticks(r.utils.calcTicksX(G/100,h)).tickSize(-q,0),b){var K;K="wiggle"===a.offset()?0:r.utils.calcTicksY(q/36,h),s.scale(n)._ticks(K).tickSize(-G,0)}if(w){d.width(G),X.select(".nv-focusWrap").attr("transform","translate(0,"+(q+f.bottom+d.margin().top)+")").datum(h.filter(function(t){return!t.disabled})).call(d);var tt=d.brush.empty()?d.xDomain():d.brush.extent();null!==tt&&H(tt)}else Q.transition().call(a),E(),P();a.dispatch.on("areaClick.toggle",function(e){1===h.filter(function(t){return!t.disabled}).length?h.forEach(function(t){t.disabled=!1}):h.forEach(function(t,n){t.disabled=n!=e.seriesIndex}),S.disabled=h.map(function(t){return!!t.disabled}),T.stateChange(S),t.update()}),l.dispatch.on("stateChange",function(e){for(var n in e)S[n]=e[n];T.stateChange(S),t.update()}),u.dispatch.on("legendClick",function(e,n){e.disabled&&(J=J.map(function(t){return t.disabled=!0,t}),e.disabled=!1,a.style(e.style),S.style=a.style(),T.stateChange(S),t.update())}),c.dispatch.on("elementMousemove",function(e){a.clearHighlights();var n,o,s,l=[],u=0,d=!0;if(h.filter(function(t,e){return t.seriesIndex=e,!t.disabled}).forEach(function(i,c){o=r.interactiveBisect(i.values,e.pointXValue,t.x());var h=i.values[o],f=t.y()(h,o);if(null!=f&&a.highlightPoint(c,o,!0),"undefined"!=typeof h){"undefined"==typeof n&&(n=h),"undefined"==typeof s&&(s=t.xScale()(t.x()(h,o)));var p="expand"==a.style()?h.display.y:t.y()(h,o);l.push({key:i.key,value:p,color:v(i,i.seriesIndex),point:h}),_&&"expand"!=a.style()&&null!=p&&(u+=p,d=!1)}}),l.reverse(),l.length>2){var f=t.yScale().invert(e.mouseY),p=null;l.forEach(function(t,e){f=Math.abs(f);var n=Math.abs(t.point.display.y0),i=Math.abs(t.point.display.y);if(f>=n&&f<=i+n)return void(p=e)}),null!=p&&(l[p].highlight=!0)}_&&"expand"!=a.style()&&l.length>=2&&!d&&l.push({key:C,value:u,total:!0});var g=t.x()(n,o),m=c.tooltip.valueFormatter();"expand"===a.style()||"stack_percent"===a.style()?(W||(W=m),m=i.format(".1%")):W&&(m=W,W=null),c.tooltip.valueFormatter(m).data({value:g,series:l})(),c.renderGuideLine(s)}),c.dispatch.on("elementMouseout",function(t){a.clearHighlights()}),d.dispatch.on("onBrush",function(t){H(t)}),T.on("changeState",function(e){"undefined"!=typeof e.disabled&&h.length===e.disabled.length&&(h.forEach(function(t,n){t.disabled=e.disabled[n]}),S.disabled=e.disabled),"undefined"!=typeof e.style&&(a.style(e.style),I=e.style),t.update()})}),P.renderEnd("stacked Area chart immediate"),t}var e,n,a=r.models.stackedArea(),o=r.models.axis(),s=r.models.axis(),l=r.models.legend(),u=r.models.legend(),c=r.interactiveGuideline(),h=r.models.tooltip(),d=r.models.focus(r.models.stackedArea()),f={top:30,right:25,bottom:50,left:60},p=null,g=null,v=r.utils.defaultColor(),m=!0,y=!0,x=!0,b=!0,k=!1,w=!1,M=!1,_=!0,C="TOTAL",S=r.utils.state(),A=null,E=null,T=i.dispatch("stateChange","changeState","renderEnd"),F=250,D=["Stacked","Stream","Expanded"],z={},N=250;S.style=a.style(),o.orient("bottom").tickPadding(7),s.orient(k?"right":"left"),h.headerFormatter(function(t,e){return o.tickFormat()(t,e)}).valueFormatter(function(t,e){return s.tickFormat()(t,e)}),c.tooltip.headerFormatter(function(t,e){return o.tickFormat()(t,e)}).valueFormatter(function(t,e){return null==t?"N/A":s.tickFormat()(t,e)});var L=null,W=null;u.updateState(!1);var P=r.utils.renderWatch(T),I=a.style(),O=function(t){return function(){return{active:t.map(function(t){return!t.disabled}),style:a.style()}}},R=function(t){return function(e){void 0!==e.style&&(I=e.style),void 0!==e.active&&t.forEach(function(t,n){t.disabled=!e.active[n]})}},j=i.format("%");return a.dispatch.on("elementMouseover.tooltip",function(t){t.point.x=a.x()(t.point),t.point.y=a.y()(t.point),h.data(t).hidden(!1)}),a.dispatch.on("elementMouseout.tooltip",function(t){h.hidden(!0)}),t.dispatch=T,t.stacked=a,t.legend=l,t.controls=u,t.xAxis=o,t.x2Axis=d.xAxis,t.yAxis=s,t.y2Axis=d.yAxis,t.interactiveLayer=c,t.tooltip=h,t.focus=d,t.dispatch=T,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{width:{get:function(){return p},set:function(t){p=t}},height:{get:function(){return g},set:function(t){g=t}},showLegend:{get:function(){return y},set:function(t){y=t}},showXAxis:{get:function(){return x},set:function(t){x=t}},showYAxis:{get:function(){return b},set:function(t){b=t}},defaultState:{get:function(){return A},set:function(t){A=t}},noData:{get:function(){return E},set:function(t){E=t}},showControls:{get:function(){return m},set:function(t){m=t}},controlLabels:{get:function(){return z},set:function(t){z=t}},controlOptions:{get:function(){return D},set:function(t){D=t}},showTotalInTooltip:{get:function(){return _},set:function(t){_=t}},totalLabel:{get:function(){return C},set:function(t){C=t}},focusEnable:{get:function(){return w},set:function(t){w=t}},focusHeight:{get:function(){return d.height()},set:function(t){d.height(t)}},brushExtent:{get:function(){return d.brushExtent()},set:function(t){d.brushExtent(t)}},margin:{get:function(){return f},set:function(t){f.top=void 0!==t.top?t.top:f.top,f.right=void 0!==t.right?t.right:f.right,f.bottom=void 0!==t.bottom?t.bottom:f.bottom,f.left=void 0!==t.left?t.left:f.left}},focusMargin:{get:function(){return d.margin},set:function(t){d.margin.top=void 0!==t.top?t.top:d.margin.top,d.margin.right=void 0!==t.right?t.right:d.margin.right,d.margin.bottom=void 0!==t.bottom?t.bottom:d.margin.bottom,d.margin.left=void 0!==t.left?t.left:d.margin.left}},duration:{get:function(){return N},set:function(t){N=t,P.reset(N),a.duration(N),o.duration(N),s.duration(N)}},color:{get:function(){return v},set:function(t){v=r.utils.getColor(t),l.color(v),a.color(v),d.color(v)}},x:{get:function(){return a.x()},set:function(t){a.x(t),d.x(t)}},y:{get:function(){return a.y()},set:function(t){a.y(t),d.y(t)}},rightAlignYAxis:{get:function(){return k},set:function(t){k=t,s.orient(k?"right":"left")}},useInteractiveGuideline:{get:function(){return M},set:function(e){M=!!e,t.interactive(!e),t.useVoronoi(!e),a.scatter.interactive(!e)}}}),r.utils.inheritOptions(t,a),r.utils.initOptions(t),t},r.models.stackedAreaWithFocusChart=function(){return r.models.stackedAreaChart().margin({bottom:30}).focusEnable(!0)},r.models.sunburst=function(){"use strict";function t(t){var n=e(t);return n>90?180:0}function e(t){var e=Math.max(0,Math.min(2*Math.PI,z(t.x))),n=Math.max(0,Math.min(2*Math.PI,z(t.x+t.dx))),i=(e+n)/2*(180/Math.PI)-90;return i}function n(t){var e=Math.max(0,Math.min(2*Math.PI,z(t.x))),n=Math.max(0,Math.min(2*Math.PI,z(t.x+t.dx)));return(n-e)/(2*Math.PI)}function a(t){var e=Math.max(0,Math.min(2*Math.PI,z(t.x))),n=Math.max(0,Math.min(2*Math.PI,z(t.x+t.dx))),i=n-e;return i>S}function o(t,e){var n=i.interpolate(z.domain(),[d.x,d.x+d.dx]),r=i.interpolate(N.domain(),[d.y,1]),a=i.interpolate(N.range(),[d.y?20:0,g]);return 0===e?function(){return P(t)}:function(e){return z.domain(n(e)),N.domain(r(e)).range(a(e)),P(t)}}function s(t){var e=i.interpolate({x:t.x0,dx:t.dx0,y:t.y0,dy:t.dy0},t);return function(n){var i=e(n);return t.x0=i.x,t.dx0=i.dx,t.y0=i.y,t.dy0=i.dy,P(i)}}function l(t){var e=E(t);W[e]||(W[e]={});var n=W[e];n.dx=t.dx,n.x=t.x,n.dy=t.dy,n.y=t.y}function u(t){t.forEach(function(t){var e=E(t),n=W[e];n?(t.dx0=n.dx,t.x0=n.x,t.dy0=n.dy,t.y0=n.y):(t.dx0=t.dx,t.x0=t.x,t.dy0=t.dy,t.y0=t.y),l(t)})}function c(n){var r=w.selectAll("text"),s=w.selectAll("path");r.transition().attr("opacity",0),d=n,s.transition().duration(F).attrTween("d",o).each("end",function(r){if(r.x>=n.x&&r.x<n.x+n.dx&&r.depth>=n.depth){var o=i.select(this.parentNode),s=o.select("text");s.transition().duration(F).text(function(t){return C(t)}).attr("opacity",function(t){return a(t)?1:0}).attr("transform",function(){var i=this.getBBox().width;if(0===r.depth)return"translate("+i/2*-1+",0)";if(r.depth===n.depth)return"translate("+(N(r.y)+5)+",0)";var a=e(r),o=t(r);return 0===o?"rotate("+a+")translate("+(N(r.y)+5)+",0)":"rotate("+a+")translate("+(N(r.y)+i+5)+",0)rotate("+o+")"})}})}function h(o){return I.reset(),o.each(function(o){w=i.select(this),f=r.utils.availableWidth(m,w,v),p=r.utils.availableHeight(y,w,v),g=Math.min(f,p)/2,N.range([0,g]);var l=w.select("g.nvd3.nv-wrap.nv-sunburst");l[0][0]?l.attr("transform","translate("+(f/2+v.left+v.right)+","+(p/2+v.top+v.bottom)+")"):l=w.append("g").attr("class","nvd3 nv-wrap nv-sunburst nv-chart-"+k).attr("transform","translate("+(f/2+v.left+v.right)+","+(p/2+v.top+v.bottom)+")"),w.on("click",function(t,e){D.chartClick({data:t,index:e,pos:i.event,id:k})}),L.value(b[x]||b.count);var h=L.nodes(o[0]).reverse();u(h);var d=l.selectAll(".arc-container").data(h,E),S=d.enter().append("g").attr("class","arc-container");S.append("path").attr("d",P).style("fill",function(t){return t.color?t.color:M(T?(t.children?t:t.parent).name:t.name)}).style("stroke","#FFF").on("click",c).on("mouseover",function(t,e){i.select(this).classed("hover",!0).style("opacity",.8),D.elementMouseover({data:t,color:i.select(this).style("fill"),percent:n(t)})}).on("mouseout",function(t,e){i.select(this).classed("hover",!1).style("opacity",1),D.elementMouseout({data:t})}).on("mousemove",function(t,e){D.elementMousemove({data:t})}),d.each(function(t){i.select(this).select("path").transition().duration(F).attrTween("d",s)}),_&&(d.selectAll("text").remove(),d.append("text").text(function(t){return C(t)}).transition().duration(F).attr("opacity",function(t){return a(t)?1:0}).attr("transform",function(n){var i=this.getBBox().width;if(0===n.depth)return"rotate(0)translate("+i/2*-1+",0)";var r=e(n),a=t(n);return 0===a?"rotate("+r+")translate("+(N(n.y)+5)+",0)":"rotate("+r+")translate("+(N(n.y)+i+5)+",0)rotate("+a+")"})),c(h[h.length-1]),d.exit().transition().duration(F).attr("opacity",0).each("end",function(t){var e=E(t);W[e]=void 0}).remove()}),I.renderEnd("sunburst immediate"),h}var d,f,p,g,v={top:0,right:0,bottom:0,left:0},m=600,y=600,x="count",b={count:function(t){return 1},value:function(t){return t.value||t.size},size:function(t){return t.value||t.size}},k=Math.floor(1e4*Math.random()),w=null,M=r.utils.defaultColor(),_=!1,C=function(t){return"count"===x?t.name+" #"+t.value:t.name+" "+(t.value||t.size)},S=.02,A=function(t,e){return t.name>e.name},E=function(t,e){return t.name},T=!0,F=500,D=i.dispatch("chartClick","elementClick","elementDblClick","elementMousemove","elementMouseover","elementMouseout","renderEnd"),z=i.scale.linear().range([0,2*Math.PI]),N=i.scale.sqrt(),L=i.layout.partition().sort(A),W={},P=i.svg.arc().startAngle(function(t){return Math.max(0,Math.min(2*Math.PI,z(t.x)))}).endAngle(function(t){return Math.max(0,Math.min(2*Math.PI,z(t.x+t.dx)))}).innerRadius(function(t){return Math.max(0,N(t.y))}).outerRadius(function(t){return Math.max(0,N(t.y+t.dy))}),I=r.utils.renderWatch(D);return h.dispatch=D,h.options=r.utils.optionsFunc.bind(h),h._options=Object.create({},{width:{get:function(){return m},set:function(t){m=t}},height:{get:function(){return y},set:function(t){y=t}},mode:{get:function(){return x},set:function(t){x=t}},id:{get:function(){return k},set:function(t){k=t}},duration:{get:function(){return F},set:function(t){F=t}},groupColorByParent:{get:function(){return T},set:function(t){T=!!t}},showLabels:{get:function(){return _},set:function(t){_=!!t}},labelFormat:{get:function(){return C},set:function(t){C=t}},labelThreshold:{get:function(){return S},set:function(t){S=t}},sort:{get:function(){return A},set:function(t){A=t}},key:{get:function(){return E},set:function(t){E=t}},margin:{get:function(){return v},set:function(t){v.top=void 0!=t.top?t.top:v.top,v.right=void 0!=t.right?t.right:v.right,v.bottom=void 0!=t.bottom?t.bottom:v.bottom,v.left=void 0!=t.left?t.left:v.left}},color:{get:function(){return M},set:function(t){M=r.utils.getColor(t)}}}),r.utils.initOptions(h),h},r.models.sunburstChart=function(){"use strict";function t(n){return p.reset(),p.models(e),n.each(function(n){var l=i.select(this);r.utils.initSVG(l);var u=r.utils.availableWidth(o,l,a),c=r.utils.availableHeight(s,l,a);return t.update=function(){0===d?l.call(t):l.transition().duration(d).call(t)},t.container=l,n&&n.length?(l.selectAll(".nv-noData").remove(),e.width(u).height(c).margin(a),void l.call(e)):(r.utils.noData(t,l),t)}),p.renderEnd("sunburstChart immediate"),t}var e=r.models.sunburst(),n=r.models.tooltip(),a={top:30,right:20,bottom:20,left:20},o=null,s=null,l=r.utils.defaultColor(),u=!1,c=(Math.round(1e5*Math.random()),null),h=null,d=250,f=i.dispatch("stateChange","changeState","renderEnd"),p=r.utils.renderWatch(f);return n.duration(0).headerEnabled(!1).valueFormatter(function(t){return t}),e.dispatch.on("elementMouseover.tooltip",function(t){t.series={key:t.data.name,value:t.data.value||t.data.size,color:t.color,percent:t.percent},u||(delete t.percent,delete t.series.percent),n.data(t).hidden(!1)}),e.dispatch.on("elementMouseout.tooltip",function(t){n.hidden(!0)}),e.dispatch.on("elementMousemove.tooltip",function(t){n()}),t.dispatch=f,t.sunburst=e,t.tooltip=n,t.options=r.utils.optionsFunc.bind(t),t._options=Object.create({},{noData:{get:function(){return h},set:function(t){h=t}},defaultState:{get:function(){return c},set:function(t){c=t}},showTooltipPercent:{get:function(){return u},set:function(t){u=t}},color:{get:function(){return l},set:function(t){l=t,e.color(l)}},duration:{get:function(){return d},set:function(t){d=t,p.reset(d),e.duration(d)}},margin:{get:function(){return a},set:function(t){a.top=void 0!==t.top?t.top:a.top,a.right=void 0!==t.right?t.right:a.right,a.bottom=void 0!==t.bottom?t.bottom:a.bottom,a.left=void 0!==t.left?t.left:a.left,e.margin(a)}}}),r.utils.inheritOptions(t,e),r.utils.initOptions(t),t},r.version="1.8.4"}()}).call(e,n("./node_modules/d3/d3.js"))},"./node_modules/rickshaw/rickshaw.js":function(t,e,n){(function(i,r){var a,o;!function(i,r){a=[n("./node_modules/d3/d3.js")],o=function(t){return i.Rickshaw=r(t)}.apply(e,a),!(void 0!==o&&(t.exports=o))}(this,function(t){var e={namespace:function(t,n){for(var i=t.split("."),r=e,a=1,o=i.length;a<o;a++){var s=i[a];r[s]=r[s]||{},r=r[s]}return r},keys:function(t){var e=[];for(var n in t)e.push(n);return e},extend:function(t,e){for(var n in e)t[n]=e[n];return t},clone:function(t){return JSON.parse(JSON.stringify(t))}};return function(t){function e(t){return h.call(t)===y}function n(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function i(t){if(r(t)!==m)throw new TypeError;var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e}function r(t){switch(t){case null:return d;case void 0:return f}var e=typeof t;switch(e){case"boolean":return p;case"number":return g;case"string":return v}return m}function a(t){return"undefined"==typeof t}function o(t){var e=t.toString().match(/^[\s\(]*function[^(]*\(([^)]*)\)/)[1].replace(/\/\/.*?[\r\n]|\/\*(?:.|[\r\n])*?\*\//g,"").replace(/\s+/g,"").split(",");return 1!=e.length||e[0]?e:[]}function s(t,e){var n=t;return function(){var t=l([c(n,this)],arguments);return e.apply(this,t)}}function l(t,e){for(var n=t.length,i=e.length;i--;)t[n+i]=e[i];return t}function u(t,e){return t=x.call(t,0),l(t,e)}function c(t,e){if(arguments.length<2&&a(arguments[0]))return this;var n=t,i=x.call(arguments,2);return function(){var t=u(i,arguments);return n.apply(e,t)}}var h=Object.prototype.toString,d="Null",f="Undefined",p="Boolean",g="Number",v="String",m="Object",y="[object Function]",x=Array.prototype.slice,b=function(){},k=function(){function t(){}function r(){function i(){this.initialize.apply(this,arguments)}var r=null,a=[].slice.apply(arguments);if(e(a[0])&&(r=a.shift()),n(i,k.Methods),i.superclass=r,i.subclasses=[],r){t.prototype=r.prototype,i.prototype=new t;try{r.subclasses.push(i)}catch(o){}}for(var s=0,l=a.length;s<l;s++)i.addMethods(a[s]);return i.prototype.initialize||(i.prototype.initialize=b),i.prototype.constructor=i,i}function a(t){var n=this.superclass&&this.superclass.prototype,r=i(t);l&&(t.toString!=Object.prototype.toString&&r.push("toString"),t.valueOf!=Object.prototype.valueOf&&r.push("valueOf"));for(var a=0,u=r.length;a<u;a++){var h=r[a],d=t[h];if(n&&e(d)&&"$super"==o(d)[0]){var f=d;d=s(function(t){return function(){return n[t].apply(this,arguments)}}(h),f),d.valueOf=c(f.valueOf,f),d.toString=c(f.toString,f)}this.prototype[h]=d}return this}var l=function(){for(var t in{toString:1})if("toString"===t)return!1;return!0}();return{create:r,Methods:{addMethods:a}}}();t.exports?t.exports.Class=k:t.Class=k}(e),e.namespace("Rickshaw.Compat.ClassList"),e.Compat.ClassList=function(){"undefined"==typeof document||"classList"in document.createElement("a")||!function(t){"use strict";var e="classList",n="prototype",i=(t.HTMLElement||t.Element)[n],r=Object,a=String[n].trim||function(){return this.replace(/^\s+|\s+$/g,"")},o=Array[n].indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},l=function(t,e){if(""===e)throw new s("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new s("INVALID_CHARACTER_ERR","String contains an invalid character");return o.call(t,e)},u=function(t){for(var e=a.call(t.className),n=e?e.split(/\s+/):[],i=0,r=n.length;i<r;i++)this.push(n[i]);this._updateClassName=function(){t.className=this.toString()}},c=u[n]=[],h=function(){return new u(this)};if(s[n]=Error[n],c.item=function(t){return this[t]||null},c.contains=function(t){return t+="",l(this,t)!==-1},c.add=function(t){t+="",l(this,t)===-1&&(this.push(t),this._updateClassName())},c.remove=function(t){t+="";var e=l(this,t);e!==-1&&(this.splice(e,1),this._updateClassName())},c.toggle=function(t){t+="",l(this,t)===-1?this.add(t):this.remove(t)},c.toString=function(){return this.join(" ")},r.defineProperty){var d={get:h,enumerable:!0,configurable:!0};try{r.defineProperty(i,e,d)}catch(f){f.number===-2146823252&&(d.enumerable=!1,r.defineProperty(i,e,d))}}else r[n].__defineGetter__&&i.__defineGetter__(e,h)}(window)},("undefined"!=typeof RICKSHAW_NO_COMPAT&&!RICKSHAW_NO_COMPAT||"undefined"==typeof RICKSHAW_NO_COMPAT)&&new e.Compat.ClassList,e.namespace("Rickshaw.Graph"),e.Graph=function(n){var i=this;this.initialize=function(e){if(!e.element)throw"Rickshaw.Graph needs a reference to an element";if(1!==e.element.nodeType)throw"Rickshaw.Graph element was defined but not an HTML element";this.element=e.element,this.series=e.series,this.window={},this.updateCallbacks=[],this.configureCallbacks=[],this.defaults={interpolation:"cardinal",offset:"zero",min:void 0,max:void 0,preserve:!1,xScale:void 0,yScale:void 0,stack:!0},this._loadRenderers(),this.configure(e),this.validateSeries(e.series),this.series.active=function(){return i.series.filter(function(t){return!t.disabled})},this.setSize({width:e.width,height:e.height}),this.element.classList.add("rickshaw_graph"),this.vis=t.select(this.element).append("svg:svg").attr("width",this.width).attr("height",this.height),this.discoverRange()},this._loadRenderers=function(){for(var t in e.Graph.Renderer)if(t&&e.Graph.Renderer.hasOwnProperty(t)){var n=e.Graph.Renderer[t];n&&n.prototype&&n.prototype.render&&i.registerRenderer(new n({graph:i}))}},this.validateSeries=function(t){if(!(Array.isArray(t)||t instanceof e.Series)){var n=Object.prototype.toString.apply(t);throw"series is not an array: "+n}t.forEach(function(t){if(!(t instanceof Object))throw"series element is not an object: "+t;if(!t.data)throw"series has no data: "+JSON.stringify(t);if(!Array.isArray(t.data))throw"series data is not an array: "+JSON.stringify(t.data);if(t.data.length>0){var e=t.data[0].x,n=t.data[0].y;if("number"!=typeof e||"number"!=typeof n&&null!==n)throw"x and y properties of points should be numbers instead of "+typeof e+" and "+typeof n}if(t.data.length>=3&&(t.data[2].x<t.data[1].x||t.data[1].x<t.data[0].x||t.data[t.data.length-1].x<t.data[0].x))throw"series data needs to be sorted on x values for series name: "+t.name},this)},this.dataDomain=function(){var e=this.series.map(function(t){return t.data}),n=t.min(e.map(function(t){return t[0].x})),i=t.max(e.map(function(t){return t[t.length-1].x}));return[n,i]},this.discoverRange=function(){var e=this.renderer.domain();this.x=(this.xScale||t.scale.linear()).copy().domain(e.x).range([0,this.width]),this.y=(this.yScale||t.scale.linear()).copy().domain(e.y).range([this.height,0]),this.x.magnitude=t.scale.linear().domain([e.x[0]-e.x[0],e.x[1]-e.x[0]]).range([0,this.width]),this.y.magnitude=t.scale.linear().domain([e.y[0]-e.y[0],e.y[1]-e.y[0]]).range([0,this.height])},this.render=function(){this.stackData();this.discoverRange(),this.renderer.render(),this.updateCallbacks.forEach(function(t){t()})},this.update=this.render,this.stackData=function(){var n=this.series.active().map(function(t){return t.data}).map(function(t){return t.filter(function(t){return this._slice(t)},this)},this),r=this.preserve;r||this.series.forEach(function(t){t.scale&&(r=!0)}),n=r?e.clone(n):n,this.series.active().forEach(function(t,e){if(t.scale){var i=n[e];i&&i.forEach(function(e){e.y=t.scale(e.y)})}}),this.stackData.hooks.data.forEach(function(t){n=t.f.apply(i,[n])});var a;if(!this.renderer.unstack){this._validateStackable();var o=t.layout.stack();o.offset(i.offset),a=o(n)}a=a||n,this.renderer.unstack&&a.forEach(function(t){t.forEach(function(t){t.y0=void 0===t.y0?0:t.y0})}),this.stackData.hooks.after.forEach(function(t){a=t.f.apply(i,[n])});var s=0;return this.series.forEach(function(t){t.disabled||(t.stack=a[s++])}),this.stackedData=a,a},this._validateStackable=function(){var t,e=this.series;e.forEach(function(e){if(t=t||e.data.length,t&&e.data.length!=t)throw"stacked series cannot have differing numbers of points: "+t+" vs "+e.data.length+"; see Rickshaw.Series.fill()"},this)},this.stackData.hooks={data:[],after:[]},this._slice=function(t){if(this.window.xMin||this.window.xMax){var e=!0;return this.window.xMin&&t.x<this.window.xMin&&(e=!1),this.window.xMax&&t.x>this.window.xMax&&(e=!1),e}return!0},this.onUpdate=function(t){this.updateCallbacks.push(t)},this.onConfigure=function(t){this.configureCallbacks.push(t)},this.registerRenderer=function(t){this._renderers=this._renderers||{},this._renderers[t.name]=t},this.configure=function(t){this.config=this.config||{},(t.width||t.height)&&this.setSize(t),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this?this[e]:this.defaults[e]},this),e.keys(this.config).forEach(function(t){this[t]=this.config[t]},this),"stack"in t&&(t.unstack=!t.stack);var n=t.renderer||this.renderer&&this.renderer.name||"stack";this.setRenderer(n,t),this.configureCallbacks.forEach(function(e){e(t)})},this.setRenderer=function(t,e){if("function"==typeof t)this.renderer=new t({graph:i}),this.registerRenderer(this.renderer);else{if(!this._renderers[t])throw"couldn't find renderer "+t;this.renderer=this._renderers[t]}"object"==typeof e&&this.renderer.configure(e)},this.setSize=function(t){if(t=t||{},void 0!==typeof window)var e=window.getComputedStyle(this.element,null),n=parseInt(e.getPropertyValue("width"),10),i=parseInt(e.getPropertyValue("height"),10);this.width=t.width||n||400,this.height=t.height||i||250,this.vis&&this.vis.attr("width",this.width).attr("height",this.height)},this.initialize(n)},e.namespace("Rickshaw.Fixtures.Color"),e.Fixtures.Color=function(){this.schemes={},this.schemes.spectrum14=["#ecb796","#dc8f70","#b2a470","#92875a","#716c49","#d2ed82","#bbe468","#a1d05d","#e7cbe6","#d8aad6","#a888c2","#9dc2d3","#649eb9","#387aa3"].reverse(),this.schemes.spectrum2000=["#57306f","#514c76","#646583","#738394","#6b9c7d","#84b665","#a7ca50","#bfe746","#e2f528","#fff726","#ecdd00","#d4b11d","#de8800","#de4800","#c91515","#9a0000","#7b0429","#580839","#31082b"],this.schemes.spectrum2001=["#2f243f","#3c2c55","#4a3768","#565270","#6b6b7c","#72957f","#86ad6e","#a1bc5e","#b8d954","#d3e04e","#ccad2a","#cc8412","#c1521d","#ad3821","#8a1010","#681717","#531e1e","#3d1818","#320a1b"],this.schemes.classic9=["#423d4f","#4a6860","#848f39","#a2b73c","#ddcb53","#c5a32f","#7d5836","#963b20","#7c2626","#491d37","#2f254a"].reverse(),this.schemes.httpStatus={503:"#ea5029",502:"#d23f14",500:"#bf3613",410:"#efacea",409:"#e291dc",403:"#f457e8",408:"#e121d2",401:"#b92dae",405:"#f47ceb",404:"#a82a9f",400:"#b263c6",301:"#6fa024",302:"#87c32b",307:"#a0d84c",304:"#28b55c",200:"#1a4f74",206:"#27839f",201:"#52adc9",202:"#7c979f",203:"#a5b8bd",204:"#c1cdd1"},this.schemes.colorwheel=["#b5b6a9","#858772","#785f43","#96557e","#4682b4","#65b9ac","#73c03a","#cb513a"].reverse(),this.schemes.cool=["#5e9d2f","#73c03a","#4682b4","#7bc3b8","#a9884e","#c1b266","#a47493","#c09fb5"],this.schemes.munin=["#00cc00","#0066b3","#ff8000","#ffcc00","#330099","#990099","#ccff00","#ff0000","#808080","#008f00","#00487d","#b35a00","#b38f00","#6b006b","#8fb300","#b30000","#bebebe","#80ff80","#80c9ff","#ffc080","#ffe680","#aa80ff","#ee00cc","#ff8080","#666600","#ffbfff","#00ffcc","#cc6699","#999900"]},e.namespace("Rickshaw.Fixtures.RandomData"),e.Fixtures.RandomData=function(t){t=t||1;var e=200,n=Math.floor((new Date).getTime()/1e3);this.addData=function(i){var r=100*Math.random()+15+e,a=i[0].length,o=1;i.forEach(function(e){var i=20*Math.random(),s=r/25+o++ +15*(Math.cos(a*o*11/960)+2)+7*(Math.cos(a/7)+2)+1*(Math.cos(a/17)+2);e.push({x:a*t+n,y:s+i})}),e=.85*r},this.removeData=function(e){e.forEach(function(t){t.shift()}),n+=t}},e.namespace("Rickshaw.Fixtures.Time"),e.Fixtures.Time=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],
this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getUTCFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getUTCFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getUTCMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getUTCDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getUTCMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getUTCSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getUTCMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getUTCMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toUTCString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i,r;if("month"==e.name){if(n=new Date(1e3*t),i=Date.UTC(n.getUTCFullYear(),n.getUTCMonth())/1e3,i==t)return t;r=n.getUTCFullYear();var a=n.getUTCMonth();return 11==a?(a=0,r+=1):a+=1,Date.UTC(r,a)/1e3}return"year"==e.name?(n=new Date(1e3*t),i=Date.UTC(n.getUTCFullYear(),0)/1e3,i==t?t:(r=n.getUTCFullYear()+1,Date.UTC(r,0)/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Time.Local"),e.Fixtures.Time.Local=function(){var e=this;this.months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],this.units=[{name:"decade",seconds:315576e3,formatter:function(t){return 10*parseInt(t.getFullYear()/10,10)}},{name:"year",seconds:31557600,formatter:function(t){return t.getFullYear()}},{name:"month",seconds:2635200,formatter:function(t){return e.months[t.getMonth()]}},{name:"week",seconds:604800,formatter:function(t){return e.formatDate(t)}},{name:"day",seconds:86400,formatter:function(t){return t.getDate()}},{name:"6 hour",seconds:21600,formatter:function(t){return e.formatTime(t)}},{name:"hour",seconds:3600,formatter:function(t){return e.formatTime(t)}},{name:"15 minute",seconds:900,formatter:function(t){return e.formatTime(t)}},{name:"minute",seconds:60,formatter:function(t){return t.getMinutes()}},{name:"15 second",seconds:15,formatter:function(t){return t.getSeconds()+"s"}},{name:"second",seconds:1,formatter:function(t){return t.getSeconds()+"s"}},{name:"decisecond",seconds:.1,formatter:function(t){return t.getMilliseconds()+"ms"}},{name:"centisecond",seconds:.01,formatter:function(t){return t.getMilliseconds()+"ms"}}],this.unit=function(t){return this.units.filter(function(e){return t==e.name}).shift()},this.formatDate=function(e){return t.time.format("%b %e")(e)},this.formatTime=function(t){return t.toString().match(/(\d+:\d+):/)[1]},this.ceil=function(t,e){var n,i,r;if("day"==e.name){var a=new Date(1e3*(t+e.seconds-1)),o=new Date(0);return o.setFullYear(a.getFullYear()),o.setMonth(a.getMonth()),o.setDate(a.getDate()),o.setMilliseconds(0),o.setSeconds(0),o.setMinutes(0),o.setHours(0),o.getTime()/1e3}if("month"==e.name){if(n=new Date(1e3*t),i=new Date(n.getFullYear(),n.getMonth()).getTime()/1e3,i==t)return t;r=n.getFullYear();var s=n.getMonth();return 11==s?(s=0,r+=1):s+=1,new Date(r,s).getTime()/1e3}return"year"==e.name?(n=new Date(1e3*t),i=new Date(n.getUTCFullYear(),0).getTime()/1e3,i==t?t:(r=n.getFullYear()+1,new Date(r,0).getTime()/1e3)):Math.ceil(t/e.seconds)*e.seconds}},e.namespace("Rickshaw.Fixtures.Number"),e.Fixtures.Number.formatKMBT=function(t){var e=Math.abs(t);return e>=1e12?t/1e12+"T":e>=1e9?t/1e9+"B":e>=1e6?t/1e6+"M":e>=1e3?t/1e3+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.Fixtures.Number.formatBase1024KMGTP=function(t){var e=Math.abs(t);return e>=0x4000000000000?t/0x4000000000000+"P":e>=1099511627776?t/1099511627776+"T":e>=1073741824?t/1073741824+"G":e>=1048576?t/1048576+"M":e>=1024?t/1024+"K":e<1&&t>0?t.toFixed(2):0===e?"":t},e.namespace("Rickshaw.Color.Palette"),e.Color.Palette=function(n){var i=new e.Fixtures.Color;if(n=n||{},this.schemes={},this.scheme=i.schemes[n.scheme]||n.scheme||i.schemes.colorwheel,this.runningIndex=0,this.generatorIndex=0,n.interpolatedStopCount){var r,a,o=this.scheme.length-1,s=[];for(r=0;r<o;r++){s.push(this.scheme[r]);var l=t.interpolateHsl(this.scheme[r],this.scheme[r+1]);for(a=1;a<n.interpolatedStopCount;a++)s.push(l(1/n.interpolatedStopCount*a))}s.push(this.scheme[this.scheme.length-1]),this.scheme=s}this.rotateCount=this.scheme.length,this.color=function(t){return this.scheme[t]||this.scheme[this.runningIndex++]||this.interpolateColor()||"#808080"},this.interpolateColor=function(){if(Array.isArray(this.scheme)){var e;return this.generatorIndex==2*this.rotateCount-1?(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[0])(.5),this.generatorIndex=0,this.rotateCount*=2):(e=t.interpolateHsl(this.scheme[this.generatorIndex],this.scheme[this.generatorIndex+1])(.5),this.generatorIndex++),this.scheme.push(e),e}}},e.namespace("Rickshaw.Graph.Ajax"),e.Graph.Ajax=e.Class.create({initialize:function(t){this.dataURL=t.dataURL,this.onData=t.onData||function(t){return t},this.onComplete=t.onComplete||function(){},this.onError=t.onError||function(){},this.args=t,this.request()},request:function(){i.ajax({url:this.dataURL,dataType:"json",success:this.success.bind(this),error:this.error.bind(this)})},error:function(){console.log("error loading dataURL: "+this.dataURL),this.onError(this)},success:function(t,n){t=this.onData(t),this.args.series=this._splice({data:t,series:this.args.series}),this.graph=this.graph||new e.Graph(this.args),this.graph.render(),this.onComplete(this)},_splice:function(t){var e=t.data,n=t.series;return t.series?(n.forEach(function(t){var n=t.key||t.name;if(!n)throw"series needs a key or a name";e.forEach(function(e){var i=e.key||e.name;if(!i)throw"data needs a key or a name";if(n==i){var r=["color","name","data"];r.forEach(function(n){e[n]&&(t[n]=e[n])})}})}),n):e}}),e.namespace("Rickshaw.Graph.Annotate"),e.Graph.Annotate=function(t){this.graph=t.graph;this.elements={timeline:t.element};var n=this;this.data={},this.elements.timeline.classList.add("rickshaw_annotation_timeline"),this.add=function(t,e,i){n.data[t]=n.data[t]||{boxes:[]},n.data[t].boxes.push({content:e,end:i})},this.update=function(){e.keys(n.data).forEach(function(t){var e=n.data[t],i=n.graph.x(t);if(i<0||i>n.graph.x.range()[1])return e.element&&(e.line.classList.add("offscreen"),e.element.style.display="none"),void e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.add("offscreen")});if(!e.element){var r=e.element=document.createElement("div");r.classList.add("annotation"),this.elements.timeline.appendChild(r),r.addEventListener("click",function(t){r.classList.toggle("active"),e.line.classList.toggle("active"),e.boxes.forEach(function(t){t.rangeElement&&t.rangeElement.classList.toggle("active")})},!1)}e.element.style.left=i+"px",e.element.style.display="block",e.boxes.forEach(function(t){var r=t.element;if(r||(r=t.element=document.createElement("div"),r.classList.add("content"),r.innerHTML=t.content,e.element.appendChild(r),e.line=document.createElement("div"),e.line.classList.add("annotation_line"),n.graph.element.appendChild(e.line),t.end&&(t.rangeElement=document.createElement("div"),t.rangeElement.classList.add("annotation_range"),n.graph.element.appendChild(t.rangeElement))),t.end){var a=i,o=Math.min(n.graph.x(t.end),n.graph.x.range()[1]);a>o&&(o=i,a=Math.max(n.graph.x(t.end),n.graph.x.range()[0]));var s=o-a;t.rangeElement.style.left=a+"px",t.rangeElement.style.width=s+"px",t.rangeElement.classList.remove("offscreen")}e.line.classList.remove("offscreen"),e.line.style.left=i+"px"})},this)},this.graph.onUpdate(function(){n.update()})},e.namespace("Rickshaw.Graph.Axis.Time"),e.Graph.Axis.Time=function(t){var n=this;this.graph=t.graph,this.elements=[],this.ticksTreatment=t.ticksTreatment||"plain",this.fixedTimeUnit=t.timeUnit;var i=t.timeFixture||new e.Fixtures.Time;this.appropriateTimeUnit=function(){var t,e=i.units,n=this.graph.x.domain(),r=n[1]-n[0];return e.forEach(function(e){Math.floor(r/e.seconds)>=2&&(t=t||e)}),t||i.units[i.units.length-1]},this.tickOffsets=function(){for(var t=this.graph.x.domain(),e=this.fixedTimeUnit||this.appropriateTimeUnit(),n=Math.ceil((t[1]-t[0])/e.seconds),r=t[0],a=[],o=0;o<n;o++){var s=i.ceil(r,e);r=s+e.seconds/2,a.push({value:s,unit:e})}return a},this.render=function(){this.elements.forEach(function(t){t.parentNode.removeChild(t)}),this.elements=[];var t=this.tickOffsets();t.forEach(function(t){if(!(n.graph.x(t.value)>n.graph.x.range()[1])){var e=document.createElement("div");e.style.left=n.graph.x(t.value)+"px",e.classList.add("x_tick"),e.classList.add(n.ticksTreatment);var i=document.createElement("div");i.classList.add("title"),i.innerHTML=t.unit.formatter(new Date(1e3*t.value)),e.appendChild(i),n.graph.element.appendChild(e),n.elements.push(e)}})},this.graph.onUpdate(function(){n.render()})},e.namespace("Rickshaw.Graph.Axis.X"),e.Graph.Axis.X=function(e){var n=this,i=.1;this.initialize=function(e){this.graph=e.graph,this.orientation=e.orientation||"top",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",e.element?(this.element=e.element,this._discoverSize(e.element,e),this.vis=t.select(e.element).append("svg:svg").attr("height",this.height).attr("width",this.width).attr("class","rickshaw_graph x_axis_d3"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis,this.graph.onUpdate(function(){n.render()})},this.setSize=function(t){if(t=t||{},this.element){this._discoverSize(this.element.parentNode,t),this.vis.attr("height",this.height).attr("width",this.width*(1+i));var e=Math.floor(this.width*i/2);this.element.style.left=-1*e+"px"}},this.render=function(){void 0!==this._renderWidth&&this.graph.width!==this._renderWidth&&this.setSize({auto:!0});var n=t.svg.axis().scale(this.graph.x).orient(this.orientation);n.tickFormat(e.tickFormat||function(t){return t}),this.tickValues&&n.tickValues(this.tickValues),this.ticks=this.staticTicks||Math.floor(this.graph.width/this.pixelsPerTick);var r,a=Math.floor(this.width*i/2)||0;if("top"==this.orientation){var o=this.height||this.graph.height;r="translate("+a+","+o+")"}else r="translate("+a+", 0)";this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["x_ticks_d3",this.ticksTreatment].join(" ")).attr("transform",r).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize));var s=("bottom"==this.orientation?1:-1)*this.graph.height;this.graph.vis.append("svg:g").attr("class","x_grid_d3").call(n.ticks(this.ticks).tickSubdivide(0).tickSize(s)).selectAll("text").each(function(){this.parentNode.setAttribute("data-x-value",this.textContent)}),this._renderHeight=this.graph.height},this._discoverSize=function(t,e){if("undefined"!=typeof window){var n=window.getComputedStyle(t,null),r=parseInt(n.getPropertyValue("height"),10);if(!e.auto)var a=parseInt(n.getPropertyValue("width"),10)}this.width=(e.width||a||this.graph.width)*(1+i),this.height=e.height||r||40},this.initialize(e)},e.namespace("Rickshaw.Graph.Axis.Y"),e.Graph.Axis.Y=e.Class.create({initialize:function(e){this.graph=e.graph,this.orientation=e.orientation||"right",this.pixelsPerTick=e.pixelsPerTick||75,e.ticks&&(this.staticTicks=e.ticks),e.tickValues&&(this.tickValues=e.tickValues),this.tickSize=e.tickSize||4,this.ticksTreatment=e.ticksTreatment||"plain",this.tickFormat=e.tickFormat||function(t){return t},this.berthRate=.1,e.element?(this.element=e.element,this.vis=t.select(e.element).append("svg:svg").attr("class","rickshaw_graph y_axis"),this.element=this.vis[0][0],this.element.style.position="relative",this.setSize({width:e.width,height:e.height})):this.vis=this.graph.vis;var n=this;this.graph.onUpdate(function(){n.render()})},setSize:function(t){if(t=t||{},this.element){if("undefined"!=typeof window){var e=window.getComputedStyle(this.element.parentNode,null),n=parseInt(e.getPropertyValue("width"),10);if(!t.auto)var i=parseInt(e.getPropertyValue("height"),10)}this.width=t.width||n||this.graph.width*this.berthRate,this.height=t.height||i||this.graph.height,this.vis.attr("width",this.width).attr("height",this.height*(1+this.berthRate));var r=this.height*this.berthRate;"left"==this.orientation&&(this.element.style.top=-1*r+"px")}},render:function(){void 0!==this._renderHeight&&this.graph.height!==this._renderHeight&&this.setSize({auto:!0}),this.ticks=this.staticTicks||Math.floor(this.graph.height/this.pixelsPerTick);var t=this._drawAxis(this.graph.y);this._drawGrid(t),this._renderHeight=this.graph.height},_drawAxis:function(e){var n=t.svg.axis().scale(e).orient(this.orientation);if(n.tickFormat(this.tickFormat),this.tickValues&&n.tickValues(this.tickValues),"left"==this.orientation)var i=this.height*this.berthRate,r="translate("+this.width+", "+i+")";return this.element&&this.vis.selectAll("*").remove(),this.vis.append("svg:g").attr("class",["y_ticks",this.ticksTreatment].join(" ")).attr("transform",r).call(n.ticks(this.ticks).tickSubdivide(0).tickSize(this.tickSize)),n},_drawGrid:function(t){var e=("right"==this.orientation?1:-1)*this.graph.width;this.graph.vis.append("svg:g").attr("class","y_grid").call(t.ticks(this.ticks).tickSubdivide(0).tickSize(e)).selectAll("text").each(function(){this.parentNode.setAttribute("data-y-value",this.textContent)})}}),e.namespace("Rickshaw.Graph.Axis.Y.Scaled"),e.Graph.Axis.Y.Scaled=e.Class.create(e.Graph.Axis.Y,{initialize:function(t,e){if("undefined"==typeof e.scale)throw new Error("Scaled requires scale");this.scale=e.scale,"undefined"==typeof e.grid?this.grid=!0:this.grid=e.grid,t(e)},_drawAxis:function(e,n){var i=this.scale.domain(),r=this.graph.renderer.domain().y,a=[Math.min.apply(Math,i),Math.max.apply(Math,i)],o=t.scale.linear().domain([0,1]).range(a),s=[o(r[0]),o(r[1])],l=t.scale.linear().domain(a).range(s),u=this.scale.copy().domain(i.map(l)).range(n.range());return e(u)},_drawGrid:function(t,e){this.grid&&t(e)}}),e.namespace("Rickshaw.Graph.Behavior.Series.Highlight"),e.Graph.Behavior.Series.Highlight=function(e){this.graph=e.graph,this.legend=e.legend;var n=this,i={},r=null,a=e.disabledColor||function(e){return t.interpolateRgb(e,t.rgb("#d8d8d8"))(.8).toString()};this.addHighlightEvents=function(t){t.element.addEventListener("mouseover",function(e){r||(r=t,n.legend.lines.forEach(function(e){if(t!==e)i[e.series.name]=i[e.series.name]||e.series.color,e.series.color=a(e.series.color);else if(n.graph.renderer.unstack&&(!e.series.renderer||e.series.renderer.unstack)){var r=n.graph.series.indexOf(e.series);e.originalIndex=r;var o=n.graph.series.splice(r,1)[0];n.graph.series.push(o)}}),n.graph.update())},!1),t.element.addEventListener("mouseout",function(e){r&&(r=null,n.legend.lines.forEach(function(e){if(t===e&&e.hasOwnProperty("originalIndex")){var r=n.graph.series.pop();n.graph.series.splice(e.originalIndex,0,r),delete e.originalIndex}i[e.series.name]&&(e.series.color=i[e.series.name])}),n.graph.update())},!1)},this.legend&&this.legend.lines.forEach(function(t){n.addHighlightEvents(t)})},e.namespace("Rickshaw.Graph.Behavior.Series.Order"),e.Graph.Behavior.Series.Order=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if("undefined"==typeof r)throw"couldn't find jQuery at window.jQuery";if("undefined"==typeof r.ui)throw"couldn't find jQuery UI at window.jQuery.ui";i(function(){i(e.legend.list).sortable({containment:"parent",tolerance:"pointer",update:function(t,n){var r=[];i(e.legend.list).find("li").each(function(t,e){e.series&&r.push(e.series)});for(var a=e.graph.series.length-1;a>=0;a--)e.graph.series[a]=r.shift();e.graph.update()}}),i(e.legend.list).disableSelection()}),this.graph.onUpdate(function(){var t=window.getComputedStyle(e.legend.element).height;e.legend.element.style.height=t})},e.namespace("Rickshaw.Graph.Behavior.Series.Toggle"),e.Graph.Behavior.Series.Toggle=function(t){this.graph=t.graph,this.legend=t.legend;var e=this;if(this.addAnchor=function(t){var n=document.createElement("a");n.innerHTML="&#10004;",n.classList.add("action"),t.element.insertBefore(n,t.element.firstChild),n.onclick=function(n){if(t.series.disabled)t.series.enable(),t.element.classList.remove("disabled");else{if(this.graph.series.filter(function(t){return!t.disabled}).length<=1)return;t.series.disable(),t.element.classList.add("disabled")}e.graph.update()}.bind(this);var i=t.element.getElementsByTagName("span")[0];i.onclick=function(n){var i=t.series.disabled;if(!i)for(var r=0;r<e.legend.lines.length;r++){var a=e.legend.lines[r];if(t.series===a.series);else if(!a.series.disabled){i=!0;break}}i?(t.series.enable(),t.element.classList.remove("disabled"),e.legend.lines.forEach(function(e){t.series===e.series||(e.series.disable(),e.element.classList.add("disabled"))})):e.legend.lines.forEach(function(t){t.series.enable(),t.element.classList.remove("disabled")}),e.graph.update()}},this.legend){var n=i;"undefined"!=typeof n&&n(this.legend.list).sortable&&n(this.legend.list).sortable({start:function(t,e){e.item.bind("no.onclick",function(t){t.preventDefault()})},stop:function(t,e){setTimeout(function(){e.item.unbind("no.onclick")},250)}}),this.legend.lines.forEach(function(t){e.addAnchor(t)})}this._addBehavior=function(){this.graph.series.forEach(function(t){t.disable=function(){if(e.graph.series.length<=1)throw"only one series left";t.disabled=!0},t.enable=function(){t.disabled=!1}})},this._addBehavior(),this.updateBehaviour=function(){this._addBehavior()}},e.namespace("Rickshaw.Graph.HoverDetail"),e.Graph.HoverDetail=e.Class.create({initialize:function(t){var e=this.graph=t.graph;this.xFormatter=t.xFormatter||function(t){return new Date(1e3*t).toUTCString()},this.yFormatter=t.yFormatter||function(t){return null===t?t:t.toFixed(2)};var n=this.element=document.createElement("div");n.className="detail",this.visible=!0,e.element.appendChild(n),this.lastEvent=null,this._addListeners(),this.onShow=t.onShow,this.onHide=t.onHide,this.onRender=t.onRender,this.formatter=t.formatter||this.formatter},formatter:function(t,e,n,i,r,a){return t.name+":&nbsp;"+r},update:function(e){if(e=e||this.lastEvent,e&&(this.lastEvent=e,e.target.nodeName.match(/^(path|svg|rect|circle)$/))){var n,i=this.graph,r=e.offsetX||e.layerX,a=e.offsetY||e.layerY,o=0,s=[];if(this.graph.series.active().forEach(function(e){var l=this.graph.stackedData[o++];if(l.length){var u=i.x.invert(r),c=t.scale.linear().domain([l[0].x,l.slice(-1)[0].x]).range([0,l.length-1]),h=Math.round(c(u));h==l.length-1&&h--;for(var d=Math.min(h||0,l.length-1),f=h;f<l.length-1&&(l[f]&&l[f+1]);){if(l[f].x<=u&&l[f+1].x>u){d=Math.abs(u-l[f].x)<Math.abs(u-l[f+1].x)?f:f+1;break}l[f+1].x<=u?f++:f--}d<0&&(d=0);var p=l[d],g=Math.sqrt(Math.pow(Math.abs(i.x(p.x)-r),2)+Math.pow(Math.abs(i.y(p.y+p.y0)-a),2)),v=e.xFormatter||this.xFormatter,m=e.yFormatter||this.yFormatter,y={formattedXValue:v(p.x),formattedYValue:m(e.scale?e.scale.invert(p.y):p.y),series:e,value:p,distance:g,order:o,name:e.name};(!n||g<n.distance)&&(n=y),s.push(y)}},this),n){n.active=!0;var l=n.value.x,u=n.formattedXValue;this.element.innerHTML="",this.element.style.left=i.x(l)+"px",this.visible&&this.render({points:s,detail:s,mouseX:r,mouseY:a,formattedXValue:u,domainX:l})}}},hide:function(){this.visible=!1,this.element.classList.add("inactive"),"function"==typeof this.onHide&&this.onHide()},show:function(){this.visible=!0,this.element.classList.remove("inactive"),"function"==typeof this.onShow&&this.onShow()},render:function(t){var e=this.graph,n=t.points,i=n.filter(function(t){return t.active}).shift();if(null!==i.value.y){var r=i.formattedXValue,a=i.formattedYValue;this.element.innerHTML="",this.element.style.left=e.x(i.value.x)+"px";var o=document.createElement("div");o.className="x_label",o.innerHTML=r,this.element.appendChild(o);var s=document.createElement("div");s.className="item";var l=i.series,u=l.scale?l.scale.invert(i.value.y):i.value.y;s.innerHTML=this.formatter(l,i.value.x,u,r,a,i),s.style.top=this.graph.y(i.value.y0+i.value.y)+"px",this.element.appendChild(s);var c=document.createElement("div");c.className="dot",c.style.top=s.style.top,c.style.borderColor=l.color,this.element.appendChild(c),i.active&&(s.classList.add("active"),c.classList.add("active"));var h=[o,s];h.forEach(function(t){t.classList.add("left")}),this.show();var d=this._calcLayoutError(h);if(d>0){h.forEach(function(t){t.classList.remove("left"),t.classList.add("right")});var f=this._calcLayoutError(h);f>d&&h.forEach(function(t){t.classList.remove("right"),t.classList.add("left")})}"function"==typeof this.onRender&&this.onRender(t)}},_calcLayoutError:function(t){var e=this.element.parentNode.getBoundingClientRect(),n=0;t.forEach(function(t){var i=t.getBoundingClientRect();i.width&&(i.right>e.right&&(n+=i.right-e.right),i.left<e.left&&(n+=e.left-i.left))});return n},_addListeners:function(){this.graph.element.addEventListener("mousemove",function(t){this.visible=!0,this.update(t)}.bind(this),!1),this.graph.onUpdate(function(){this.update()}.bind(this)),this.graph.element.addEventListener("mouseout",function(t){!t.relatedTarget||t.relatedTarget.compareDocumentPosition(this.graph.element)&Node.DOCUMENT_POSITION_CONTAINS||this.hide()}.bind(this),!1)}}),e.namespace("Rickshaw.Graph.JSONP"),e.Graph.JSONP=e.Class.create(e.Graph.Ajax,{request:function(){i.ajax({url:this.dataURL,dataType:"jsonp",success:this.success.bind(this),error:this.error.bind(this)})}}),e.namespace("Rickshaw.Graph.Legend"),e.Graph.Legend=e.Class.create({className:"rickshaw_legend",initialize:function(t){this.element=t.element,this.graph=t.graph,this.naturalOrder=t.naturalOrder,this.element.classList.add(this.className),this.list=document.createElement("ul"),this.element.appendChild(this.list),this.render(),this.graph.onUpdate(function(){})},render:function(){for(var t=this;this.list.firstChild;)this.list.removeChild(this.list.firstChild);this.lines=[];var e=this.graph.series.map(function(t){return t});this.naturalOrder||(e=e.reverse()),e.forEach(function(e){t.addLine(e)})},addLine:function(e){var n=document.createElement("li");n.className="line",e.disabled&&(n.className+=" disabled"),e.className&&t.select(n).classed(e.className,!0);var i=document.createElement("div");i.className="swatch",i.style.backgroundColor=e.color,n.appendChild(i);var r=document.createElement("span");r.className="label",r.innerHTML=e.name,n.appendChild(r),this.list.appendChild(n),n.series=e,e.noLegend&&(n.style.display="none");var a={element:n,series:e};return this.shelving&&(this.shelving.addAnchor(a),this.shelving.updateBehaviour()),this.highlighter&&this.highlighter.addHighlightEvents(a),this.lines.push(a),n}}),e.namespace("Rickshaw.Graph.RangeSlider"),e.Graph.RangeSlider=e.Class.create({initialize:function(t){var e=(this.element=t.element,this.graph=t.graph);this.slideCallbacks=[],this.build(),e.onUpdate(function(){this.update()}.bind(this))},build:function(){var t=this.element,e=this.graph,n=i,r=e.dataDomain(),a=this;n(function(){n(t).slider({range:!0,min:r[0],max:r[1],values:[r[0],r[1]],slide:function(t,n){if(!(n.values[1]<=n.values[0])){e.window.xMin=n.values[0],e.window.xMax=n.values[1],e.update();var i=e.dataDomain();i[0]==n.values[0]&&(e.window.xMin=void 0),i[1]==n.values[1]&&(e.window.xMax=void 0),a.slideCallbacks.forEach(function(t){t(e,e.window.xMin,e.window.xMax)})}}})}),n(t)[0].style.width=e.width+"px"},update:function(){var t=this.element,e=this.graph,n=i,r=n(t).slider("option","values"),a=e.dataDomain();n(t).slider("option","min",a[0]),n(t).slider("option","max",a[1]),null==e.window.xMin&&(r[0]=a[0]),null==e.window.xMax&&(r[1]=a[1]),n(t).slider("option","values",r)},onSlide:function(t){this.slideCallbacks.push(t)}}),e.namespace("Rickshaw.Graph.RangeSlider.Preview"),e.Graph.RangeSlider.Preview=e.Class.create({initialize:function(e){if(!e.element)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an element";if(!e.graph&&!e.graphs)throw"Rickshaw.Graph.RangeSlider.Preview needs a reference to an graph or an array of graphs";this.element=e.element,this.element.style.position="relative",this.graphs=e.graph?[e.graph]:e.graphs,this.defaults={height:75,width:400,gripperColor:void 0,frameTopThickness:3,frameHandleThickness:10,frameColor:"#d4d4d4",frameOpacity:1,minimumFrameWidth:0,heightRatio:.2},this.heightRatio=e.heightRatio||this.defaults.heightRatio,this.defaults.gripperColor=t.rgb(this.defaults.frameColor).darker().toString(),this.configureCallbacks=[],this.slideCallbacks=[],this.previews=[],e.width||(this.widthFromGraph=!0),e.height||(this.heightFromGraph=!0),(this.widthFromGraph||this.heightFromGraph)&&this.graphs[0].onConfigure(function(){this.configure(e),this.render()}.bind(this)),e.width=e.width||this.graphs[0].width||this.defaults.width,e.height=e.height||this.graphs[0].height*this.heightRatio||this.defaults.height,this.configure(e),this.render()},onSlide:function(t){this.slideCallbacks.push(t)},onConfigure:function(t){this.configureCallbacks.push(t)},configure:function(t){this.config=this.config||{},this.configureCallbacks.forEach(function(e){e(t)}),e.keys(this.defaults).forEach(function(e){this.config[e]=e in t?t[e]:e in this.config?this.config[e]:this.defaults[e]},this),("width"in t||"height"in t)&&(this.widthFromGraph&&(this.config.width=this.graphs[0].width),this.heightFromGraph&&(this.config.height=this.graphs[0].height*this.heightRatio,this.previewHeight=this.config.height),this.previews.forEach(function(t){var e=this.previewHeight/this.graphs.length-2*this.config.frameTopThickness,n=this.config.width-2*this.config.frameHandleThickness;if(t.setSize({width:n,height:e}),this.svg){var i=e+2*this.config.frameHandleThickness,r=n+2*this.config.frameHandleThickness;this.svg.style("width",r+"px"),this.svg.style("height",i+"px")}},this))},render:function(){var n=this;this.svg=t.select(this.element).selectAll("svg.rickshaw_range_slider_preview").data([null]),this.previewHeight=this.config.height-2*this.config.frameTopThickness,this.previewWidth=this.config.width-2*this.config.frameHandleThickness,this.currentFrame=[0,this.previewWidth];var i=function(t,i){var r=e.extend({},t.config),a=n.previewHeight/n.graphs.length,o=t.renderer.name;e.extend(r,{element:this.appendChild(document.createElement("div")),height:a,width:n.previewWidth,series:t.series,renderer:o});var s=new e.Graph(r);n.previews.push(s),t.onUpdate(function(){s.render(),n.render()}),t.onConfigure(function(t){delete t.height,t.width=t.width-2*n.config.frameHandleThickness,s.configure(t),s.render()}),s.render()},r=t.select(this.element).selectAll("div.rickshaw_range_slider_preview_container").data(this.graphs),a="translate("+this.config.frameHandleThickness+"px, "+this.config.frameTopThickness+"px)";r.enter().append("div").classed("rickshaw_range_slider_preview_container",!0).style("-webkit-transform",a).style("-moz-transform",a).style("-ms-transform",a).style("transform",a).each(i),r.exit().remove();var o=this.graphs[0],s=t.scale.linear().domain([0,this.previewWidth]).range(o.dataDomain()),l=[o.window.xMin,o.window.xMax];this.currentFrame[0]=void 0===l[0]?0:Math.round(s.invert(l[0])),this.currentFrame[0]<0&&(this.currentFrame[0]=0),this.currentFrame[1]=void 0===l[1]?this.previewWidth:s.invert(l[1]),this.currentFrame[1]-this.currentFrame[0]<n.config.minimumFrameWidth&&(this.currentFrame[1]=(this.currentFrame[0]||0)+n.config.minimumFrameWidth),this.svg.enter().append("svg").classed("rickshaw_range_slider_preview",!0).style("height",this.config.height+"px").style("width",this.config.width+"px").style("position","absolute").style("top",0),this._renderDimming(),this._renderFrame(),this._renderGrippers(),this._renderHandles(),this._renderMiddle(),this._registerMouseEvents()},_renderDimming:function(){var t=this.svg.selectAll("path.dimming").data([null]);t.enter().append("path").attr("fill","white").attr("fill-opacity","0.7").attr("fill-rule","evenodd").classed("dimming",!0);var e="";e+=" M "+this.config.frameHandleThickness+" "+this.config.frameTopThickness,e+=" h "+this.previewWidth,e+=" v "+this.previewHeight,e+=" h "+-this.previewWidth,e+=" z ",e+=" M "+Math.max(this.currentFrame[0],this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+Math.min(this.currentFrame[1]+2*this.config.frameHandleThickness,this.previewWidth+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+Math.max(this.currentFrame[0],this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderFrame:function(){var t=this.svg.selectAll("path.frame").data([null]);t.enter().append("path").attr("stroke","white").attr("stroke-width","1px").attr("stroke-linejoin","round").attr("fill",this.config.frameColor).attr("fill-opacity",this.config.frameOpacity).attr("fill-rule","evenodd").classed("frame",!0);var e="";e+=" M "+this.currentFrame[0]+" 0",e+=" H "+(this.currentFrame[1]+2*this.config.frameHandleThickness),e+=" V "+this.config.height,e+=" H "+this.currentFrame[0],e+=" z",e+=" M "+(this.currentFrame[0]+this.config.frameHandleThickness)+" "+this.config.frameTopThickness,e+=" H "+(this.currentFrame[1]+this.config.frameHandleThickness),e+=" v "+this.previewHeight,e+=" H "+(this.currentFrame[0]+this.config.frameHandleThickness),e+=" z",t.attr("d",e)},_renderGrippers:function(){var t=this.svg.selectAll("path.gripper").data([null]);t.enter().append("path").attr("stroke",this.config.gripperColor).classed("gripper",!0);var e="";[.4,.6].forEach(function(t){e+=" M "+Math.round(this.currentFrame[0]+this.config.frameHandleThickness*t)+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height),e+=" M "+Math.round(this.currentFrame[1]+this.config.frameHandleThickness*(1+t))+" "+Math.round(.3*this.config.height),e+=" V "+Math.round(.7*this.config.height)}.bind(this)),t.attr("d",e)},_renderHandles:function(){var t=this.svg.selectAll("rect.left_handle").data([null]);t.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("left_handle",!0),t.attr("x",this.currentFrame[0]).attr("height",this.config.height);var e=this.svg.selectAll("rect.right_handle").data([null]);e.enter().append("rect").attr("width",this.config.frameHandleThickness).style("cursor","ew-resize").style("fill-opacity","0").classed("right_handle",!0),e.attr("x",this.currentFrame[1]+this.config.frameHandleThickness).attr("height",this.config.height)},_renderMiddle:function(){var t=this.svg.selectAll("rect.middle_handle").data([null]);t.enter().append("rect").style("cursor","move").style("fill-opacity","0").classed("middle_handle",!0),t.attr("width",Math.max(0,this.currentFrame[1]-this.currentFrame[0])).attr("x",this.currentFrame[0]+this.config.frameHandleThickness).attr("height",this.config.height)},_registerMouseEvents:function(){function e(e,n){l.stop=u._getClientXFromEvent(t.event,l);var i=l.stop-l.start,r=u.frameBeforeDrag.slice(0),a=u.config.minimumFrameWidth;l.rigid&&(a=u.frameBeforeDrag[1]-u.frameBeforeDrag[0]),l.left&&(r[0]=Math.max(r[0]+i,0)),l.right&&(r[1]=Math.min(r[1]+i,u.previewWidth));var o=r[1]-r[0];o<=a&&(l.left&&(r[0]=r[1]-a),l.right&&(r[1]=r[0]+a),r[0]<=0&&(r[1]-=r[0],r[0]=0),r[1]>=u.previewWidth&&(r[0]-=r[1]-u.previewWidth,r[1]=u.previewWidth)),u.graphs.forEach(function(e){var n=t.scale.linear().interpolate(t.interpolateNumber).domain([0,u.previewWidth]).range(e.dataDomain()),i=[n(r[0]),n(r[1])];u.slideCallbacks.forEach(function(t){t(e,i[0],i[1])}),0===r[0]&&(i[0]=void 0),r[1]===u.previewWidth&&(i[1]=void 0),e.window.xMin=i[0],e.window.xMax=i[1],
e.update()})}function n(){l.target=t.event.target,l.start=u._getClientXFromEvent(t.event,l),u.frameBeforeDrag=u.currentFrame.slice(),t.event.preventDefault?t.event.preventDefault():t.event.returnValue=!1,t.select(document).on("mousemove.rickshaw_range_slider_preview",e),t.select(document).on("mouseup.rickshaw_range_slider_preview",o),t.select(document).on("touchmove.rickshaw_range_slider_preview",e),t.select(document).on("touchend.rickshaw_range_slider_preview",o),t.select(document).on("touchcancel.rickshaw_range_slider_preview",o)}function i(t,e){l.left=!0,n()}function r(t,e){l.right=!0,n()}function a(t,e){l.left=!0,l.right=!0,l.rigid=!0,n()}function o(e,n){t.select(document).on("mousemove.rickshaw_range_slider_preview",null),t.select(document).on("mouseup.rickshaw_range_slider_preview",null),t.select(document).on("touchmove.rickshaw_range_slider_preview",null),t.select(document).on("touchend.rickshaw_range_slider_preview",null),t.select(document).on("touchcancel.rickshaw_range_slider_preview",null),delete u.frameBeforeDrag,l.left=!1,l.right=!1,l.rigid=!1}var s=t.select(this.element),l={target:null,start:null,stop:null,left:!1,right:!1,rigid:!1},u=this;s.select("rect.left_handle").on("mousedown",i),s.select("rect.right_handle").on("mousedown",r),s.select("rect.middle_handle").on("mousedown",a),s.select("rect.left_handle").on("touchstart",i),s.select("rect.right_handle").on("touchstart",r),s.select("rect.middle_handle").on("touchstart",a)},_getClientXFromEvent:function(t,e){switch(t.type){case"touchstart":case"touchmove":for(var n=t.changedTouches,i=null,r=0;r<n.length;r++)if(n[r].target===e.target){i=n[r];break}return null!==i?i.clientX:void 0;default:return t.clientX}}}),e.namespace("Rickshaw.Graph.Renderer"),e.Graph.Renderer=e.Class.create({initialize:function(t){this.graph=t.graph,this.tension=t.tension||this.tension,this.configure(t)},seriesPathFactory:function(){},seriesStrokeFactory:function(){},defaults:function(){return{tension:.8,strokeWidth:2,unstack:!0,padding:{top:.01,right:0,bottom:.01,left:0},stroke:!1,fill:!1,opacity:1}},domain:function(t){var e=t||this.graph.stackedData||this.graph.stackData(),n=+(1/0),i=-(1/0),r=+(1/0),a=-(1/0);return e.forEach(function(t){t.forEach(function(t){if(null!=t.y){var e=t.y+t.y0;e<r&&(r=e),e>a&&(a=e)}}),t.length&&(t[0].x<n&&(n=t[0].x),t[t.length-1].x>i&&(i=t[t.length-1].x))}),n-=(i-n)*this.padding.left,i+=(i-n)*this.padding.right,r="auto"===this.graph.min?r:this.graph.min||0,a=void 0===this.graph.max?a:this.graph.max,("auto"===this.graph.min||r<0)&&(r-=(a-r)*this.padding.bottom),void 0===this.graph.max&&(a+=(a-r)*this.padding.top),{x:[n,i],y:[r,a]}},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),a=i.selectAll("path.path").data(r).enter().append("svg:path").classed("path",!0).attr("d",this.seriesPathFactory());if(this.stroke)var o=i.selectAll("path.stroke").data(r).enter().append("svg:path").classed("stroke",!0).attr("d",this.seriesStrokeFactory());var s=0;n.forEach(function(t){t.disabled||(t.path=a[0][s],this.stroke&&(t.stroke=o[0][s]),this._styleSeries(t),s++)},this)},_styleSeries:function(e){var n=this.fill?e.color:"none",i=this.stroke?e.color:"none",r=e.strokeWidth?e.strokeWidth:this.strokeWidth,a=e.opacity?e.opacity:this.opacity;e.path.setAttribute("fill",n),e.path.setAttribute("stroke",i),e.path.setAttribute("stroke-width",r),e.path.setAttribute("opacity",a),e.className&&t.select(e.path).classed(e.className,!0),e.className&&this.stroke&&t.select(e.stroke).classed(e.className,!0)},configure:function(t){t=t||{},e.keys(this.defaults()).forEach(function(n){return t.hasOwnProperty(n)?void("object"==typeof this.defaults()[n]?e.keys(this.defaults()[n]).forEach(function(e){this[n][e]=void 0!==t[n][e]?t[n][e]:void 0!==this[n][e]?this[n][e]:this.defaults()[n][e]},this):this[n]=void 0!==t[n]?t[n]:void 0!==this[n]?this[n]:void 0!==this.graph[n]?this.graph[n]:this.defaults()[n]):void(this[n]=this[n]||this.graph[n]||this.defaults()[n])},this)},setStrokeWidth:function(t){void 0!==t&&(this.strokeWidth=t)},setTension:function(t){void 0!==t&&(this.tension=t)}}),e.namespace("Rickshaw.Graph.Renderer.Line"),e.Graph.Renderer.Line=e.Class.create(e.Graph.Renderer,{name:"line",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Stack"),e.Graph.Renderer.Stack=e.Class.create(e.Graph.Renderer,{name:"stack",defaults:function(t){return e.extend(t(),{fill:!0,stroke:!1,unstack:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n}}),e.namespace("Rickshaw.Graph.Renderer.Bar"),e.Graph.Renderer.Bar=e.Class.create(e.Graph.Renderer,{name:"bar",defaults:function(t){var n=e.extend(t(),{gapSize:.05,unstack:!1,opacity:1});return delete n.tension,n},initialize:function(t,e){e=e||{},this.gapSize=e.gapSize||this.gapSize,t(e)},domain:function(t){var e=t(),n=this._frequentInterval(this.graph.stackedData.slice(-1).shift());return e.x[1]+=Number(n.magnitude),e},barWidth:function(t){var e=this._frequentInterval(t.stack),n=this.graph.x.magnitude(e.magnitude)*(1-this.gapSize);return n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.barWidth(n.active()[0]),a=0,o=n.filter(function(t){return!t.disabled}).length,s=this.unstack?r/o:r,l=function(t){var n=[1,0,0,t.y<0?-1:1,0,t.y<0?2*e.y.magnitude(Math.abs(t.y)):0];return"matrix("+n.join(",")+")"};n.forEach(function(t){if(!t.disabled){var n=(this.barWidth(t),i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:rect").attr("x",function(t){return e.x(t.x)+a}).attr("y",function(t){return e.y(t.y0+Math.abs(t.y))*(t.y<0?-1:1)}).attr("width",s).attr("height",function(t){return e.y.magnitude(Math.abs(t.y))}).attr("opacity",t.opacity).attr("transform",l));Array.prototype.forEach.call(n[0],function(e){e.setAttribute("fill",t.color)}),this.unstack&&(a+=s)}},this)},_frequentInterval:function(t){for(var n={},i=0;i<t.length-1;i++){var r=t[i+1].x-t[i].x;n[r]=n[r]||0,n[r]++}var a={count:0,magnitude:1};return e.keys(n).forEach(function(t){a.count<n[t]&&(a={count:n[t],magnitude:t})}),a}}),e.namespace("Rickshaw.Graph.Renderer.Area"),e.Graph.Renderer.Area=e.Class.create(e.Graph.Renderer,{name:"area",defaults:function(t){return e.extend(t(),{unstack:!1,fill:!1,stroke:!1})},seriesPathFactory:function(){var e=this.graph,n=t.svg.area().x(function(t){return e.x(t.x)}).y0(function(t){return e.y(t.y0)}).y1(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},seriesStrokeFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y+t.y0)}).interpolate(e.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis;i.selectAll("*").remove();var r=this.unstack?"append":"insert",a=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=i.selectAll("path").data(a).enter()[r]("svg:g","g");o.append("svg:path").attr("d",this.seriesPathFactory()).attr("class","area"),this.stroke&&o.append("svg:path").attr("d",this.seriesStrokeFactory()).attr("class","line");var s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this)},_styleSeries:function(e){e.path&&(t.select(e.path).select(".area").attr("fill",e.color),this.stroke&&t.select(e.path).select(".line").attr("fill","none").attr("stroke",e.stroke||t.interpolateRgb(e.color,"black")(.125)).attr("stroke-width",this.strokeWidth),e.className&&e.path.setAttribute("class",e.className))}}),e.namespace("Rickshaw.Graph.Renderer.ScatterPlot"),e.Graph.Renderer.ScatterPlot=e.Class.create(e.Graph.Renderer,{name:"scatterplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!0,stroke:!1,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:4})},initialize:function(t,e){t(e)},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove(),n.forEach(function(t){if(!t.disabled){var n=t.opacity?t.opacity:1,a=i.selectAll("path").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r}).attr("opacity",function(t){return"opacity"in t?t.opacity:n});t.className&&a.classed(t.className,!0),Array.prototype.forEach.call(a[0],function(e){e.setAttribute("fill",t.color)})}},this)}}),e.namespace("Rickshaw.Graph.Renderer.Multi"),e.Graph.Renderer.Multi=e.Class.create(e.Graph.Renderer,{name:"multi",initialize:function(t,e){t(e)},defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0})},configure:function(t,e){e=e||{},this.config=e,t(e)},domain:function(e){this.graph.stackData();var n=[],i=this._groups();this._stack(i),i.forEach(function(t){var i=t.series.filter(function(t){return!t.disabled}).map(function(t){return t.stack});if(i.length){var r=null;r=t.renderer&&t.renderer.domain?t.renderer.domain(i):e(i),n.push(r)}});var r=t.min(n.map(function(t){return t.x[0]})),a=t.max(n.map(function(t){return t.x[1]})),o=t.min(n.map(function(t){return t.y[0]})),s=t.max(n.map(function(t){return t.y[1]}));return{x:[r,a],y:[o,s]}},_groups:function(){var n=this.graph,i={};n.series.forEach(function(r){if(!r.disabled){if(!i[r.renderer]){var a="http://www.w3.org/2000/svg",o=document.createElementNS(a,"g");n.vis[0][0].appendChild(o);var s=n._renderers[r.renderer],l={},u=[this.defaults(),s.defaults(),this.config,this.graph];u.forEach(function(t){e.extend(l,t)}),s.configure(l),i[r.renderer]={renderer:s,series:[],vis:t.select(o)}}i[r.renderer].series.push(r)}},this);var r=[];return Object.keys(i).forEach(function(t){var e=i[t];r.push(e)}),r},_stack:function(n){return n.forEach(function(n){var i=n.series.filter(function(t){return!t.disabled}),r=i.map(function(t){return t.stack});if(!n.renderer.unstack){var a=t.layout.stack(),o=e.clone(a(r));i.forEach(function(t,n){t._stack=e.clone(o[n])})}},this),n},render:function(){this.graph.series.forEach(function(t){if(!t.renderer)throw new Error("Each series needs a renderer for graph 'multi' renderer")}),this.graph.vis.selectAll("*").remove();var t=this._groups();t=this._stack(t),t.forEach(function(t){var e=t.series.filter(function(t){return!t.disabled});e.active=function(){return e},t.renderer.render({series:e,vis:t.vis}),e.forEach(function(t){t.stack=t._stack||t.stack||t.data})})}}),e.namespace("Rickshaw.Graph.Renderer.LinePlot"),e.Graph.Renderer.LinePlot=e.Class.create(e.Graph.Renderer,{name:"lineplot",defaults:function(t){return e.extend(t(),{unstack:!0,fill:!1,stroke:!0,padding:{top:.01,right:.01,bottom:.01,left:.01},dotSize:3,strokeWidth:2})},seriesPathFactory:function(){var e=this.graph,n=t.svg.line().x(function(t){return e.x(t.x)}).y(function(t){return e.y(t.y)}).interpolate(this.graph.interpolation).tension(this.tension);return n.defined&&n.defined(function(t){return null!==t.y}),n},render:function(t){t=t||{};var e=this.graph,n=t.series||e.series,i=t.vis||e.vis,r=this.dotSize;i.selectAll("*").remove();var a=n.filter(function(t){return!t.disabled}).map(function(t){return t.stack}),o=i.selectAll("path").data(a).enter().append("svg:path").attr("d",this.seriesPathFactory()),s=0;n.forEach(function(t){t.disabled||(t.path=o[0][s++],this._styleSeries(t))},this),n.forEach(function(t){if(!t.disabled){var n=i.selectAll("x").data(t.stack.filter(function(t){return null!==t.y})).enter().append("svg:circle").attr("cx",function(t){return e.x(t.x)}).attr("cy",function(t){return e.y(t.y)}).attr("r",function(t){return"r"in t?t.r:r});Array.prototype.forEach.call(n[0],function(e){e&&(e.setAttribute("data-color",t.color),e.setAttribute("fill","white"),e.setAttribute("stroke",t.color),e.setAttribute("stroke-width",this.strokeWidth))}.bind(this))}},this)}}),e.namespace("Rickshaw.Graph.Smoother"),e.Graph.Smoother=e.Class.create({initialize:function(t){this.graph=t.graph,this.element=t.element,this.aggregationScale=1,this.build(),this.graph.stackData.hooks.data.push({name:"smoother",orderPosition:50,f:this.transformer.bind(this)})},build:function(){var t=this,e=i;this.element&&e(function(){e(t.element).slider({min:1,max:100,slide:function(e,n){t.setScale(n.value)}})})},setScale:function(t){if(t<1)throw"scale out of range: "+t;this.aggregationScale=t,this.graph.update()},transformer:function(t){if(1==this.aggregationScale)return t;var e=[];return t.forEach(function(t){for(var n=[];t.length;){var i=0,r=0,a=t.splice(0,this.aggregationScale);a.forEach(function(t){i+=t.x/a.length,r+=t.y/a.length}),n.push({x:i,y:r})}e.push(n)}.bind(this)),e}}),e.namespace("Rickshaw.Graph.Socketio"),e.Graph.Socketio=e.Class.create(e.Graph.Ajax,{request:function(){var t=io.connect(this.dataURL),e=this;t.on("rickshaw",function(t){e.success(t)})}}),e.namespace("Rickshaw.Series"),e.Series=e.Class.create(Array,{initialize:function(t,n,i){i=i||{},this.palette=new e.Color.Palette(n),this.timeBase="undefined"==typeof i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase;var r="undefined"==typeof i.timeInterval?1e3:i.timeInterval;this.setTimeInterval(r),t&&"object"==typeof t&&Array.isArray(t)&&t.forEach(function(t){this.addItem(t)},this)},addItem:function(t){if("undefined"==typeof t.name)throw"addItem() needs a name";t.color=t.color||this.palette.color(t.name),t.data=t.data||[],0===t.data.length&&this.length&&this.getIndex()>0?this[0].data.forEach(function(e){t.data.push({x:e.x,y:0})}):0===t.data.length&&t.data.push({x:this.timeBase-(this.timeInterval||0),y:0}),this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},addData:function(t,n){var i=this.getIndex();e.keys(t).forEach(function(t){this.itemByName(t)||this.addItem({name:t})},this),this.forEach(function(e){e.data.push({x:n||(i*this.timeInterval||1)+this.timeBase,y:t[e.name]||0})},this)},getIndex:function(){return this[0]&&this[0].data&&this[0].data.length?this[0].data.length:0},itemByName:function(t){for(var e=0;e<this.length;e++)if(this[e].name==t)return this[e]},setTimeInterval:function(t){this.timeInterval=t/1e3},setTimeBase:function(t){this.timeBase=t},dump:function(){var t={timeBase:this.timeBase,timeInterval:this.timeInterval,items:[]};return this.forEach(function(e){var n={color:e.color,name:e.name,data:[]};e.data.forEach(function(t){n.data.push({x:t.x,y:t.y})}),t.items.push(n)}),t},load:function(t){t.timeInterval&&(this.timeInterval=t.timeInterval),t.timeBase&&(this.timeBase=t.timeBase),t.items&&t.items.forEach(function(t){this.push(t),this.legend&&this.legend.addLine(this.itemByName(t.name))},this)}}),e.Series.zeroFill=function(t){e.Series.fill(t,0)},e.Series.fill=function(t,e){for(var n,i=0,r=t.map(function(t){return t.data});i<Math.max.apply(null,r.map(function(t){return t.length}));)n=Math.min.apply(null,r.filter(function(t){return t[i]}).map(function(t){return t[i].x})),r.forEach(function(t){t[i]&&t[i].x==n||t.splice(i,0,{x:n,y:e})}),i++},e.namespace("Rickshaw.Series.FixedDuration"),e.Series.FixedDuration=e.Class.create(e.Series,{initialize:function(t,n,i){if(i=i||{},"undefined"==typeof i.timeInterval)throw new Error("FixedDuration series requires timeInterval");if("undefined"==typeof i.maxDataPoints)throw new Error("FixedDuration series requires maxDataPoints");if(this.palette=new e.Color.Palette(n),this.timeBase="undefined"==typeof i.timeBase?Math.floor((new Date).getTime()/1e3):i.timeBase,this.setTimeInterval(i.timeInterval),this[0]&&this[0].data&&this[0].data.length?(this.currentSize=this[0].data.length,this.currentIndex=this[0].data.length):(this.currentSize=0,this.currentIndex=0),this.maxDataPoints=i.maxDataPoints,t&&"object"==typeof t&&Array.isArray(t)&&(t.forEach(function(t){this.addItem(t)},this),this.currentSize+=1,this.currentIndex+=1),this.timeBase-=(this.maxDataPoints-this.currentSize)*this.timeInterval,"undefined"!=typeof this.maxDataPoints&&this.currentSize<this.maxDataPoints)for(var r=this.maxDataPoints-this.currentSize-1;r>1;r--)this.currentSize+=1,this.currentIndex+=1,this.forEach(function(t){t.data.unshift({x:((r-1)*this.timeInterval||1)+this.timeBase,y:0,i:r})},this)},addData:function(t,e,n){if(t(e,n),this.currentSize+=1,this.currentIndex+=1,void 0!==this.maxDataPoints)for(;this.currentSize>this.maxDataPoints;)this.dropData()},dropData:function(){this.forEach(function(t){t.data.splice(0,1)}),this.currentSize-=1},getIndex:function(){return this.currentIndex}}),e})}).call(e,n("./node_modules/jquery/dist/jquery.js"),n("./node_modules/jquery/dist/jquery.js"))},"./src/app/charts/charts.component.ts":function(t,e,n){"use strict";(function(t,i,r,a){var o=n("./node_modules/@angular/core/index.js"),s=function(){function e(){this.seriesData=[[],[]],this.data1=[[1,20],[2,20],[3,40],[4,30],[5,40],[6,35],[7,47]],this.data2=[[1,13],[2,8],[3,17],[4,10],[5,17],[6,15],[7,16]],this.data3=[[1,23],[2,13],[3,33],[4,16],[5,32],[6,28],[7,31]]}return e.prototype.applyRickshawData=function(){console.log(t),this.random=new t.Fixtures.RandomData(30);for(var e=0;e<30;e++)this.random.addData(this.seriesData);this.series=[{color:"#96E593",data:this.seriesData[0],name:"Uploads"},{color:"#ecfaec",data:this.seriesData[1],name:"Downloads"}]},e.prototype.applyNvd3Data=function(){function t(t,e,n){function r(t){for(var n=1/(.1+Math.random()),i=2*Math.random()-.5,r=10/(.1+Math.random()),a=0;a<e;a++){var o=(a/e-i)*r;t[a]+=n*Math.exp(-o*o)}}return arguments.length<3&&(n=0),i.range(t).map(function(){var t,i=[];for(t=0;t<e;t++)i[t]=n+n*Math.random();for(t=0;t<5;t++)r(i);return i.map(function(t,e){return{x:e,y:Math.max(0,t)}})})}function e(e,n){var i=(new Date).getTime(),r=864e5,a=60,o=a*r,s=i-o,l=n||45,u=a/l;return t(e.length,l,.1).map(function(t,n){return{key:e[n],values:t.map(function(t,e){return{x:s+t.x*r*u,y:Math.floor(100*t.y)}})}})}this.nvd31Chart=r.models.lineChart().useInteractiveGuideline(!0).margin({left:28,bottom:30,right:0}).color(["#82DFD6","#ddd"]),this.nvd31Chart.xAxis.showMaxMin(!1).tickFormat(function(t){return i.time.format("%b %d")(new Date(t))}),this.nvd31Chart.yAxis.showMaxMin(!1).tickFormat(i.format(",f")),this.nvd31Data=e(["Search","Referral"],50).map(function(t,e){return t.area=!0,t}),this.nvd32Chart=r.models.multiBarChart().margin({left:28,bottom:30,right:0}).color(["#F7653F","#ddd"]),this.nvd32Chart.xAxis.showMaxMin(!1).tickFormat(function(t){return i.time.format("%b %d")(new Date(t))}),this.nvd32Chart.yAxis.showMaxMin(!1).tickFormat(i.format(",f")),this.nvd32Data=e(["Uploads","Downloads"],10).map(function(t,e){return t.area=!0,t})},e.prototype.ngOnInit=function(){this.applyRickshawData(),this.sparklineCompositeData=[[2,4,6,2,7,5,3,7,8,3,6],[5,3,7,8,3,6,2,4,6,2,7]],this.sparklineCompositeOptions=[{width:"99%",fillColor:"#ddd",height:"100px",lineColor:"transparent",spotColor:"#c0d0f0",minSpotColor:null,maxSpotColor:null,highlightSpotColor:"#ddd",highlightLineColor:"#ddd"},{lineColor:"transparent",spotColor:"#c0d0f0",fillColor:"rgba(192, 208, 240, 0.76)",minSpotColor:null,maxSpotColor:null,highlightSpotColor:"#ddd",highlightLineColor:"#ddd"}],this.sparklinePieData=[2,4,6],this.sparklinePieOptions={type:"pie",width:"100px",height:"100px",sliceColors:["#F5CB7B","#FAEEE5","#f0f0f0"]},this.applyNvd3Data(),this.morris1Options={resize:!0,data:[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"],lineColors:["#88C4EE","#ccc"]},this.morris2Options={resize:!0,data:[{y:"2006",a:100,b:90},{y:"2007",a:75,b:65},{y:"2008",a:50,b:40},{y:"2009",a:75,b:65},{y:"2010",a:50,b:40},{y:"2011",a:75,b:65},{y:"2012",a:100,b:90}],xkey:"y",ykeys:["a","b"],labels:["Series A","Series B"],lineColors:["#80DE78","#9EEE9B"],lineWidth:0},this.morris3Options={data:[{label:"Download Sales",value:12},{label:"In-Store Sales",value:30},{label:"Mail-Order Sales",value:20}],colors:["#F7653F","#F8C0A2","#e6e6e6"]},a(".easy-pie-chart").easyPieChart({barColor:"#5dc4bf",trackColor:"#ddd",scaleColor:!1,lineWidth:10,size:120});var t=[[13885344e5,120],[13912128e5,70],[1393632e6,100],[13963104e5,60],[13989024e5,35]],e=[[13885344e5,90],[13912128e5,60],[1393632e6,30],[13963104e5,73],[13989024e5,30]],n=[[13885344e5,80],[13912128e5,40],[1393632e6,47],[13963104e5,22],[13989024e5,24]];this.flotBarsData=[{label:"Apple",data:t,bars:{show:!0,barWidth:31104e4,fill:!0,lineWidth:0,order:1}},{label:"Google",data:e,bars:{show:!0,barWidth:31104e4,fill:!0,lineWidth:0,order:2}},{label:"Facebook",data:n,bars:{show:!0,barWidth:31104e4,fill:!0,lineWidth:0,order:3}}],this.flotBarsOptions={series:{bars:{show:!0,barWidth:36288e4,lineWidth:0,order:1,fillColor:{colors:[{opacity:1},{opacity:.7}]}}},xaxis:{mode:"time",min:13874976e5,max:1400112e6,tickLength:0,tickSize:[1,"month"],axisLabel:"Month",axisLabelUseCanvas:!0,axisLabelFontSizePixels:13,axisLabelPadding:15},yaxis:{axisLabel:"Value",axisLabelUseCanvas:!0,axisLabelFontSizePixels:13,axisLabelPadding:5},grid:{hoverable:!0,borderWidth:0},legend:{backgroundColor:"transparent",labelBoxBorderColor:"none"},colors:["#64bd63","#f0b518","#F7653F"]}},e=__decorate([o.Component({selector:"[charts]",template:n("./src/app/charts/charts.template.html"),styles:[n("./src/app/charts/charts.style.scss")],encapsulation:o.ViewEncapsulation.None}),__metadata("design:paramtypes",[])],e)}();e.Charts=s}).call(e,n("./node_modules/rickshaw/rickshaw.js"),n("./node_modules/d3/d3.js"),n("./node_modules/nvd3/build/nv.d3.js"),n("./node_modules/jquery/dist/jquery.js"))},"./src/app/charts/charts.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js"),r=n("./node_modules/@angular/common/index.js"),a=n("./node_modules/@angular/router/index.js");n("./node_modules/webpack-raphael/raphael-min.js"),n("./node_modules/easy-pie-chart/dist/jquery.easypiechart.js");var o=n("./src/app/layout/widget/widget.module.ts"),s=n("./src/app/components/flot/flot.module.ts"),l=n("./src/app/components/morris/morris.module.ts"),u=n("./src/app/components/nvd3/nvd3.module.ts"),c=n("./src/app/components/sparkline/sparkline.module.ts"),h=n("./src/app/components/rickshaw/rickshaw.module.ts"),d=n("./src/app/charts/flot-chart-animator/flot-chart-animator.directive.ts"),f=n("./src/app/charts/charts.component.ts");e.routes=[{path:"",component:f.Charts,pathMatch:"full"}];var p=function(){function t(){}return t.routes=e.routes,t=__decorate([i.NgModule({imports:[r.CommonModule,o.WidgetModule,s.FlotChartModule,l.MorrisChartModule,u.Nvd3ChartModule,c.JqSparklineModule,h.RickshawChartModule,a.RouterModule.forChild(e.routes)],declarations:[f.Charts,d.FlotChartAnimator]}),__metadata("design:paramtypes",[])],t)}();Object.defineProperty(e,"__esModule",{value:!0}),e["default"]=p},"./src/app/charts/charts.style.scss":function(t,e){t.exports='.rickshaw_graph .detail{pointer-events:none;position:absolute;top:0;z-index:2;background:rgba(0,0,0,0.1);bottom:0;width:1px;transition:opacity 0.25s linear;-moz-transition:opacity 0.25s linear;-o-transition:opacity 0.25s linear;-webkit-transition:opacity 0.25s linear}.rickshaw_graph .detail.inactive{opacity:0}.rickshaw_graph .detail .item.active{opacity:1}.rickshaw_graph .detail .x_label{font-family:Arial, sans-serif;border-radius:3px;padding:6px;opacity:0.5;border:1px solid #e0e0e0;font-size:12px;position:absolute;background:white;white-space:nowrap}.rickshaw_graph .detail .x_label.left{left:0}.rickshaw_graph .detail .x_label.right{right:0}.rickshaw_graph .detail .item{position:absolute;z-index:2;border-radius:3px;padding:0.25em;font-size:12px;font-family:Arial, sans-serif;opacity:0;background:rgba(0,0,0,0.4);color:white;border:1px solid rgba(0,0,0,0.4);margin-left:1em;margin-right:1em;margin-top:-1em;white-space:nowrap}.rickshaw_graph .detail .item.left{left:0}.rickshaw_graph .detail .item.right{right:0}.rickshaw_graph .detail .item.active{opacity:1;background:rgba(0,0,0,0.8)}.rickshaw_graph .detail .item:after{position:absolute;display:block;width:0;height:0;content:"";border:5px solid transparent}.rickshaw_graph .detail .item.left:after{top:1em;left:-5px;margin-top:-5px;border-right-color:rgba(0,0,0,0.8);border-left-width:0}.rickshaw_graph .detail .item.right:after{top:1em;right:-5px;margin-top:-5px;border-left-color:rgba(0,0,0,0.8);border-right-width:0}.rickshaw_graph .detail .dot{width:4px;height:4px;margin-left:-3px;margin-top:-3.5px;border-radius:5px;position:absolute;box-shadow:0 0 2px rgba(0,0,0,0.6);box-sizing:content-box;-moz-box-sizing:content-box;background:white;border-width:2px;border-style:solid;display:none;background-clip:padding-box}.rickshaw_graph .detail .dot.active{display:block}.rickshaw_graph{position:relative}.rickshaw_graph svg{display:block;overflow:hidden}.rickshaw_graph .x_tick{position:absolute;top:0;bottom:0;width:0px;border-left:1px dotted rgba(0,0,0,0.2);pointer-events:none}.rickshaw_graph .x_tick .title{position:absolute;font-size:12px;font-family:Arial, sans-serif;opacity:0.5;white-space:nowrap;margin-left:3px;bottom:1px}.rickshaw_annotation_timeline{height:1px;border-top:1px solid #e0e0e0;margin-top:10px;position:relative}.rickshaw_annotation_timeline .annotation{position:absolute;height:6px;width:6px;margin-left:-2px;top:-3px;border-radius:5px;background-color:rgba(0,0,0,0.25)}.rickshaw_graph .annotation_line{position:absolute;top:0;bottom:-6px;width:0px;border-left:2px solid rgba(0,0,0,0.3);display:none}.rickshaw_graph .annotation_line.active{display:block}.rickshaw_graph .annotation_range{background:rgba(0,0,0,0.1);display:none;position:absolute;top:0;bottom:-6px}.rickshaw_graph .annotation_range.active{display:block}.rickshaw_graph .annotation_range.active.offscreen{display:none}.rickshaw_annotation_timeline .annotation .content{background:white;color:black;opacity:0.9;padding:5px 5px;box-shadow:0 0 2px rgba(0,0,0,0.8);border-radius:3px;position:relative;z-index:20;font-size:12px;padding:6px 8px 8px;top:18px;left:-11px;width:160px;display:none;cursor:pointer}.rickshaw_annotation_timeline .annotation .content:before{content:"\\25b2";position:absolute;top:-11px;color:white;text-shadow:0 -1px 1px rgba(0,0,0,0.8)}.rickshaw_annotation_timeline .annotation.active,.rickshaw_annotation_timeline .annotation:hover{background-color:rgba(0,0,0,0.8);cursor:none}.rickshaw_annotation_timeline .annotation .content:hover{z-index:50}.rickshaw_annotation_timeline .annotation.active .content{display:block}.rickshaw_annotation_timeline .annotation:hover .content{display:block;z-index:50}.rickshaw_graph .y_axis,.rickshaw_graph .x_axis_d3{fill:none}.rickshaw_graph .y_ticks .tick line,.rickshaw_graph .x_ticks_d3 .tick{stroke:rgba(0,0,0,0.16);stroke-width:2px;shape-rendering:crisp-edges;pointer-events:none}.rickshaw_graph .y_grid .tick,.rickshaw_graph .x_grid_d3 .tick{z-index:-1;stroke:rgba(0,0,0,0.2);stroke-width:1px;stroke-dasharray:1 1}.rickshaw_graph .y_grid .tick[data-y-value="0"]{stroke-dasharray:1 0}.rickshaw_graph .y_grid path,.rickshaw_graph .x_grid_d3 path{fill:none;stroke:none}.rickshaw_graph .y_ticks path,.rickshaw_graph .x_ticks_d3 path{fill:none;stroke:#808080}.rickshaw_graph .y_ticks text,.rickshaw_graph .x_ticks_d3 text{opacity:0.5;font-size:12px;pointer-events:none}.rickshaw_graph .x_tick.glow .title,.rickshaw_graph .y_ticks.glow text{fill:black;color:black;text-shadow:-1px 1px 0 rgba(255,255,255,0.1),1px -1px 0 rgba(255,255,255,0.1),1px 1px 0 rgba(255,255,255,0.1),0px 1px 0 rgba(255,255,255,0.1),0px -1px 0 rgba(255,255,255,0.1),1px 0px 0 rgba(255,255,255,0.1),-1px 0px 0 rgba(255,255,255,0.1),-1px -1px 0 rgba(255,255,255,0.1)}.rickshaw_graph .x_tick.inverse .title,.rickshaw_graph .y_ticks.inverse text{fill:white;color:white;text-shadow:-1px 1px 0 rgba(0,0,0,0.8),1px -1px 0 rgba(0,0,0,0.8),1px 1px 0 rgba(0,0,0,0.8),0px 1px 0 rgba(0,0,0,0.8),0px -1px 0 rgba(0,0,0,0.8),1px 0px 0 rgba(0,0,0,0.8),-1px 0px 0 rgba(0,0,0,0.8),-1px -1px 0 rgba(0,0,0,0.8)}.rickshaw_legend{font-family:Arial;font-size:12px;color:white;background:#404040;display:inline-block;padding:12px 5px;border-radius:2px;position:relative}.rickshaw_legend:hover{z-index:10}.rickshaw_legend .swatch{width:10px;height:10px;border:1px solid rgba(0,0,0,0.2)}.rickshaw_legend .line{clear:both;line-height:140%;padding-right:15px}.rickshaw_legend .line .swatch{display:inline-block;margin-right:3px;border-radius:2px}.rickshaw_legend .label{margin:0;white-space:nowrap;display:inline;font-size:inherit;background-color:transparent;color:inherit;font-weight:normal;line-height:normal;padding:0px;text-shadow:none}.rickshaw_legend .action:hover{opacity:0.6}.rickshaw_legend .action{margin-right:0.2em;font-size:10px;opacity:0.2;cursor:pointer;font-size:14px}.rickshaw_legend .line.disabled{opacity:0.4}.rickshaw_legend ul{list-style-type:none;margin:0;padding:0;margin:2px;cursor:pointer}.rickshaw_legend li{padding:0 0 0 2px;min-width:80px;white-space:nowrap}.rickshaw_legend li:hover{background:rgba(255,255,255,0.08);border-radius:3px}.rickshaw_legend li:active{background:rgba(255,255,255,0.2);border-radius:3px}.morris-hover{position:absolute;z-index:1000}.morris-hover.morris-default-style{border-radius:10px;padding:6px;color:#666;background:rgba(255,255,255,0.8);border:solid 2px rgba(230,230,230,0.8);font-family:sans-serif;font-size:12px;text-align:center}.morris-hover.morris-default-style .morris-hover-row-label{font-weight:bold;margin:0.25em 0}.morris-hover.morris-default-style .morris-hover-point{white-space:nowrap;margin:0.1em 0}.nvd3 .nv-axis{pointer-events:none;opacity:1}.nvd3 .nv-axis path{fill:none;stroke:#000;stroke-opacity:.75;shape-rendering:crispEdges}.nvd3 .nv-axis path.domain{stroke-opacity:.75}.nvd3 .nv-axis.nv-x path.domain{stroke-opacity:0}.nvd3 .nv-axis line{fill:none;stroke:#e5e5e5;shape-rendering:crispEdges}.nvd3 .nv-axis .zero line,.nvd3 .nv-axis line.zero{stroke-opacity:.75}.nvd3 .nv-axis .nv-axisMaxMin text{font-weight:bold}.nvd3 .x .nv-axis .nv-axisMaxMin text,.nvd3 .x2 .nv-axis .nv-axisMaxMin text,.nvd3 .x3 .nv-axis .nv-axisMaxMin text{text-anchor:middle}.nvd3 .nv-axis.nv-disabled{opacity:0}.nvd3 .nv-bars rect{fill-opacity:.75;transition:fill-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear}.nvd3 .nv-bars rect.hover{fill-opacity:1}.nvd3 .nv-bars .hover rect{fill:lightblue}.nvd3 .nv-bars text{fill:transparent}.nvd3 .nv-bars .hover text{fill:#000}.nvd3 .nv-multibar .nv-groups rect,.nvd3 .nv-multibarHorizontal .nv-groups rect,.nvd3 .nv-discretebar .nv-groups rect{stroke-opacity:0;transition:fill-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear}.nvd3 .nv-multibar .nv-groups rect:hover,.nvd3 .nv-multibarHorizontal .nv-groups rect:hover,.nvd3 .nv-candlestickBar .nv-ticks rect:hover,.nvd3 .nv-discretebar .nv-groups rect:hover{fill-opacity:1}.nvd3 .nv-discretebar .nv-groups text,.nvd3 .nv-multibarHorizontal .nv-groups text{font-weight:bold;fill:#000;stroke:transparent}.nvd3 .nv-boxplot circle{fill-opacity:0.5}.nvd3 .nv-boxplot circle:hover{fill-opacity:1}.nvd3 .nv-boxplot rect:hover{fill-opacity:1}.nvd3 line.nv-boxplot-median{stroke:black}.nv-boxplot-tick:hover{stroke-width:2.5px}.nvd3.nv-bullet{font:10px sans-serif}.nvd3.nv-bullet .nv-measure{fill-opacity:.8}.nvd3.nv-bullet .nv-measure:hover{fill-opacity:1}.nvd3.nv-bullet .nv-marker{stroke:#000;stroke-width:2px}.nvd3.nv-bullet .nv-markerTriangle{stroke:#000;fill:#fff;stroke-width:1.5px}.nvd3.nv-bullet .nv-markerLine{stroke:#000;stroke-width:1.5px}.nvd3.nv-bullet .nv-tick line{stroke:#666;stroke-width:.5px}.nvd3.nv-bullet .nv-range.nv-s0{fill:#eee}.nvd3.nv-bullet .nv-range.nv-s1{fill:#ddd}.nvd3.nv-bullet .nv-range.nv-s2{fill:#ccc}.nvd3.nv-bullet .nv-title{font-size:14px;font-weight:bold}.nvd3.nv-bullet .nv-subtitle{fill:#999}.nvd3.nv-bullet .nv-range{fill:#bababa;fill-opacity:.4}.nvd3.nv-bullet .nv-range:hover{fill-opacity:.7}.nvd3.nv-candlestickBar .nv-ticks .nv-tick{stroke-width:1px}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.hover{stroke-width:2px}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.positive rect{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-candlestickBar .nv-ticks .nv-tick.negative rect{stroke:#d62728;fill:#d62728}.with-transitions .nv-candlestickBar .nv-ticks .nv-tick{transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:stroke-width 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-candlestickBar .nv-ticks line{stroke:#333}.nv-force-node{stroke:#fff;stroke-width:1.5px}.nv-force-link{stroke:#999;stroke-opacity:.6}.nv-force-node text{stroke-width:0px}.nvd3 .nv-check-box .nv-box{fill-opacity:0;stroke-width:2}.nvd3 .nv-check-box .nv-check{fill-opacity:0;stroke-width:4}.nvd3 .nv-series.nv-disabled .nv-check-box .nv-check{fill-opacity:0;stroke-opacity:0}.nvd3 .nv-controlsWrap .nv-legend .nv-check-box .nv-check{opacity:0}.nvd3.nv-linePlusBar .nv-bar rect{fill-opacity:.75}.nvd3.nv-linePlusBar .nv-bar rect:hover{fill-opacity:1}.nvd3 .nv-groups path.nv-line{fill:none}.nvd3 .nv-groups path.nv-area{stroke:none}.nvd3.nv-line .nvd3.nv-scatter .nv-groups .nv-point{fill-opacity:0;stroke-opacity:0}.nvd3.nv-scatter.nv-single-point .nv-groups .nv-point{fill-opacity:.5 !important;stroke-opacity:.5 !important}.with-transitions .nvd3 .nv-groups .nv-point{transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:stroke-width 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-scatter .nv-groups .nv-point.hover,.nvd3 .nv-groups .nv-point.hover{stroke-width:7px;fill-opacity:.95 !important;stroke-opacity:.95 !important}.nvd3 .nv-point-paths path{stroke:#aaa;stroke-opacity:0;fill:#eee;fill-opacity:0}.nvd3 .nv-indexLine{cursor:ew-resize}svg.nvd3-svg{-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-ms-user-select:none;-moz-user-select:none;user-select:none;display:block;width:100%;height:100%}.nvtooltip.with-3d-shadow,.with-3d-shadow .nvtooltip{-moz-box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-box-shadow:0 5px 10px rgba(0,0,0,0.2);box-shadow:0 5px 10px rgba(0,0,0,0.2);-webkit-border-radius:5px;-moz-border-radius:5px;border-radius:5px}.nvd3 text{font:normal 12px Arial}.nvd3 .title{font:bold 14px Arial}.nvd3 .nv-background{fill:white;fill-opacity:0}.nvd3.nv-noData{font-size:18px;font-weight:bold}.nv-brush .extent{fill-opacity:.125;shape-rendering:crispEdges}.nv-brush .resize path{fill:#eee;stroke:#666}.nvd3 .nv-legend .nv-series{cursor:pointer}.nvd3 .nv-legend .nv-disabled circle{fill-opacity:0}.nvd3 .nv-brush .extent{fill-opacity:0 !important}.nvd3 .nv-brushBackground rect{stroke:#000;stroke-width:.4;fill:#fff;fill-opacity:.7}@media print{.nvd3 text{stroke-width:0;fill-opacity:1}}.nvd3.nv-ohlcBar .nv-ticks .nv-tick{stroke-width:1px}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.hover{stroke-width:2px}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.positive{stroke:#2ca02c}.nvd3.nv-ohlcBar .nv-ticks .nv-tick.negative{stroke:#d62728}.nvd3 .background path{fill:none;stroke:#EEE;stroke-opacity:.4;shape-rendering:crispEdges}.nvd3 .foreground path{fill:none;stroke-opacity:.7}.nvd3 .nv-parallelCoordinates-brush .extent{fill:#fff;fill-opacity:.6;stroke:gray;shape-rendering:crispEdges}.nvd3 .nv-parallelCoordinates .hover{fill-opacity:1;stroke-width:3px}.nvd3 .missingValuesline line{fill:none;stroke:black;stroke-width:1;stroke-opacity:1;stroke-dasharray:5, 5}.nvd3.nv-pie path{stroke-opacity:0;transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear, stroke-width 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-pie .nv-pie-title{font-size:24px;fill:rgba(19,196,249,0.59)}.nvd3.nv-pie .nv-slice text{stroke:#000;stroke-width:0}.nvd3.nv-pie path{stroke:#fff;stroke-width:1px;stroke-opacity:1}.nvd3.nv-pie path{fill-opacity:.7}.nvd3.nv-pie .hover path{fill-opacity:1}.nvd3.nv-pie .nv-label{pointer-events:none}.nvd3.nv-pie .nv-label rect{fill-opacity:0;stroke-opacity:0}.nvd3 .nv-groups .nv-point.hover{stroke-width:20px;stroke-opacity:.5}.nvd3 .nv-scatter .nv-point.hover{fill-opacity:1}.nv-noninteractive{pointer-events:none}.nv-distx,.nv-disty{pointer-events:none}.nvd3.nv-sparkline path{fill:none}.nvd3.nv-sparklineplus g.nv-hoverValue{pointer-events:none}.nvd3.nv-sparklineplus .nv-hoverValue line{stroke:#333;stroke-width:1.5px}.nvd3.nv-sparklineplus,.nvd3.nv-sparklineplus g{pointer-events:all}.nvd3 .nv-hoverArea{fill-opacity:0;stroke-opacity:0}.nvd3.nv-sparklineplus .nv-xValue,.nvd3.nv-sparklineplus .nv-yValue{stroke-width:0;font-size:.9em;font-weight:normal}.nvd3.nv-sparklineplus .nv-yValue{stroke:#f66}.nvd3.nv-sparklineplus .nv-maxValue{stroke:#2ca02c;fill:#2ca02c}.nvd3.nv-sparklineplus .nv-minValue{stroke:#d62728;fill:#d62728}.nvd3.nv-sparklineplus .nv-currentValue{font-weight:bold;font-size:1.1em}.nvd3.nv-stackedarea path.nv-area{fill-opacity:.7;stroke-opacity:0;transition:fill-opacity 250ms linear, stroke-opacity 250ms linear;-moz-transition:fill-opacity 250ms linear, stroke-opacity 250ms linear;-webkit-transition:fill-opacity 250ms linear, stroke-opacity 250ms linear}.nvd3.nv-stackedarea path.nv-area.hover{fill-opacity:.9}.nvd3.nv-stackedarea .nv-groups .nv-point{stroke-opacity:0;fill-opacity:0}.nvtooltip{position:absolute;background-color:#fff;color:#000;padding:1px;border:1px solid rgba(0,0,0,0.2);z-index:10000;display:block;font-family:Arial;font-size:13px;text-align:left;pointer-events:none;white-space:nowrap;-webkit-touch-callout:none;-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.nvtooltip{background:rgba(255,255,255,0.8);border:1px solid rgba(0,0,0,0.5);border-radius:4px}.nvtooltip.with-transitions,.with-transitions .nvtooltip{transition:opacity 50ms linear;-moz-transition:opacity 50ms linear;-webkit-transition:opacity 50ms linear;transition-delay:200ms;-moz-transition-delay:200ms;-webkit-transition-delay:200ms}.nvtooltip.x-nvtooltip,.nvtooltip.y-nvtooltip{padding:8px}.nvtooltip h3{margin:0;padding:4px 14px;line-height:18px;font-weight:normal;background-color:rgba(247,247,247,0.75);color:#000;text-align:center;border-bottom:1px solid #ebebeb;-webkit-border-radius:5px 5px 0 0;-moz-border-radius:5px 5px 0 0;border-radius:5px 5px 0 0}.nvtooltip p{margin:0;padding:5px 14px;text-align:center}.nvtooltip span{display:inline-block;margin:2px 0}.nvtooltip table{margin:6px;border-spacing:0}.nvtooltip table td{padding:2px 9px 2px 0;vertical-align:middle}.nvtooltip table td.key{font-weight:normal}.nvtooltip table td.key.total{font-weight:bold}.nvtooltip table td.value{text-align:right;font-weight:bold}.nvtooltip table td.percent{color:darkgray}.nvtooltip table tr.highlight td{padding:1px 9px 1px 0;border-bottom-style:solid;border-bottom-width:1px;border-top-style:solid;border-top-width:1px}.nvtooltip table td.legend-color-guide div{width:8px;height:8px;vertical-align:middle}.nvtooltip table td.legend-color-guide div{width:12px;height:12px;border:1px solid #999}.nvtooltip .footer{padding:3px;text-align:center}.nvtooltip-pending-removal{pointer-events:none;display:none}.nvd3 .nv-interactiveGuideLine{pointer-events:none}.nvd3 line.nv-guideline{stroke:#ccc}.nvtooltip{padding:5px 10px;font-family:"Open Sans",sans-serif;font-size:.875rem;text-align:center}.nvtooltip p{margin:0;padding:0}.nvtooltip h3{background:none;border-bottom:0}svg text{font:300 .875rem "Open Sans",sans-serif;fill:#555}svg .title{font:700 1rem "Open Sans",sans-serif}.nvd3.nv-noData{font-size:1.25rem;font-weight:700}.nvd3 .nv-axis path.domain{stroke-opacity:0}.nv-controlsWrap .nv-legend-symbol{fill:#666 !important;stroke:#666 !important}.easy-pie-chart{position:relative;display:inline-block;line-height:120px;height:120px;width:120px;text-align:center;color:#777}.easy-pie-chart canvas{position:absolute;top:0;left:0}.chart-tooltip{position:fixed;padding:5px 10px;border:1px solid #ddd;font-size:13px;background-color:#fff}\n';
},"./src/app/charts/charts.template.html":function(t,e){t.exports='<ol class="breadcrumb">\n  <li class="breadcrumb-item">YOU ARE HERE</li>\n  <li class="breadcrumb-item active">Charts</li>\n</ol>\n<h1 class="page-title">Visual - <span class="fw-semi-bold">Charts</span></h1>\n<div data-ng-controller="ChartsDemoController">\n  <div class="row">\n    <div class="col-lg-6 col-xl-5 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Flot <span class="fw-semi-bold">Charts</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <div class="mt mb" id="flot-main" style="width: 100%; height: 260px;" flot-chart-animator\n               [data] = "[{\n                        label: \'Traffic\',\n                        data: data3,\n                        lines: {\n                            fill: .3,\n                            lineWidth: 0\n                        },\n                        color:[\'#ccc\']\n                    },{\n                        label: \'Traffic\',\n                        data: data2,\n                        lines: {\n                            fill: 0.6,\n                            lineWidth: 0\n                        },\n                        color:[\'#F7653F\']\n                    },{\n                        label: \'Traffic\',\n                        data: data1,\n                        animator: {steps: 60, duration: 1000, start:0},\n                        lines: {lineWidth:2},\n                        shadowSize:0,\n                        color: \'#F7553F\'\n                }]"></div>\n          <div class="chart-tooltip" id="flot-main-tooltip" style="opacity: 0"></div>\n          <p class="fs-mini text-muted">\n            Flot is a <span class="fw-semi-bold">pure</span> JavaScript plotting library for jQuery, with a\n            focus on simple usage, attractive looks and interactive features.\n          </p>\n          <h5 class="mt">Interactive <span class="fw-semi-bold">Sparklines</span></h5>\n          <div class="row mt">\n            <div class="col-md-6 col-xs-12">\n              <div class="stats-row">\n                <div class="stat-item">\n                  <p class="value5 fw-thin">34 567</p>\n                  <h6 class="name text-muted no-margin fs-mini">Overall Values</h6>\n                </div>\n                <div class="stat-item stat-item-mini-chart">\n                  <div class="sparkline" jq-sparkline [data]="[9,12,14,15,10,14,20]" [options] = "{type: \'bar\', barColor: \'#f0b518\', height: \'30px\', barWidth: 6, barSpacing: 2}"></div>\n                </div>\n              </div>\n            </div>\n            <div class="col-md-6 col-xs-12">\n              <div class="stats-row">\n                <div class="stat-item">\n                  <p class="value5 fw-thin">34 567</p>\n                  <h6 class="name text-muted no-margin fs-mini">Overall Values</h6>\n                </div>\n                <div class="stat-item stat-item-mini-chart">\n                  <div class="sparkline" jq-sparkline [data]="[9,12,14,15,10,14,20]" [options] = "{type: \'bar\', barColor: \'#FFA587\', height: \'30px\', barWidth: 6, barSpacing: 2}"></div>\n                </div>\n              </div>\n            </div>\n          </div>\n\n          <p class="fs-mini text-muted">\n            This jQuery plugin generates sparklines (small inline charts) directly in the browser using\n            data supplied either inline in the HTML, or via javascript.\n          </p>\n        </div>\n      </section>\n    </div>\n    <div class="col-lg-6 col-xl-4 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Realtime <span class="fw-semi-bold">Rickshaw</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <p class="fs-mini text-muted mb-lg">\n            Rickshaw provides the elements you need to create interactive graphs: renderers, legends,\n            hovers, range selectors, etc. You put the pieces together.\n            It\'s all based on <span class="fw-semi-bold">d3</span> underneath, so graphs are drawn with standard SVG and styled with CSS.\n            Customize all you like with techniques you already know.\n          </p>\n          <h5>720 Users</h5>\n          <div class="bg-gray-lighter progress-bar">\n            <progress class="progress progress-xs progress-bar-gray-light" value="100" max="100" style="width: 60%"></progress>\n          </div>\n          <p class="fs-mini text-muted mb-lg">\n                            <span class="circle bg-success text-white">\n                                <i class="fa fa-circle"></i>\n                            </span>\n            &nbsp;\n            Target <span class="fw-semi-bold">820</span> users\n            is <span class="fw-semi-bold">96%</span> reached.\n          </p>\n          <div rickshaw-chart [series]="series" [height]="130"\n               [realtime]="true" [random]="random" [seriesData]="seriesData" class="chart-overflow-bottom"></div>\n        </div>\n      </section>\n    </div>\n    <div class="col-lg-6 col-xl-3 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Line <span class="fw-semi-bold">Sparkline</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <p class="fs-mini text-muted">\n            Each example displayed below takes just 1 line of HTML or javascript to generate.\n          </p>\n          <div class="stats-row mt">\n            <div class="stat-item">\n              <h6 class="name">Overall Growth</h6>\n              <p class="value">43.75%</p>\n            </div>\n            <div class="stat-item">\n              <h6 class="name">Montly</h6>\n              <p class="value">86.34%</p>\n            </div>\n          </div>\n          <p class="text-muted fs-mini">\n            <span class="fw-semi-bold">17% higher</span> than last month</p>\n          <div jq-sparkline [data]="sparklineCompositeData" [options]="sparklineCompositeOptions" class="chart-overflow-bottom"></div>\n        </div>\n      </section>\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Sparkline <span class="fw-semi-bold">Pie Charts</span>\n          </h5>\n          <div class="widget-controls">\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <p class="fs-mini text-muted">\n            Each example displayed below takes just 1 line of HTML or javascript to generate.\n          </p>\n          <div jq-sparkline [data]="sparklinePieData" [options]="sparklinePieOptions" class="chart-overflow-bottom mb-0 text-xs-center"></div>\n        </div>\n      </section>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-lg-7 col-xl-8 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            <span class="fw-semi-bold">D3</span> Charts\n          </h5>\n          <div class="widget-controls">\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <p class="fs-mini text-muted">\n            This project is an attempt to build re-usable charts and chart components for <span class="fw-semi-bold">d3.js</span> without\n            taking away the power that d3.js gives you.\n          </p>\n          <div nvd3-chart [chart]="nvd31Chart" [datum]="nvd31Data">\n            <svg></svg>\n          </div>\n        </div>\n      </section>\n    </div>\n    <div class="col-lg-5 col-xl-4 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            <span class="fw-semi-bold">D3</span> Charts\n          </h5>\n          <div class="widget-controls">\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <p class="fs-mini text-muted">\n            This is a very young collection of components, with the goal of keeping these components\n            very customizeable.\n          </p>\n          <div nvd3-chart [chart]="nvd32Chart" [datum]="nvd32Data">\n            <svg></svg>\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-lg-6 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Morris <span class="fw-semi-bold">Area Charts</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <p class="fs-mini text-muted">\n            Good-looking charts shouldn\'t be difficult.\n            The public API is terribly simple. It\'s just one function: <code>Morris.Line(options)</code>,\n            where options is an object containing some of the following configuration options.\n          </p>\n          <div morris-chart [type]="\'area\'" [height]="343" [options]="morris2Options">\n          </div>\n        </div>\n      </section>\n    </div>\n    <div class="col-lg-6 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Morris <span class="fw-semi-bold">Line Charts</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <p class="fs-mini text-muted">\n            Good-looking charts shouldn\'t be difficult.\n            The public API is terribly simple. It\'s just one function: <code>Morris.Line(options)</code>,\n            where options is an object containing some of the following configuration options.\n          </p>\n          <div morris-chart [type]="\'line\'" [height]="343" [options]="morris1Options">\n          </div>\n        </div>\n      </section>\n    </div>\n  </div>\n  <div class="row">\n    <div class="col-lg-6 col-xl-4 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Easy <span class="fw-semi-bold">Pie Charts</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body clearfix">\n          <div class="text-xs-center">\n            <div class="easy-pie-chart mb-lg" data-percent="73">73</div>\n          </div>\n          <p class="fs-mini text-muted">\n            Easy pie chart is a jQuery plugin that uses the canvas element to render simple pie charts\n            for single values. These charts are highly customizable, very easy to implement, scale to\n            the resolution of the display of the client to provide sharp charts even on retina displays.\n          </p>\n        </div>\n      </section>\n    </div>\n    <div class="col-lg-6 col-xl-4 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Morris <span class="fw-semi-bold">Donut Charts</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <div morris-chart [type]="\'donut\'" [height]="180" [options]="morris3Options">\n          </div>\n          <p class="fs-mini text-muted">\n            Donuts a great for representing some parted information like traffice sources,\n            disk partitions, etc.\n            This really couldn\'t be easier. Create a Donut chart using <code>Morris.Donut(options)</code>,\n            with only few options.\n          </p>\n        </div>\n      </section>\n    </div>\n    <div class="col-lg-12 col-xl-4 col-xs-12">\n      <section class="widget" widget>\n        <header>\n          <h5>\n            Flot <span class="fw-semi-bold">Bars</span>\n          </h5>\n          <div class="widget-controls">\n            <a data-widgster="expand" title="Expand" href="#"><i class="glyphicon glyphicon-chevron-up"></i></a>\n            <a data-widgster="collapse" title="Collapse" href="#"><i class="glyphicon glyphicon-chevron-down"></i></a>\n            <a href="#" data-widgster="close"><i class="glyphicon glyphicon-remove"></i></a>\n          </div>\n        </header>\n        <div class="widget-body">\n          <div class="mt-lg" flot-chart\n               [data]="flotBarsData"\n               [options]="flotBarsOptions"\n               style="width: 100%; height: 260px;"></div>\n          <p class="fs-mini text-muted">\n            Flot is a <span class="fw-semi-bold">pure</span> JavaScript plotting library for jQuery, with a\n            focus on simple usage, attractive looks and interactive features.\n          </p>\n        </div>\n      </section>\n    </div>\n  </div>\n</div>\n'},"./src/app/charts/flot-chart-animator/flot-chart-animator.directive.ts":function(t,e,n){"use strict";(function(t){var i=n("./node_modules/@angular/core/index.js"),r=n("./src/app/app.config.ts"),a=function(){function e(e,n){this.config=n.getConfig(),this.$el=t(e.nativeElement)}return e.prototype.render=function(){function e(){t.plotAnimator(i,n,{xaxis:{tickLength:0,tickDecimals:0,min:2,font:{lineHeight:13,weight:"bold",color:r.config.settings.colors["gray-semi-light"]}},yaxis:{tickDecimals:0,tickColor:"#f3f3f3",font:{lineHeight:13,weight:"bold",color:r.config.settings.colors["gray-semi-light"]}},grid:{backgroundColor:{colors:["#fff","#fff"]},borderWidth:1,borderColor:"#f0f0f0",margin:0,minBorderMargin:0,labelMargin:20,hoverable:!0,clickable:!0,mouseActiveRadius:6},legend:!1})}var n=this.data,i=this.$el,r=this;t(window).on("sn:resize",e),e()},e.prototype.ngOnInit=function(){this.render()},__decorate([i.Input(),__metadata("design:type",Object)],e.prototype,"data",void 0),e=__decorate([i.Directive({selector:"[flot-chart-animator]"}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.ElementRef&&i.ElementRef)&&n||Object,"function"==typeof(a="undefined"!=typeof r.AppConfig&&r.AppConfig)&&a||Object])],e);var n,a}();e.FlotChartAnimator=a}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./src/app/components/d3/d3.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js");n("./node_modules/d3/d3.js");var r=function(){function t(){}return t=__decorate([i.NgModule({}),__metadata("design:paramtypes",[])],t)}();e.D3Module=r},"./src/app/components/flot/flot.directive.ts":function(t,e,n){"use strict";(function(t){var i=n("./node_modules/@angular/core/index.js"),r=function(){function e(e){this.$el=t(e.nativeElement)}return e.prototype.render=function(){t.plot(this.$el,this.data,this.options||{series:{lines:{show:!0,lineWidth:1,fill:!1,fillColor:{colors:[{opacity:.001},{opacity:.5}]}},points:{show:!1,fill:!0},shadowSize:0},legend:!1,grid:{show:!1,margin:0,labelMargin:0,axisMargin:0,hoverable:!0,clickable:!0,tickColor:"rgba(255,255,255,1)",borderWidth:0}})},e.prototype.ngOnInit=function(){this.render()},__decorate([i.Input(),__metadata("design:type",Object)],e.prototype,"data",void 0),__decorate([i.Input(),__metadata("design:type",String)],e.prototype,"options",void 0),e=__decorate([i.Directive({selector:"[flot-chart]"}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.ElementRef&&i.ElementRef)&&n||Object])],e);var n}();e.FlotChart=r}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./src/app/components/flot/flot.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js");n("./node_modules/jquery-flot/jquery.flot.js"),n("./node_modules/jquery.flot.animator/jquery.flot.animator.js"),n("./node_modules/jquery-flot/jquery.flot.time.js");var r=n("./src/app/components/flot/flot.directive.ts"),a=function(){function t(){}return t=__decorate([i.NgModule({declarations:[r.FlotChart],exports:[r.FlotChart]}),__metadata("design:paramtypes",[])],t)}();e.FlotChartModule=a},"./src/app/components/morris/morris.directive.ts":function(t,e,n){"use strict";(function(t){var i=n("./node_modules/@angular/core/index.js"),r=function(){function e(e){this.$el=t(e.nativeElement)}return e.prototype.capitalise=function(t){return t.charAt(0).toUpperCase()+t.slice(1).toLowerCase()},e.prototype.render=function(){this.$el.css({height:this.height}),window.Morris[this.capitalise(this.type)](t.extend({element:this.$el[0]},this.options))},e.prototype.ngOnInit=function(){this.render()},__decorate([i.Input(),__metadata("design:type",Number)],e.prototype,"height",void 0),__decorate([i.Input(),__metadata("design:type",String)],e.prototype,"type",void 0),__decorate([i.Input(),__metadata("design:type",Object)],e.prototype,"options",void 0),e=__decorate([i.Directive({selector:"[morris-chart]"}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.ElementRef&&i.ElementRef)&&n||Object])],e);var n}();e.MorrisChart=r}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./src/app/components/morris/morris.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js");n("./node_modules/morris.js/morris.js");var r=n("./src/app/components/morris/morris.directive.ts"),a=function(){function t(){}return t=__decorate([i.NgModule({declarations:[r.MorrisChart],exports:[r.MorrisChart]}),__metadata("design:paramtypes",[])],t)}();e.MorrisChartModule=a},"./src/app/components/nvd3/nvd3.directive.ts":function(t,e,n){"use strict";(function(t,i,r){var a=n("./node_modules/@angular/core/index.js"),o=function(){function e(e){this.$el=t(e.nativeElement)}return e.prototype.render=function(){var e=this;i.addGraph(function(){var n=e.chart;return r.select(e.$el.find("svg")[0]).style("height",e.height||"300px").datum(e.datum).transition().duration(500).call(n),t(window).on("sn:resize",n.update),n})},e.prototype.ngOnInit=function(){this.render()},__decorate([a.Input(),__metadata("design:type",Object)],e.prototype,"chart",void 0),__decorate([a.Input(),__metadata("design:type",String)],e.prototype,"height",void 0),__decorate([a.Input(),__metadata("design:type",Object)],e.prototype,"datum",void 0),e=__decorate([a.Directive({selector:"[nvd3-chart]"}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof a.ElementRef&&a.ElementRef)&&n||Object])],e);var n}();e.Nvd3Chart=o}).call(e,n("./node_modules/jquery/dist/jquery.js"),n("./node_modules/nvd3/build/nv.d3.js"),n("./node_modules/d3/d3.js"))},"./src/app/components/nvd3/nvd3.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js"),r=n("./src/app/components/d3/d3.module.ts");n("./node_modules/nvd3/build/nv.d3.js");var a=n("./src/app/components/nvd3/nvd3.directive.ts"),o=function(){function t(){}return t=__decorate([i.NgModule({imports:[r.D3Module],declarations:[a.Nvd3Chart],exports:[a.Nvd3Chart]}),__metadata("design:paramtypes",[])],t)}();e.Nvd3ChartModule=o},"./src/app/components/rickshaw/rickshaw.directive.ts":function(t,e,n){"use strict";(function(t,i){var r=n("./node_modules/@angular/core/index.js"),a=function(){function e(e){this.$el=t(e.nativeElement)}return e.prototype.render=function(){var e=this,n=new i.Graph({element:this.$el[0],height:this.height,renderer:this.renderer||"area",series:this.series}),r=function(){var i=t.extend({height:e.height},e.configureProps);n.configure(i),n.render(),e.$el.find("svg").css({height:e.height,width:"100%"})};t(window).on("sn:resize",r),r();new i.Graph.HoverDetail({graph:n,xFormatter:function(t){return new Date(1e3*t).toString()}});this.realtime&&setInterval(function(){e.random.removeData(e.seriesData),e.random.addData(e.seriesData),n.update()},1e3)},e.prototype.ngOnInit=function(){this.render()},__decorate([r.Input(),__metadata("design:type",String)],e.prototype,"height",void 0),__decorate([r.Input(),__metadata("design:type",Object)],e.prototype,"series",void 0),__decorate([r.Input(),__metadata("design:type",Object)],e.prototype,"seriesData",void 0),__decorate([r.Input(),__metadata("design:type",Object)],e.prototype,"random",void 0),__decorate([r.Input(),__metadata("design:type",Object)],e.prototype,"configureProps",void 0),__decorate([r.Input(),__metadata("design:type",Boolean)],e.prototype,"realtime",void 0),__decorate([r.Input(),__metadata("design:type",String)],e.prototype,"renderer",void 0),e=__decorate([r.Directive({selector:"[rickshaw-chart]"}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof r.ElementRef&&r.ElementRef)&&n||Object])],e);var n}();e.RickshawChart=a}).call(e,n("./node_modules/jquery/dist/jquery.js"),n("./node_modules/rickshaw/rickshaw.js"))},"./src/app/components/rickshaw/rickshaw.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js"),r=n("./src/app/components/d3/d3.module.ts");n("./node_modules/rickshaw/rickshaw.js");var a=n("./src/app/components/rickshaw/rickshaw.directive.ts"),o=function(){function t(){}return t=__decorate([i.NgModule({imports:[r.D3Module],declarations:[a.RickshawChart],exports:[a.RickshawChart]}),__metadata("design:paramtypes",[])],t)}();e.RickshawChartModule=o},"./src/app/components/sparkline/sparkline.directive.ts":function(t,e,n){"use strict";(function(t){var i=n("./node_modules/@angular/core/index.js"),r=function(){function e(e){this.$el=t(e.nativeElement)}return e.prototype.render=function(){var e=this,n="string"===t.type(this.data)?this.data.replace(/(^,)|(,$)/g,""):this.data,i=this.options;if("array"===t.type(n)&&"array"===t.type(i))i.forEach(function(i,r){0===r?e.$el.sparkline(n[r],i):e.$el.sparkline(n[r],t.extend({composite:!0},i))});else{var r;r="array"===t.type(n)?n:n.split(","),t(window).on("sn:resize",function(){e.$el.sparkline(r,i)}),this.$el.sparkline(r,i)}},e.prototype.ngOnInit=function(){this.render()},__decorate([i.Input(),__metadata("design:type",Object)],e.prototype,"data",void 0),__decorate([i.Input(),__metadata("design:type",Object)],e.prototype,"options",void 0),e=__decorate([i.Directive({selector:"[jq-sparkline]"}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.ElementRef&&i.ElementRef)&&n||Object])],e);var n}();e.JqSparkline=r}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./src/app/components/sparkline/sparkline.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js");n("./node_modules/jquery-sparkline/jquery.sparkline.js");var r=n("./src/app/components/sparkline/sparkline.directive.ts"),a=function(){function t(){}return t=__decorate([i.NgModule({declarations:[r.JqSparkline],exports:[r.JqSparkline]}),__metadata("design:paramtypes",[])],t)}();e.JqSparklineModule=a},"./src/app/layout/widget/widget.directive.ts":function(t,e,n){"use strict";(function(t){var i=n("./node_modules/@angular/core/index.js"),r=function(){function e(e){this.$el=t(e.nativeElement),t.fn.widgster.Constructor.DEFAULTS.bodySelector=".widget-body",t(document).on("close.widgster",function(e){var n=t(e.target).closest('.content > .row > [class*="col-"]:not(.widget-container)');n.find(".widget").not(e.target).length||n.remove()})}return e.prototype.ngOnInit=function(){this.$el.widgster()},e=__decorate([i.Directive({selector:"[widget]"}),__metadata("design:paramtypes",["function"==typeof(n="undefined"!=typeof i.ElementRef&&i.ElementRef)&&n||Object])],e);var n}();e.Widget=r}).call(e,n("./node_modules/jquery/dist/jquery.js"))},"./src/app/layout/widget/widget.module.ts":function(t,e,n){"use strict";var i=n("./node_modules/@angular/core/index.js"),r=n("./node_modules/@angular/common/index.js"),a=n("./src/app/layout/widget/widget.directive.ts"),o=function(){function t(){}return t=__decorate([i.NgModule({imports:[r.CommonModule],declarations:[a.Widget],exports:[a.Widget]}),__metadata("design:paramtypes",[])],t)}();e.WidgetModule=o}});
//# sourceMappingURL=4.map